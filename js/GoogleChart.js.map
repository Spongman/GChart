{"version":3,"sources":["Global.ts","com/google/i18n/locale/DateTimeLocale.ts","flash/utils/Timer.ts","mx/utils/NameUtil.ts","flash/display/DisplayObject.ts","flash/display/InteractiveObject.ts","flash/display/DisplayObjectContainer.ts","flash/display/Sprite.ts","com/google/finance/AbstractLayer.ts","com/google/finance/AbstractDrawingLayer.ts","com/google/finance/LineChartLayer.ts","com/google/finance/AHLineChartLayer.ts","com/google/finance/VolumeLinesChartLayer.ts","com/google/finance/AHVolumeLayer.ts","com/google/finance/AnimationManager.ts","com/google/finance/BorderLayer.ts","com/google/finance/BottomBarLayer.ts","com/google/finance/Bounds.ts","com/google/finance/IntervalBasedChartLayer.ts","com/google/finance/IntervalBasedBarChartLayer.ts","com/google/finance/CandleStickChartLayer.ts","com/google/finance/ChartEvent.ts","com/google/finance/Console.ts","com/google/finance/Messages.ts","com/google/finance/Const.ts","com/google/finance/Controller.ts","flash/display/Bitmap.ts","com/google/finance/Controller_ExpandIcon.ts","com/google/finance/Controller_ShrinkIcon.ts","com/google/finance/DataManager.ts","com/google/finance/DataRequestHandler.ts","com/google/finance/DataSeries.ts","com/google/finance/DataSource.ts","com/google/finance/DataUnit.ts","com/google/finance/DateLinesLayer.ts","flash/text/TextField.ts","com/google/finance/DateTextField.ts","com/google/finance/DisplayManager.ts","com/google/finance/StockAssociatedObject.ts","com/google/finance/Dividend.ts","com/google/finance/SplitMovie_SplitArrowClass.ts","com/google/finance/SplitMovie_SplitArrowSidewaysClass.ts","com/google/finance/SplitMovie_SplitArrowSidewaysOverClass.ts","com/google/finance/SplitMovie_SplitArrowOnOverClass.ts","com/google/finance/SplitMovie.ts","com/google/finance/DividendMovie_DividendArrowClass.ts","com/google/finance/DividendMovie_DividendArrowOnOverClass.ts","com/google/finance/DividendMovie_DividendArrowSidewaysClass.ts","com/google/finance/DividendMovie_DividendArrowSidewaysOverClass.ts","com/google/finance/DividendMovie.ts","com/google/finance/DraggableHandle.ts","com/google/finance/EventFactory.ts","com/google/finance/GVizFormatConverter.ts","com/google/finance/IndependentObjectsLayer.ts","com/google/finance/Indicator.ts","com/google/finance/InfoDot.ts","com/google/finance/IntervalBasedAHChartLayer.ts","com/google/finance/IntervalBasedVolumeLayer.ts","com/google/finance/IntervalBasedAHVolumeLayer.ts","com/google/finance/IntervalBasedChartManagerLayer.ts","com/google/finance/IntervalBasedIndependentObjectsLayer.ts","com/google/finance/IntervalBasedLineChartLayer.ts","com/google/finance/IntervalBasedPinPointsLayer.ts","com/google/finance/IntervalSet.ts","com/google/finance/JSProxy.ts","com/google/finance/LastDayLineLayer.ts","com/google/finance/LayersManager.ts","com/google/finance/LoadingMessage.ts","com/google/finance/MainManager.ts","com/google/finance/StartEndPair.ts","com/google/finance/MarketSessionPair.ts","com/google/finance/MouseCursor.ts","com/google/finance/MouseCursor_CursorClosedHand.ts","com/google/finance/MouseCursor_CursorHorizontalArrows.ts","com/google/finance/MouseCursor_CursorOpenedHand.ts","com/google/finance/NoDataAvailableLayer.ts","com/google/finance/OhlcChartLayer.ts","com/google/finance/PinPointMovie.ts","com/google/finance/OrangePinPointMovie.ts","com/google/finance/OrangePinPointMovie_LocalExtraFlagBorder.ts","com/google/finance/OrangePinPointMovie_LocalFlagActiveImg.ts","com/google/finance/OrangePinPointMovie_LocalFlagImg.ts","com/google/finance/OrangePinPointMovie_LocalFlagOverImg.ts","com/google/finance/OrangePinPointMovie_LocalFlagPoleImg.ts","com/google/finance/PassiveLineLayer.ts","com/google/finance/PercentLineChartLayer.ts","com/google/finance/PriceLinesLayer.ts","com/google/finance/PercentLinesLayer.ts","com/google/finance/PinPoint.ts","com/google/finance/PinPointContentMovie.ts","com/google/finance/PinPointContentMovie_BubbleCloseButton.ts","com/google/finance/PinPointMovie_LocalExtraFlagBorder.ts","com/google/finance/PinPointMovie_LocalFlagActiveImg.ts","com/google/finance/PinPointMovie_LocalFlagImg.ts","com/google/finance/PinPointMovie_LocalFlagOverImg.ts","com/google/finance/PinPointMovie_LocalFlagPoleImg.ts","com/google/finance/PinPointsLayer.ts","com/google/finance/PrecalculatedPercentLineChartLayer.ts","com/google/finance/ScrollSlider_ScrollBarGrip.ts","com/google/finance/ScrollSlider_ScrollBarBg.ts","com/google/finance/ScrollSlider.ts","com/google/finance/SpaceText.ts","com/google/finance/SparklineDateLinesLayer.ts","com/google/finance/SparklineLayer.ts","com/google/finance/ViewPoint.ts","com/google/finance/SparklineViewPoint.ts","com/google/finance/SparklineViewPoint_ScrollbarButtonLeft.ts","com/google/finance/SparklineViewPoint_ScrollbarButtonRight.ts","com/google/finance/Split.ts","com/google/finance/StockDividend.ts","com/google/finance/StockDividendMovie_DividendArrowSidewaysClass.ts","com/google/finance/StockDividendMovie_DividendArrowOnOverClass.ts","com/google/finance/StockDividendMovie_DividendArrowClass.ts","com/google/finance/StockDividendMovie_DividendArrowSidewaysOverClass.ts","com/google/finance/StockDividendMovie.ts","com/google/finance/ToolTipMovie.ts","com/google/finance/Utils.ts","com/google/finance/VolumeCalculator.ts","com/google/finance/VolumeScaleLayer.ts","com/google/finance/WindowLayer_SparkHandle.ts","com/google/finance/WindowLayer_ScrollBarBg.ts","com/google/finance/WindowLayer_SparkHandleActive.ts","com/google/finance/WindowLayer.ts","com/google/finance/indicator/IndicatorLayer.ts","com/google/finance/indicator/IndependentIndicatorLayer.ts","com/google/finance/indicator/AbstractStochasticIndicatorLayer.ts","com/google/finance/indicator/BIASIndicatorLayer.ts","com/google/finance/indicator/DependentIndicatorLayer.ts","com/google/finance/indicator/BollingerBandsIndicatorLayer.ts","com/google/finance/indicator/CCIIndicatorLayer.ts","com/google/finance/indicator/SMAIndicatorLayer.ts","com/google/finance/indicator/EMAIndicatorLayer.ts","com/google/finance/indicator/FastStochasticIndicatorLayer.ts","com/google/finance/indicator/IndicatorLineStyle.ts","com/google/finance/indicator/IndicatorPoint.ts","com/google/finance/indicator/KDJIndicatorLayer.ts","com/google/finance/indicator/MACDIndicatorLayer.ts","com/google/finance/indicator/RSIIndicatorLayer.ts","com/google/finance/indicator/SlowStochasticIndicatorLayer.ts","com/google/finance/indicator/VolumeDependentIndicatorLayer.ts","com/google/finance/indicator/VMAIndicatorLayer.ts","com/google/finance/indicator/WilliamsPercentRIndicatorLayer.ts","com/google/finance/ui/ButtonsGroup.ts","com/google/finance/ui/TextButtonsGroup.ts","com/google/i18n/locale/DateTimeConstants.ts","com/google/i18n/locale/DateTimeFormat.ts","flash/display/Graphics.ts","flash/display/LoaderInfo.ts","flash/display/SimpleButton.ts","flash/display/Stage.ts","flash/events/EventDispatcher.ts","flash/external/ExternalInterface.ts","flash/net/URLLoader.ts"],"names":["Events","MouseEvents","KeyboardEvents","TimerEvents","IOErrorEvents","SecurityErrorEvents","com","flash","mx","addGetter","theType","name","getter","Object","defineProperty","prototype","get","enumerable","configurable","cssColor","n","alpha","s","Math","floor","toString","substr","length","a","assert","cond","getDefinitionByName","container","window","_i","parts_1","split","getClassName","obj","constructor","getTimer","Date","now","notnull","value","Error","parseQueryString","str","result","pairs_1","parts","decodeURIComponent","offsetOf","elt","curleft","curtop","offsetLeft","offsetTop","offsetParent","left","top","getUTCDate","getUTCMonth","getUTCFullYear","getDate","getMonth","getFullYear","COMPLETE","RESIZE","CLICK","MOUSE_DOWN","MOUSE_MOVE","MOUSE_OUT","MOUSE_OVER","MOUSE_UP","ROLL_OUT","ROLL_OVER","MOUSE_WHEEL","MOUSE_LEAVE","KEY_DOWN","KEY_UP","TIMER","IO_ERROR","SECURITY_ERROR","display","DisplayObject","element","this","_x","_y","displayObject","parentElement","classList","add","document","body","appendChild","setAttribute","_graphics","Graphics","_stage","style","offsetWidth","offsetHeight","visibility","parent","mouseX","mouseY","addEventListener","e","f","removeEventListener","eventType","listener","useCapture","hitTestPoint","x","y","shapeFlag","pt","globalToLocal","Point","width","height","point","node","Shape","_super","__extends","InteractiveObject","_this","call","contains","toggle","DisplayObjectContainer","apply","arguments","children","_a","stage","prepareChild","child","removeChild","childElement","remove","addChild","push","addChildAt","index","childBefore","splice","insertBefore","removeChildAt","getChildIndex","i","getChildAt","indexOf","swapChildrenAt","i1","i2","child1","child2","_width","w","_height","h","Rectangle","Sprite","createElement","google","finance","AbstractLayer","viewPoint","dataSource","drawVerticalLine","color","bottom","tickHeight","tickPosition","param9","gr","graphics","moveTo","TickPositions","BOTTOM","lineStyle","lineTo","Const","BOTTOM_TICK_COLOR","TOP","TOP_TICK_COLOR","renderLayer","context","getDataSeries","data","AbstractDrawingLayer","getContext","param2","getBarWidth","detailLevel","dataSeries","numDays","Intervals","WEEKLY","marketDayLength","DAILY","getDetailLevelInterval","count","BAR_WIDTH_RATIO","minutePix","clearHighlight","getWeeklyBarXPos","dataUnit","xPos","getXPos","weeklyXPos","getOldestMinute","getFirstRelativeMinute","getLastRealPointIndex","dataUnits","Boolean","MainManager","paramsObj","hasExtendedHours","relativeMinutes","Utils","highlightPoint","state","getNewestMinute","getLastRelativeMinute","LineChartLayer","localYOffset","localYScale","highlightCanvas","drawWeeklyLine","sprite","param3","skipInterval","getSkipInterval","nextDayStart","getNextDayStart","_loc9_","fridays","days","skip","min","unit","units","drawLineToDataUnit","Number","getAvg_","param1","param4","_loc7_","_loc5_","_loc6_","_loc8_","getRelativeMinuteIndex","_loc10_","realLIndex","realRIndex","vp","maxx","minx","getDetailLevel","loop3","INTRADAY","dayAvg","getDayAvg","sum","cnt","prevDayStart","getPrevDayStart","_loc15_","_loc16_","getCloseLogValue","_loc19_","_loc20_","checkMinMax","unitIndex","param5","param7","_loc11_","dayMinute","marketCloseMinute","closeLogValue","_loc13_","_loc14_","INTRADAY_INTERVAL","POINTS_DISTANCE","minPrice","maxPrice","computeMaxRange2","computeMaximizedMaxRange","normalizeMedPrice","minMaxMedPrice","medPrice","getPrevOrNextClosestToX","minuteXPos1","getMinuteXPos","minuteXPos2","abs","drawDayLine","xPos3","getYPos","sessionIndex","getSessionIndex","max","_loc17_","fake","maxy","lineThickness","lineColor","lineVisibility","_loc21_","minutes","xPos2","yPos2","SpaceText","SETTER_STR","getPoint","minuteXPos","yPos","lastHighlightX","lastHighlightY","DOT_COLOR","POINT_STR","EXTRA_TEXT_STR","getMediumPrice","relativeMinuteIndex","etCloseLogValue","drawLine","_loc12_","verticalScaling","price","points","clear","lastMinuteIndex","getLastMinute","firstMinuteIndex","getFirstMinute","LINE_CHART_LINE_THICKNESS","LINE_CHART_LINE_COLOR","LINE_CHART_LINE_VISIBILITY","beginFill","LINE_CHART_FILL_COLOR","LINE_CHART_FILL_VISIBILITY","miny","medPriceY","V_OFFSET","maxPriceRangeViewSize","maxPriceRange","endFill","getPointIndex","minute","getMinuteOfX","minuteIndex","interval","DAILY_INTERVAL","nextWeekEnd","getNextWeekEnd","lastMinute","getLogScaledValue","lowerBound","maxRangeLowerBound","extendedMin","upperBound","maxRangeUpperBound","extendedMax","LOG_VSCALE","NEW_LOG_VSCALE","range","close","low","high","DEFAULT_MAX_RANGE","AHLineChartLayer","time","visibleSessionsTimes","getIntervalForValue","DataSource","getTimeIndex","end","start","afterHoursData","getVisibleSessionsTimes","intervalSet","IntervalSet","visibleExtendedHours","intervalIndex","getIntervalAt","startUnit","endUnit","ViewPoint","sessionVisible","addInterval","computeMaxRange","POSITIVE_INFINITY","computeSessionMinMaxPrice","startTime","endTime","startTimeIndex","endTimeIndex","timeIndex","firstRelativeMinute","mediumPrice","regionsXLimits","drawAfterHoursSession","AH_DOT_COLOR","getSessionDisplayNameForMinute","layer","intradayInterval","timeIndex1","timeIndex2","right","ECN_LINE_CHART_FILL_COLOR","ECN_LINE_CHART_FILL_VISIBILITY","ECN_LINE_CHART_LINE_THICKNESS","ECN_LINE_CHART_LINE_COLOR","ECN_LINE_CHART_LINE_VISIBILITY","intradayWidth","VolumeLinesChartLayer","maxVolume","verticalScale","dayIndex","param6","param8","intervalLength","getIntervalLength","volume","setIndicator","indicatorName","computer","indicators","Indicator","indicator","clearAllOnAddData","originalDataSeries","indicatorPoint","isNaN","pointIndex","firstMinute","lastReferencePointIndex","getReferencePointIndex","firstReferencePointIndex","drawLines","drawOneLine","referencePointIndex","nextPoint","pointX","nextPointX","getMaxVolume","NaN","undefined","scaleIndex","VOLUME_SCALES","layersContext","firstReferencePoint","getFirstReferencePoint","lastReferencePoint","getLastReferencePoint","firstMinuteXPos","lastMinuteXPos","VOLUME_HIGHLIGHT_COLOR","VOLUME_STR","AHVolumeLayer","maxVolumeCache","getMaxVolumeHashKey","containsValue","startEndPair","startUnits","endUnits","maxVolumeHashKey","AnimationManager","stepCount","amount","animate","lfunctions","displayObjects","lobjects","opt_stepCount","opt_pinClicked","MAX_STEPS","stopAnimation","intervalId","setInterval","functionIndex","ANIMATION_FRAME_LENGTH_MS","j","clearInterval","isAnimating","BorderLayer","displayManager","topViewPoint","update","borderLayer","windowLayer","leftHandle","rightHandle","handleLeftX","getHandleLeftX","handleRightX","getHandleRightX","MOVIE_HEIGHT","scrollSlider","SPARKLINE_HEIGHT","SPARK_PADDING","BORDER_LINE_COLOR","BORDER_LINE_OPACITY","SCROLL_HEIGHT","MOVIE_WIDTH","BORDER_SHADOW_COLOR","INDICATOR_ENABLED","HORIZONTAL_LINE_COLOR","renderedViewPointIndex","getViewPoints","INDEPENDENT_INDICATOR_NAMES","BOTTOM_VIEW_POINT_NAME","TECHNICAL_INDICATOR_HEIGHT","BottomBarLayer","bottomTextHeight","drawRectangle","x1","y1","x2","y2","drawRect","TEXT_BACKGROUND_COLOR","Bounds","containsPoint","append","bounds","equals","otherBounds","IntervalBasedChartLayer","setEnabled","getCloseYPos","getLayerName","layerName","getPointsForCurrentDetailLevel","getDetailLevelForTechnicalStyle","detailLevelInterval","getPointsInIntervalArray","shouldDisplayOhlcText","enabledChartLayer","getDisplayManager","getEnabledChartLayer","CANDLE_STICK","OHLC_CHART","open","getOhlcYPos","closeY","openY","getOpenLogValue","highY","getHighLogValue","lowY","getLowLogValue","getOhlcBasePrice","dataUnit1","dataUnit2","isZhLocale","i18n","locale","DateTimeLocale","getLocale","getCandleStickColor","POSITIVE_DIFFERENCE_COLOR","NEGATIVE_DIFFERENCE_COLOR","isEnabled","enabled","_loc4_","LINE_CHART","_loc22_","setLayerName","findPointIndex","duplicate","closeYPos","OHLC_INFO_FLAG_STR","OHLC_BASE_PRICE_STR","getOhlcColor","visible","IntervalBasedBarChartLayer","barWidth","MAX_VALUE","minuteIsStartOfDataSession","drawBarAtDataUnit","CandleStickChartLayer","ohlcYPos","candleStickColor","top_1","ChartEventTypes","ChartEventPriorities","ChartEvent","type","GENERIC","getEventName","period","eventName","quote","Console","mainManager","loading","LoadingMessage","pendingLoadings","debug","t","text","TextField","println","appendText","dataLoading","positionLoadingMessage","mainViewPoint","getMainViewPoint","stageWidth","BORDER_WIDTH","dataLoaded","Messages","Message","getMsg","msg","rest","MESSAGES","concat","join","QuoteTypes","ScaleTypes","AddStreamResults","Orientations","Directions","ChartDetailTypes","ControllerComponents","Snaps","IntervalPeriod","maxdays","mindays","logtext","ScaleInterval","months","DETAIL_LEVEL_INFO","getIntervalDetailLevel","INTERVAL_INFO","getZoomLevel","scaleIntervals","SCALE_INTERVALS","scaleIntervalIndex","getQuoteType","CURRENCY_PREFIX","CURRENCY","PORTFOLIO_PREFIX","PORTFOLIO","BACKTESTING_PREFIX","BACKTESTING","search","MUTUAL_FUND_PREFIX","MUTUAL_FUND","QUERY_INDEX_PREFIX","QUERY_INDEX","COMPANY","getDefaultDisplayDays","DEFAULT_DISPLAY_MINUTES","dayLength","MARKET_DAY_LENGTH","DEFAULT_DISPLAY_DAYS","ZH_CN_LOCALE","ZH_HK_LOCALE","ZH_TW_LOCALE","APPLY_CHINESE_STYLE_MACD","CHART_TYPE_BUTTONS_ENABLED","DISPLAY_DIVIDENDS_UNITS","DISPLAY_NEWS_PINS","ENABLE_COMPACT_FLAGS","ENABLE_CUSTOM_DATE_ENTRY","EXPAND_BUTTON_ENABLED","INFO_TEXT_ALIGN","INFO_TEXT_TOP_PADDING","MIN_DISPLAY_DAYS","RANGE_TEXT_COLOR","ACTIVE","AFTER_HOURS_DISPLAY_NAME","AFTER_HOURS_NAME","AH_VOLUME_LAYER","BIAS","BollingerBands","BOTTOM_VIEW_POINT","BOTTOM_VIEWPOINT_HEADER_HEIGHT","CCI","COLOR_BLUE","COLOR_GREEN","COLOR_PINK","COLOR_RED","COLOR_YELLOW","COWBELL_THEME","DAILY_DAYS","DATA_DELIMITER","DATE_DEFAULT_BORDER_COLOR","DATE_HIGHLIGHTED_BACKGROUND_COLOR","DATE_HIGHLIGHTED_BORDER_COLOR","DAY_LINE_ALPHA","DAY_LINE_COLOR","DAY_PER_WEEK","DAYS","DEFAULT_FLAG_HEIGHT","DEFAULT_LAST_MARKET_WEEKDAY","DEFAULT_P","DEFAULT_Q","DEFAULT_WEEKDAY_BITMAP","DIF_MKT_COMPARISON_MIN_DISPLAY_DAYS","DYNAMIC","EMA","FastStochastic","FIVE_MINUTE_DAYS","FIVE_MINUTE_INTERVAL","FIXED_VSCALE","FORMAT_COMPACT","FORMAT_EPOCH","HALF_HOUR_DAYS","HALF_HOUR_INTERVAL","HORIZONTAL_GRID_COLOR","HOUR_LINE_ALPHA","HOUR_LINE_COLOR","INACTIVE","INTRADAY_DAYS","KDJ","LAST_DAY_CLOSE_LINE_COLOR","LINEAR_VSCALE","LOADING_WIDTH","LOG_SCALE","LOG_SCALE_LOG","LN10","MACD","MAIN_VIEW_POINT","MAIN_VIEW_POINT_NAME","MARKET_CLOSE_MINUTE","MARKET_OPEN_MINUTE","MAX_RELOAD_TRIES","MAX_VSCALE","MIN_DAY_WIDTH_FOR_INTRADAY","MIN_FLAG_DISTANCE","MIN_PER_DAY","MNTS","MS_PER_DAY","MS_PER_MINUTE","NO_BUTTON_TEXT","NORMAL_THEME","PAGE_LEFT_BUTTON","PAGE_RIGHT_BUTTON","PASSIVE_LINE_LAYER","PRE_MARKET_DISPLAY_NAME","PRE_MARKET_NAME","PRICE_SCALE","REALTIME_CHART_POLLING_INTERVAL","REALTIME_CHART_POLLING_MARGIN","REGULAR_MARKET_DISPLAY_NAME","REGULAR_MARKET_NAME","RSI","SCALE_BUTTON_HEIGHT","SCALE_BUTTON_WIDTH","SEC_PER_MINUTE","SELECTING_FILL_COLOR","SELECTING_LINE_COLOR","SHOW_SPARKLINE","SlowStochastic","SMA","SPACE_HEIGHT","SPARKLINE_VIEW_POINT_NAME","STATIC","TOP_VIEW_POINT","VMA","VOLUME_CHART","VOLUME_INDICATOR_NAME","VOLUME_SCALE","WEEKDAY_PER_WEEK","WEEKLY_INTERVAL","WilliamsPercentR","WINDOW_LAYER","YEAR_2000","YSCALE_INTERVALS","ZERO_PERCENT_LINE_COLOR","REALTIME_CHART_ENABLED","SHRINK_BUTTON_ENABLED","SPARK_ACTIVE_FILL_COLOR","SPARK_ACTIVE_LINE_COLOR","SPARK_INACTIVE_FILL_COLOR","SPARK_INACTIVE_LINE_COLOR","VOLUME_PLUS_ENABLED","INDICATOR_PARAMETERS","shortPeriod","longPeriod","emaPeriod","kPeriod","dPeriod","SCALE_MAX","ZOOM_ALL","SCALE_10Y","ZOOM_10Y","SCALE_5Y","ZOOM_5Y","SCALE_1Y","ZOOM_1Y","SCALE_YTD","ZOOM_YTD","SCALE_6M","ZOOM_6M","SCALE_3M","ZOOM_3M","SCALE_1M","ZOOM_1M","SCALE_5D","ZOOM_5D","SCALE_3D","SCALE_1D","ZOOM_1D","CHART_STYLE_NAMES","OHLC_DEPENDENT_INDICATOR_NAMES","DETAIL_LEVELS","FIVE_MINUTES","HALF_HOUR","VOLUME_DEPENDENT_INDICATOR_NAMES","DEPENDENT_INDICATOR_NAMES","VOLUME_PLUS_CHART_TYPE","INTERVAL_PERIODS","INTERVAL_2_MINUTES","INTERVAL_5_MINUTES","INTERVAL_30_MINUTES","INTERVAL_DAILY","INTERVAL_WEEKLY","DEFAULT_D","DEFAULT_I","DEFAULT_CHART_STYLE_NAME","_staticConstructor","ControllerStates","Controller","PAGING_AREA_WIDTH","BUTTON_MOVEBY_AMOUNT","MIN_PIXELS","SHIFT_DOWN","CTRL_DOWN","pagingAmount","aniManager","holderBounds","NOTHING","cumulativeXOffset","controlledAreaBounds","listeners","isZh","mouseEnabled","buttonTextFormat","TextFormat","underline","promotedButtonTextFormat","selectedTextFormat","windowTitleTextFormat","bold","separatorTextFormat","createChartTypeButtons","createZoomButtons","createIntervalButtons","enableZoomButtons","createChartSizeChangeButton","currentZoomLevel","getInitialZoomLevel","movePage","direction","notifyListenersToMove","INVALID","showExpand","chartSizeChangeToolTip","chartSizeChangeButton","SimpleButton","buttonBitmap","Controller_ExpandIcon","Controller_ShrinkIcon","overState","downState","hitTestState","upState","useHandCursor","ToolTipMovie","event","mouseCursor","setCursor","MouseCursors","CLASSIC","lockOnDisplayObject","renderMovie","LARGE_CHART","SMALL_CHART","cleanupPending","unlock","clearMovie","jsProxy","expandChart","shrinkChart","applyLastOrDefaultInterval","lastIntervalLevel","enableIntervalButtons","currentIntervalLevel","animateTo","lastLastMinutes","lastCount","checkEvents","onMouseMove","mouseEvent","setMouse","pageX","pageY","timer","lastMouseMoveTime","mouseMoveAction","removeControlListener","sprites","listenerIndex","triggerMouseMoveAction","MouseEvent","getCountForDays","endOfDayDataUnit","getEndOfDayDataUnitFor","minuteMetaIndex","getMinuteMetaIndex","compareUtcDates","exchangeDateInUTC","getSessionLength","coveredDays","moveListenersByOffsets","sparklineViewPoint","getSparklineViewPoint","getWidth","sparkCount","moveSparklineBy_Handler","baseXOffset","changeListenersOffset","handleMouseWheel","delta","distance","zoomStuff","FORWARD","BACKWARD","notifyHtmlIntervalId","listenersNotifyHtml","bind","NOTIFY_TIMEOUT","hitTestInsideBounds","checkSparklinePositioning","leftX","getLeftX","rightX","getRightX","firstDataSource","layersManager","getFirstDataSource","sparkLastMinute","getSparkLastMinute","sparkFirstMinute","getSparkFirstMinute","tFirstRelativeMinute","commitSparklineOffset_Handler","setNewFinalState","viewPointState","newFinalAnimationState","jumpTo","Context","zoomingAnimation_init","zoomingAnimation_ticker","topBorderLayer","chartTypeButtonClicked","setJsChartType","chartTypeNameMapping","onMouseUp","mouseUpAction","syncZoomLevel","SCROLLING","isDifferentMarketSessionComparison","zoomLevelFinalState","getZoomLevelFinalState","chartTypeText","autoSize","TextFieldAutoSize","LEFT","defaultTextFormat","TYPE","selectable","chartTypeButtons","ui","TextButtonsGroup","setSpacing","setTextFormats","spacing","addButton","LINE","CANDLESTICK","selectButtonByIndex","addListener","SELECTING","drawSquare","initialXMouse","initialYMouse","DRAGGING","showContextualStaticInfo","spaceText","setPointInfo","highlightPoints","OPENED_HAND","target","button","clearAllHighlights","bg","toggleHandles","DRAGGING_SPARKLINE","CLOSED_HAND","scrollMouseMinX","scrollMouseMaxX","addXOffset","intId","stopContinuousPaging","DRAGGING_LEFT_HANDLE","H_ARROWS","initialX","leftHandleXOffset","setTimePeriod","DRAGGING_RIGHT_HANDLE","rightHandleXOffset","addControlListener","getButtonsWidth","zoomButtons","intervalButtons","HTMLnotify","shouldRequestAfterHoursData","intervalText","INTERVAL","intervalPeriods_1","intervalPeriod","intervalButtonClicked","getNewContext","zoomInMinutes_Handler","adjustCountForAfterHours","startInterval","endInterval","hiddenExtendedHours","resetZoomButtons","clearSelection","resetButtonsGroup","zoomButtonClicked","computeHolderBounds","clearCurrentInterval","clearCurrentZoom","initPollingTimer","isMarketOpen","isMarketOpenState","stateRemainingMinutes","delayedMinutes","pollingTimer","utils","Timer","Stage","pollingTimerHandler","onMouseLeave","setChartFocus","zoomIn_Handler","ZOOMING_OUT","PRESSING_LEFT","PRESSING_RIGHT","PRESSING_PAGE_RIGHT","PRESSING_PAGE_LEFT","commitListenersOffset","_b","_c","handleReleased","WINDOW","_d","viewPoints_1","MouseCursor","DRAGGABLE_CURSOR","viewPoints_2","clearPointInformation","moveSparkline","isEmpty","logZoomButtonClick","animateToLevel","controller","sparklinePagingPossible","findBestFitDetailLevel","isFitDetailLevel","replaceBounds","boundsIndex","getBoundsIndex","commitOffset_Handler","getCustomScaleZoomLevel","startDate","endDate","firstTimeIndex","getTime","lastRelativeMinute","setMinDisplayDays","minDisplayDays","endOfDayMinute","countForDays","zoomText","timerEvent","marketOpenMinute","newMarketState","getNewMarketState","hasPointsInIntervalArray","shouldRequestRegularMarketData","event_1","EventFactory","getEvent","GET_RT_DATA","quoteName","POLLING","dataManager","eventHandler","event_2","GET_RT_AH_DATA","stop","updateChartSizeChangeButtonPosition","toggleZoomIntervalButtons","firstOpenRelativeMinutes","displayExtendedHours","dBestFitDetailLevel","addBounds","ZOOM","onKeyDown","keyboardEvent","ctrlKey","shiftKey","charCode","charCodeAt","setParameter","keyCode","onMouseDown","isDateFieldClicked","resetInfoText","mouseDownAction","onKeyUp","removeAllBounds","animateToCustomLevel","customZoomStartDate","customZoomEndDate","SCALE_CUSTOM","intervalPeriods","logIntervalButtonClick","toggleAllAfterHoursSessions","setJsCurrentViewParam","pointInfo","viewPoints_3","getState","customScaleZoomLevel","date","setMonth","setDate","getOldestBaseMinute","getLastDataUnit","getStyle","LayersManager","SINGLE","zoomChart_Handler","moveChartBy_Handler","initEventListeners","controllerComponent","SCROLL_BAR","SCROLL_BG","LEFT_BUTTON","RIGHT_BUTTON","LEFT_HANDLE","RIGHT_HANDLE","BitmapData","Bitmap","onload","naturalWidth","naturalHeight","src","scrollWidth","scrollHeight","DataManager","dataSources","addObject","object","_quote","expectEvent","chartEvent","checkDataSourceExistance","markEvent","EXPECTED","syncDataSources","otherDataSources","keys","dataSourceName","hasPendingEvents","otherData","numOtherDays","otherUnits","_loc3_","cloneDataUnitForTargetExchange","otherDataSources_1","data2","otherDataSource","day","preCalculate","computeRelativeTimes","otherDataSources_2","sortObjects","ticker","priority","GET_DATA","GET_AH_DATA","GET_MUTF_DATA","getQuoteData","url","stickyArgs","selectObject","quoteSymbol","getSymbolFromTicker","addData","urlString","getUrlString","DataRequestHandler","getData","clearAllObjects","removeObject","id","objectType","hasDataSource","addStream","dataIsHere","dataUnavailableOnServer","symbolFromTicker","exchangeFromTicker","getExchangeFromTicker","columns","DataUnit","UTC","fullYearUTC","monthUTC","dateUTC","setExchangeDateInUTC","timezoneOffset","volumes","intervals","displayName","weekdayBitmap","hasNonEmptyDataSource","urlLoader","net","URLLoader","tries","initListeners","console","load","URLRequest","ioErrorHandler","setUpDataReload","log","securityErrorHandler","dataReload","configReloadInterval","fn","timeout","completeHandler","ERROR","FIRST_DATA","ADDED_DATA","callbacks","callback","func","param","DataSeries","noPointsInIntervals","pointsInIntervals","currentSessionIndex","intradayRegions","coalescedChildren","firsts","years","intervalBounds","dataSessions","compareUnitAndRelativeMinute","relativeMinute","getDayContainingTime","_loc2_","binarySearch","compareIndexWithTime","printFridays","friday","getCoalescedDataSeries","createCoalescedIntradayDataSeries","createCoalescedDailyDataSeries","createCoalescedWeeklyDataSeries","setNoPointsInIntervalArray","getPointsInIntervals","compareRefPointAndRelativeMinute","getLastWeeklyWeekIndex","minuteIsEndOfDataSession","getClosestEarlierIntervalForValue","getIntradaySessionsString","intradayRegion","getLastDailyDayIndex","compareUnitAndTimestamp","addDataSession","addPair","MarketSessionPair","relativeMinuteMetaIndex","compareIndexAndRelativeMinute","intervalDataContainsTime","interval1","interval2","bounds1","intervalHashKey","bounds2","getSessionForMinute","getDaysString","_loc1_","copyMarketTimesFrom","MIN_VALUE","numSessions","getFirstDailyIndex","hasNoPointsInIntervalArray","getTimestampIndex","timestamp","addIntervalBounds","key","getDataSession","pair","sessionForMinute","setPointsInIntervalArray","allSessionsLength","allIntervalsLength","dataSession","intervalDataPreceedsTime","earliestInterval","getEarliestInterval","clearCoalescedChildren","printPoints","o","appendObjectMembersAsStrings","getFirstDailyDayIndex","firstDailyIndex","compareNumbers","originalUnit","SeriesPosition","refDataSeries","pos","dayPos","ColumnTypes","ObjectPositions","columnNames","allowedOffset","relativeMinutesState","RELATIVE_MINUTES_NOT_READY","events","objects","intradayMinutesInterval","quoteType","tickerName","technicalsName","unitsInDifferentDays","getUTCDay","round","computeStarts","session","lastDayOfWeek","getLastDayOfWeek","stream","hasData","clearAllIndicatorsOnAddData","EXCHANGE_STR","lines","map","parseHeader","checkHeaderSanity","assocArrayLength","baseInterval","INTERVAL_STR","detailType","COLUMNS_STR","COL_OPEN_TYPE","COL_HIGH_TYPE","COL_LOW_TYPE","eventOhlcDone","eventDone","parseStream","slice","lastRealPointIndex","GET_10D_DATA","GET_30D_DATA","addStreamForPointsInIntervals","GET_5D_DATA","GET_1Y_DATA","GET_5Y_DATA","GET_40Y_DATA","addAHStreamForPointsInIntervals","points1","mergePoints","points2","extractAfterHoursSessions","computeIntradaySessions","computeObjectPositions","getClosestDataUnitLessThen","afterHoursUnit","getAllDataSessions","countEvents","chartEventPriority","getColumnTypes","columnTypes","columnNameIndex1","columnNameIndex2","eventIndex","OHLC_DONE","hasEventHappened","baseMinutesInterval","lastAbsTime","TIMEZONE_OFFSET_STR","charAt","getDataUnitNoValidation","_loc18_","addAfterHoursUnitToLastMinute","isTradeHaltedInterday","regularSanityCheck","addFakeDataUnits","addFakeDataUnitsForSessions","sort","StockAssociatedObject","compare","DONE","getUTCSeconds","getObjectPositionsInInterval","objectPositions","seriesPosition","detailLevelIndex","exchangeTimezoneOffset","closePrice","unitTime","position","pointTime","posInInterval","lines_1","DATA_STR","previousUnit","StartEndPair","viewpointName","makeDataUnitEndOfDay","letter","selectedObject","active","forceExpandInGroup","objectInTheFuture","stockAssociatedObject","numUnits","objectIndex","getObjectPositions","dividand","yield","getRelativeMinutesState","hasEvent","dataUnits1","dataUnits2","count1","count2","realtime","addVolumeInfo","extractSessions","sessionParts_1","getClosestDataUnitAfterMinute","_type","_date","seriesPositions","timezomeOffset","newObject","newDateInTimezone","PinPoint","_id","_letter","Split","_old_shares","_new_shares","Dividend","_amount","_amount_currency","StockDividend","_ticker","_adjustment_factor","originalObject","dayIndexHasVisibleExtendedHours","nextUnit","getVisibleDataUnitForMinute","unitDate","dateInTimezone1","getDateInTimezone","dateInTimezone2","objectsToString","closestDataUnit","closeMinute","MARKET_CLOSE_MINUTE_STR","openMinute","MARKET_OPEN_MINUTE_STR","DATA_SESSIONS_STR","setRelativeMinutesState","getObjPos","fakeDataUnit","indicatorKey","clearAllIndicators","objPos","lastUnit","columnTypeIndex","COL_DATE_TYPE","COL_CLOSE_TYPE","COL_VOLUME_TYPE","COL_CDAYS_TYPE","DMS_RELATIVE_MINUTES_READY","RELATIVE_MINUTES_READY","dateString","utcDateToString","scaleType","logHigh","logTransform","logLow","getUTCHours","getUTCMinutes","logOpen","setData","logClose","DayVisibility","DateLinesLayer","topMargin","getDayPixel","getHourTextFromUtcDate","pattern","formatDateTime","toLowerCase","adjustVisibleDaysWithAfterHours","dayVisibilities","totalMinutes","compareVisibleDayPairWithTime","coveredMinutes","startMinute","drawVerticalLines","dayPixel","drawDayStarts","textCanvas","getVisibleDaysArray","drawWeekStarts","drawMonthStarts","drawYearStarts","getMinutesSkip","MIN_DISTANCE_BETWEEN_V_LINES","HOUR_INTERVALS","TEXT_VERTICAL_OFFSET","TEXT_FIELD_HEIGHT","TICK_SIZE_BIG","weekStartDateFormat","getWeekStartDateFormat","TEXT_FIELD_WIDTH","addTextField","hourTextFormat","WEEK_TEXT_MIN_DAYS","TICK_SIZE_SMALL","fullYear","FULL_YEAR_TEXT_MAX_WIDTH","dateTextFormat","monthStartDateFormat","getMonthStartDateFormat","MONTH_TEXT_MIN_PIXELS","dayVisibility","drawHoursForDay","minutesSkip","textFieldHeight","allDataSessions","_loc25_","setTime","DAY_START_TEXT_MAX_WIDTH","hourTextFromUtcDate","dayVisibilityIndex","dayText","getDayText","DISPLAY_HOURS_MIN_DAY_WIDTH","TEXT_HORIZONTAL_OFFSET","TextFieldType","TextFormatAlign","RIGHT","CENTER","family","size","italic","INPUT","p","textContent","setTextFormat","getTextFormat","fontFamily","fontSize","textAlign","align","setSelection","p1","p2","innerHTML","_textColor","_textHeight","DateTextField","newDateInUtc","year","month","setUTCFullYear","setUTCMonth","setUTCHours","stringToNumberOrOne","replace","setHighlighted","highlighted","background","borderColor","displayDateInParseableFormat","PARSEABLE_FORMAT","displayDateInLocalizedFormat","standardFormatDateTime","DateTimeFormats","LONG_DATE_FORMAT","LOCALIZED_FORMAT","parseUtcDate","parsedDate","match","datePattern","DisplayManager","firstResize","viewpoints","computeRelativeTimesForPointsInIntervals","pointUnits","key2","pointIndex2","hasOhlcRequiredIndicator","layers_1","config","layers","clearWeeklyXPos","_loc2_1","getContextualStaticInfo","setContextualStaticInfo","resizeViewPoints","stageHeight","init","mainController","SparklineViewPoint","my_minx","my_miny","my_maxx","my_maxy","setController","topBorder","drawBorders","viewPoints_4","decodeObjects","single_viewpoints","addViewPoint","positionAfterHoursTimes","isIndicatorConfigEnabled","layers_2","getLayer","layerId","viewPointName","getViewPoint","makeBorderLayerTop","numChildren","removeAllLayers","viewPointIndex","windowResized","setNewSize","setNewCount","updateViewPoint","extractInterdayPoints","units_1","animateToSelectedPin","pinPoint","detailLevelForTechnicalStyle","getRelativeMinutes","eventCallback","EventCallback","oldestMinute","removeLayer","enableIndicatorConfig","layers_3","addLayer","viewPointPos","getViewPointPos","getComparedDataSeries","dataSeriesArray","comparedTickers_1","getComparedTickers","getLayers","firstDataUnit","getFirstDataUnit","lastDataUnit","firstDate","lastDate","numberOfDays","getNumberOfDaysForCount","setForceDisplayExtendedHours","viewpointIndex","setSize","removeViewPoint","viewPointTypeName","viewPointType","setLastMinute","differentMarketSessionComparison","endOfDayDataUnitFor","enableIndicatorLayer","IndicatorLayer","getIndicatorName","setDifferentMarketSessionComparison","setAfterHoursDisplay","event_3","OPTIONAL","setDiffMarketSessionRelativeMinutesState","comparedTickers_2","setEnabledChartLayer","layerType","layers_4","IntervalBasedChartManagerLayer","getEnabledLayerName","setEnabledLayer","computeRelativeTimesForDiffSessionComparison","comparedDataSeries","comparedDataSeries_1","compareDataUnits","exchangeDate","getWeekdaysDifference","comparedDataSeries_2","setIndicatorInstanceArray","mainLayers_1","DependentIndicatorLayer","bottomViewPoint","bottomLayer","VolumeDependentIndicatorLayer","layers_5","IndependentIndicatorLayer","zoomLevel","layers_6","enabledChartLayerName","getEnabledChartLayerName","qname","obj1","obj2","time1","time2","currency","param10","SplitMovie_SplitArrowClass","SplitMovie_SplitArrowSidewaysClass","SplitMovie_SplitArrowSidewaysOverClass","SplitMovie_SplitArrowOnOverClass","SplitMovie","textFormat","getTextColor","arrowOrientation","DOWN","detailsTextField","detailsTextFormat","initArrows","createButtons","currentVisibleButton","attachRegularArrow","regularButton","initTextField","attachArrowListeners","showDetails","hideText","getDetailedText","getDateText","scaleY","leftMargin","supportingLayer","textColor","getShortText","associatedSplit","newShares","oldShares","setOrientation","orientation","checkArrowChange","UP","SIDEWAYS_UP","arrow","SIDEWAYS_DOWN","MEDIUM_DATE_FORMAT","hideDetails","showText","ae","setSupportingLayer","abstractLayer","textField","cacheAsBitmap","positionRegularArrow","SplitArrowClass","arrowOnOver","SplitArrowOnOverClass","arrowSideways","SplitArrowSidewaysClass","arrowSidewaysOver","SplitArrowSidewaysOverClass","setObject","attachSidewaysArrow","sidewaysButton","persistentHide","setHighlightCanvas","positionSidewaysArrow","SPLIT_TEXT","setPersistentHide","DividendMovie_DividendArrowClass","DividendMovie_DividendArrowOnOverClass","DividendMovie_DividendArrowSidewaysClass","DividendMovie_DividendArrowSidewaysOverClass","DividendMovie","dividendArrowClass","dividendArrowOnOverClass","dividendArrowSidewaysClass","dividendArrowSidewaysOverClass","companyCurrency","associatedDividend","differentDividendCurrency","DIVIDEND_TEXT_NO_PERCENT","DIVIDEND_TEXT","dividend","String","fromCharCode","DraggableHandle","buildEvent","chartEventType","priorities","GET_2Y_DATA","MUTF_5D_DATA","GVizFormatConverter","validateGVizData","COLS_PROPERTY_NAME","TYPE_PROPERTY_NAME","DATETIME_TYPE","NUMBER_TYPE","convertGVizData","properties","rows","ROWS_PROPERTY_NAME","rows_1","row","COL_PROPERTY_NAME","VALUE_PROPERTY_NAME","parse","IndicatorPoint","dataSeriesIndex","setDataSeries","Position","IndependentObjectsLayer","movies","activeMovies","positioning","POSITION_CHART","addChildToTopCanvas","resetCanvas","movie","renderObj","firstVisibleObject","getFirstVisibleObject","lastVisibleObject","getLastVisibleObject","visibleObjectIndex","getPosition","putObject","HIDE_TEXT_THRESHOLD","avoidObj","SIDEWAYS","movieIndex","OBJECT_DISTANCE","POSITION_BOTTOM","seriesPositionIndex","movieType","StockDividendMovie","_orientation","TOP_DEPTH","MIN_PADDING","hash","getDataSeriesArray","hasInterval","getAllDataSeriesArray","ds","InfoDotInfo","InfoDot","tickerText","valueText","setInfo","infoDotInfo","quoteColor","tickerFormat","TEXT_SPACING","valueFormat","valueColor","IntervalBasedAHChartLayer","dataSoure","drawOhlcBars","afterHoursBarWidth","getAfterHoursBarWidth","drawCandleSticks","IntervalBasedVolumeLayer","drawHorizontalLine","drawOneBar","IntervalBasedAHVolumeLayer","startX","endX","chartLayers","styleName","chartLayer","IntervalBasedIndependentObjectsLayer","getDataUnit","stockAssociatedObjects","IntervalBasedLineChartLayer","nextMinute","IntervalBasedPinPointsLayer","pinPointYWhenContentDisplayed","pinMovies","pinPointContentMovie","PinPointContentMovie","getLastVisibleFlagIndex","getFirstVisibleFlagIndex","getPinPointMovieClip","objectColor","_color","OrangePinPointMovie","PinPointMovie","clearReferences","setPinPointContentMovie","removePinMovies","firstIndex","newsObjects","firstVisibleFlagIndex","lastVisibleFlagIndex","lastAbsoluteHeightMin","lastAbsoluteHeightMax","renderFlagGroups","pinPoints","getFlagGroupCount","pinOrientations","PinOrientations","LEFT_ORIENTATION","MIN_FLAGS_DIST","RIGHT_ORIENTATION","reverse","renderFlagsGroup","FLAG_POLE_HEIGHT","FLAG_HEIGHT","renderFlag","pinOrientation","pinPointMovieClip","setCount","setObj","setHeight","pinIndex","setActivePinPoint","MAX_SHOWN_GROUP_COUNT","getHeight","latestInterval","pairIndex","JSProxy","javascriptRequestMade","javascriptNotified","external","ExternalInterface","available","callAsFunction","playerMouseWheelHandler","isPlayingInBrowser","adjustNasdToNasdaq","_qname","removeLayerFromStyle","layerInfo","initIndicators","shouldSkipExternalInterfaceCall","changePrimaryTicker","getIndicatorInstanceArray","params","parameterNames","getParameterNames","instances","instance","finished","parameterNames_1","parameterName","re","importGVizData","updateLastPrice","updateLastPriceInDataSeries","wheelEvent","deltaY","preventDefault","stopPropagation","firstDataIsHere","resetChartHeight","encodeURIComponent","toggleIndicator","chartHeightInStyle","unhideViewPoint","hideViewPoint","removeCompareTo","addCompareTo","setLineStyle","addLayerToStyle","functionName","addObjectArray","clearAllPins","htmlClicked","pointsInIntervalArray","removeObjectArray","maps","adjustExchangeNameOfArray","pinArray","hasDifferentDividendCurrency","er","iClicked","LastDayLineLayer","dashSize","xPos1","LayerInfo","LayerConfig","lineColors","comparedTickers","takenColors","style_","fullRedrawWithNextData_","refuseDataSources","single_layers","hiddenViewpoints","separateHiddenViewPoints","compare_layers","compare_viewpoints","COMPARISON","PERCENT","percent_layers","percent_viewpoints","moveVolumeBelowPrice","viewPoints","viewPointIndex1","getViewPointIndex","viewPointIndex2","layerIndex","isSubset","getLayerModelIndex","getLayerId","deleteDataSources","getNextColor","takenColor","takenColorIndex","removeViewPoints","viewPointsToRemove","except","viewPointsToRemove_1","viewPointToRemove","applyStartEndToViewPoints","viewPoints_5","addIndicatorLayer","indicatorType","source","indicatorLayer","VolumeCalculator","computeInterval","indicatorClassName","getAnyLayerModelIndexForDatasource","dataSourceNames","updateColors","setStyle","dataSourceNames_1","newData","getQuote","dataSourceNames_2","viewPoints_6","colorIndex","dataSourceNames_3","findValueInArray","numComparedTickers","dataSourcePos","dataSourceIndex","arity","newIndicatorLayerInfo","newLayerInfo","dataSource1","dataSource2","tickers","figureOutDefaultLastMinute","addLayers","layers_7","moveViewPointBtArrays","replaceFirstDataSource","from","to","addViewPoints","viewPoints_7","haveDataSource","precomputeContexts","NO_DATA_AVAILABLE_LAYER","tmp","getDefaultZoomPair","defaultEndTime","clearAllChildrenFromTopCanvas","resetLayersForNewQuote","viewPoints_8","replaceSparklineDataSource","layerConfig","afterHoursTimeIndex","loadingText","currentState","padding","backgroundColor","LOADING_TEXT_FORMAT","rollMessage","drawBackground","states","LOADING_MESSAGE","firstDataNotified","loaderInfo","parameters","waitSizeIntId","checkSize","REQUIRED","shouldToggleAfterHours","forceDisplayExtendedHours","parseSettingString","partIndex","needAfterHoursData","StageAlign","TOP_LEFT","scaleMode","StageScaleMode","NO_SCALE","onResize","q","substring","u","sa","checkParameters","compareTo","compareToDiffMarketSessions","addDefaultCompareToTickers","minZoomDays","defaultZoomDays","defaultDisplayInterval","defaultInterval","defaultDisplayMinutes","sparklineType","snapping","checkUndefined","infoTextAlign","infoTextTopPadding","displayDividendsUnits","positiveColor","negativeColor","enableCustomDateEntry","enableCompactFlags","enableIndicator","enableRealtimeChart","displayNewsPins","enableVolumePlus","enableChartTypeButtons","applyChineseStyleMacd","expandButtonEnabled","shrinkButtonEnabled","lclc","lcfc","salc","safc","silc","sifc","tbg","rtc","dc","vc","ecnlc","ecnfc","updateObjectLayers","objects_1","compareToDisplayName","getQuoteForBarChart","getQuoteForLineChart","objectsArray","currentType","displayObjectLockedOn","cursor","HIDDEN","MouseCursor_CursorClosedHand","MouseCursor_CursorHorizontalArrows","MouseCursor_CursorOpenedHand","NoDataAvailableLayer","NO_DATA_AVAILABLE","OhlcChartLayer","ohlcColor","initImageClasses","initFlagComponents","activeTextFormat","passiveTextFormat","overPassiveTextFormat","overActiveTextFormat","pinButton","getPinPointType","borders","newBorder","ExtraFlagBorder","flagImg","FlagImg","flagOverImg","FlagOverImg","flagline","FlagPoleImg","letterTextFormat","activeOverlay","FlagActiveImg","scaleX","borderIndex","PinPointMovie_LocalFlagImg","PinPointMovie_LocalFlagOverImg","PinPointMovie_LocalFlagActiveImg","PinPointMovie_LocalFlagPoleImg","PinPointMovie_LocalExtraFlagBorder","OrangePinPointMovie_LocalFlagImg","OrangePinPointMovie_LocalFlagOverImg","OrangePinPointMovie_LocalFlagActiveImg","OrangePinPointMovie_LocalFlagPoleImg","OrangePinPointMovie_LocalExtraFlagBorder","PassiveLineLayer","formattedClosePrice","getFormattedClosePrice","technicalsNameElseQuote","getTechnicalsNameElseQuote","drawLine_","drawDayLine_","indicatorParams","PercentLineChartLayer","localStartPrice","calculatePercentChangeBase","plusSize","getQuoteText","symbol","getRange","lastIndex","startPrice","plusVariation","minusVariation","scaleVariation","localYAdjustment","lastRelativeMinuteIndex","MIN_EDGE_DISTANCE","getPercentText","quoteText","percentText","numberToMinTwoChars","PriceLinesLayer","getLinePosAndLabelToFillGap","getValueForYPos","increaseInterval","getIncreaseInterval","ceil","label","getMinLineValue","inverseLogTransform","distanceBetweenLines","getDistanceBetweenLines","maxDisplayRange","getMaxDisplayRange","MAX_EDGE_DISTANCE","MIN_DISTANCE_BETWEEN_H_LINES","adjustDistanceBetweenLines","scale","maxY","getMaxY","MIN_DISTANCE_BETWEEN_LOG_H_LINES","additionalDistanceBetweenLines","getTextForValue","prefix","getInitialLinesList_","drawHorizontalMidLine","labelPos","drawSingleHorizontalLine","drawHorizontalLines","valueSuffix","GRID_TEXT_VERTICAL_OFFSET","priceTextFormat","pow","logValue","PercentLinesLayer","computeLocalVars","drawZeroLine","getInitialLinesList","closeButton","content","closeButtonBitmap","BubbleCloseButton","PinPointContentMovie_BubbleCloseButton","activePinPoint","movieLeftX","movieBottomY","renderBackground","drawRoundRect","TEXT_FIELD_PADDING","renderContent","wordWrap","htmlText","getContentHtmlText","MAX_CONTENT_WIDTH","MIN_CONTENT_WIDTH","textHeight","getLetterHtml","escapeHtml","getAuthorHtml","getTitleHtml","titleHtml","getDateHtml","letterHtml","_title","_url","_author","_snippet","getSnippetHtml","PinPointsLayer","pin","originalColor","bottomBarLayer","flagGroupCount","visibleDataUnit","getVisibleDataUnit","_","PrecalculatedPercentLineChartLayer","ScrollSlider_ScrollBarGrip","ScrollSlider_ScrollBarBg","ScrollSlider","middle","ScrollBarGrip","ScrollBarBg","setWidth","MIN_WIDTH","returnText","negativeTextFormat","infoDots","datesTextFormats","grayText","blackText","datesText","positiveTextFormat","RIGHT_PADDING","TEXT_HEIGHT","infoText","newTextField","changeText","newDateTextField","registerDateTextFieldListeners","setDateEntryState","DISPLAY_DATES","setReturnInfo","lastNotVisibleDataUnit","getLastNotVisibleDataUnit","baseDataSource","getBaseDataSource","clearComparisonInfo","getReturnText","updateInfoText","updateAlignAndPadding","positionInfoText","positionComparisonInfoDots","getHumanReadableVolume","numberToString","MILLION_ONE_LETTER","HUNDRED_MILLION_ONE_LETTER","THOUSAND_ONE_LETTER","TEN_THOUSAND_ONE_LETTER","dateEntryState","EDIT_DATES","infoDot","appendOhlcText","normalizePrice","format","setSinglePointInfo","POINTS_STR","setComparisonInfo","buttonsWidth","processChangedDateFields","needToAnimate","PREMARKET","AFTER_HOURS","singlePointDateFormat","getSinglePointDateFormat","OPEN_TEXT","HIGH_TEXT","LOW_TEXT","CLOSE_TEXT","PRICE_TEXT","VOLUME_SHORT","onMouseRollOverInfoText","toFixed","dateTextField","onMouseRollOutInfoText","onMouseClickDateField","LEFT_PADDING","INFO_DOT_PADDING","infos","infoIndex","setSelectionRange","unit1","unit2","unit3","rise","dataUnitContainer","tabIndex","border","focusRect","tabEnabled","PRICE","OPEN","LOW","VOL_TEXT","HIGH","CLOSE","SparklineDateLinesLayer","drawQuarterStarts","DATE_LINES_COLOR","getOneYearWidth","MIN_YEAR_WIDTH","unitXPos","yearIndex","numTextFields","SHORT_YEAR_LINE_HEIGHT","removeAllChildren","duration","SparklineLayer","maxPriceLog","minPriceLog","LogPreserveSign","hasBackground","bgColor","firstRelativeMinuteXPos","lastRelativeMinuteXPos","xPos4","fillColor","sparkLastMinuteIndex","sparkButtonMinutes","sparkFirstMinuteIndex","getMaxRange","NEGATIVE_INFINITY","SkipInterval","IViewPoint","minutesOffset","topCanvas","lastNotifyMinute","firstNotifyMinute","unitsPerUnit","descriptiveLayers","drawingLayers","myController","clearTextCanvas","adjustBarChartContext","maxCount","getMarketDayLength","minCount","trySnapping","snapLevel","getSnapLevel","getClosestPoint","getIntervalForLength","SNAP_DAY","SNAP_WEEK","SNAP_MONTH","SNAP_YEAR","getLayerIndex","generateEvent","eventCallbacks","LayerClass","displayObjectToTop","newestMinute","generateEventForAllSources","OHLC_REQUIRED","getDetailLevelForDifferentMarketSessionComparison","zoomingFinalState","newContext","adjustLineChartContext","oldestBaseMinute","zoomingInitialState","clone","cloneObject","renderLayers","dataSeries2","checkAfterHoursVisibility","checkAfterHoursVisibilityWhenChartMoved","MIN_ZOOM_CHART_AMOUNT","getMinDisplayMinutes","forcedLayersContext","addLabel","myLabel","BORDER_DARK_COLOR","BORDER_LIGHT_COLOR","getNumberOfDays","newLastMinute_Handler","abstractLayers","newBounds","TICK_SIZE_NONE","leftScrollButton","ScrollbarButtonRight","SparklineViewPoint_ScrollbarButtonRight","passiveLayers","rightScrollButton","scrollBg","ScrollbarButtonLeft","SparklineViewPoint_ScrollbarButtonLeft","sparkMinutesOffset","scrollbarButtonLeft","scrollbarButtonRight","positionElements","initDisplayCountThresholds","redraw","adjustWindowToSparkline","moveMask","renderPassiveLayers","sparkline","graySparkline","updateFixedElements","layerTypeName","addDataSource","WindowLayer","indexOfWindow","getYScaling","checkResizeSparkline","windowMask","createSparklineMask","getMinutesForLength","getMedPrice","adjustSparklineToWindow","currentTarget","displayThresholds","chartDays","sparkDays","threshold","sparklineDateLinesLayer","adjustmentFactor","StockDividendMovie_DividendArrowSidewaysClass","StockDividendMovie_DividendArrowOnOverClass","StockDividendMovie_DividendArrowClass","StockDividendMovie_DividendArrowSidewaysOverClass","DividendArrowClass","DividendArrowOnOverClass","DividendArrowSidewaysClass","DividendArrowSidewaysOverClass","associatedStockDividend","STOCK_DIVIDEND_TEXT_WITH_TICKER","STOCK_DIVIDEND_TEXT","ADJUSTMENT_FACTOR_TEXT","stockDividend","getLocalTimezoneOffset","localTzOffset","getTimezoneOffset","maps_1","objectSeparator","fieldSeparator","getTickerParts","shift","exchange","items","comparer","thisObj","mid","comparison","date1","date2","getEndOfUTCDayTime","decimals","digits","createLabel","IsWeekday","getDay","logScale","displayObjectContainer","value1","value2","superset","subset","printObjectMembers","hourToString","hour","pinArray_1","computeWeekly","input","output","weeks","dayIndex2","VolumeIndicatorPoint","computeDaily","dailyInterval","intput","computeIntraday","regionIndex","unitIndex2","VolumeScaleLayer","volumeLabel","initTextFields","drawVolumeLines","VOLUME_LONG","MILLION_SHORT","THOUSAND_SHORT","MINUTES_SHORT","DAY_SHORT","WEEK_SHORT","topScaleTextField","midScaleTextField","positionVolumeLabel","LABEL_PADDING","WindowLayer_SparkHandle","WindowLayer_ScrollBarBg","WindowLayer_SparkHandleActive","currentHandlesVisibility","sliderBg","sliderBgBitmap","SparkHandle","SparkHandleActive","bitmap","checkHandlePosition","MIN_WINDOW_WIDTH","draggableHandle","_enabled","localMedianValue","textOutCanvas","medianLineCanvas","isNameTextRequired","indicatorNameText","NAME_TEXT_COLOR","INDICATOR_TEXT_FONT","INDICATOR_TEXT_FONT_SIZE","INDICATOR_TEXT_WIDTH","INDICATOR_TEXT_HEIGHT","indicatorValueTextArray","COLORS","layerTextFormat","getColor","INDICATOR_LAYER_PARAMETER_NAMES","getIntervalText","renderHistogramLine","getValue","renderSingleLine","renderHistogramLineFromBottom","drawMedianLine","MEDIAN_LINE_COLOR","drawAHighlightDot","TRUE_STR","dPointIndex","getLineStyle","IndicatorLineStyle","SIMPLE_LINE","getIndicatorValueText","HISTOGRAM_LINE","drawAHighlightLine","HISTOGRAM_LINE_FROM_BOTTOM","NONE","doCopyLastIndicatorPoint","minuteOfX","copyLastIndicatorPoint","getIndicatorNameText","shouldSkip","rest_1","computeIntervalIndicator","placeIndicatorNameAndValueTexts","calculateLocalScaleMeters","numPoints","isOhlcDataRequired","TEXT_TOP_MARGIN","TEXT_LEFT_MARGIN","textFieldIndex","FALSE_STR","levelTextArray","levelIndex","LEVEL_CNT","LEVEL_TEXT_WIDTH","NAME_TEXT_BLOCK_HEIGHT","updateLevelTexts","maxValue","minValue","levelTextIndex","MARGIN_HEIGHT","AbstractStochasticIndicatorLayer","PARAMETER_NAMES","K_STOCHASTIC","D_STOCHASTIC","BIASIndicatorLayer","BIAS_BIAS","BIAS_INTERVAL","points_1","getLogValue","BollingerBandsIndicatorLayer","multiplier","BOLL_INTERVAL","MID_BOLL","LOWER_BOLL","UPPER_BOLL","dataSeries0","dataSeries1","points_2","value0","periodIndex","sqrt","CCIIndicatorLayer","CCI_CCI","CCI_INTERVAL","points_3","indicator_1","SMAIndicatorLayer","periods","SMA_INTERVAL","closes","pointsInIntervalArray_1","originalPoint","indicators_1","indicator_2","EMAIndicatorLayer","originalPoints","originalPoints_1","EMA_INTERVAL","FastStochasticIndicatorLayer","FSTO_INTERVAL","points_4","KDJIndicatorLayer","alphaNumber","K_KDJ","D_KDJ","J_KDJ","KDJ_INTERVAL","points_5","MACDIndicatorLayer","DIFF_MACD","MACD_MACD","DEA_MACD","EMA_MACD","DIVERGENCE_MACD","MACD_INTERVAL","RSIIndicatorLayer","RSI_RSI","RSI_INTERVAL","diff","SlowStochasticIndicatorLayer","SSTO_INTERVAL","points_6","FAST_SLOW_RATIO","indicator_3","VMAIndicatorLayer","VMA_INTERVAL","pointsInIntervalArray_2","indicators_2","indicator_4","WilliamsPercentRIndicatorLayer","PR_WPR","WPR_INTERVAL","pointsInIntervalArray_3","ButtonsGroup","DEFAULT_SPACING","leftPadding","DEFAULT_LEFT_PADDING","separator","DEFAULT_SEPARATOR","getNextButtonPosition","currentX","currentY","buttons","putSeparator","attachButton","buttonPress","getButtonIndex","simpleButton","nextButtonPosition","setLeftPadding","numButtons","buttonIndex","listenerFunctions","listenerObjects","listenerFunction","addPlainText","currentButton","selectButton","deselectButton","locale_1","DateTimeConstants","consts","register","registerResource","DateTimeConstants_en","ERAS","ERANAMES","NARROWMONTHS","MONTHS","SHORTMONTHS","WEEKDAYS","SHORTWEEKDAYS","NARROWWEEKDAYS","SHORTQUARTERS","QUARTERS","AMPMS","DATEFORMATS","TIMEFORMATS","FIRSTDAYOFWEEK","WEEKENDRANGE","FIRSTWEEKCUTOFFDAY","PatternPartTypes","PatternPart","DateTimeFormat","isUtc","tokensHash","symbols","getResource","TOKENS","patternParts","tokenIndex","applyPattern","literal","LITERAL","field","FIELD","formatField","fieldLength","formatEra","formatYear","formatMonth","format24Hours","formatFractionalSeconds","formatDayOfWeek","formatAmPm","format1To12Hours","format0To11Hours","format0To23Hours","formatStandaloneDay","formatStandaloneMonth","formatQuarter","formatDate","formatMinutes","formatSeconds","formatGMT","formatTimeZoneRFC","STANDALONENARROWMONTHS","STANDALONEMONTHS","STANDALONESHORTMONTHS","padNumber","applyStandardPattern","dateTimeFormat","FULL_TIME_FORMAT","FULL_DATETIME_FORMAT","SHORT_DATETIME_FORMAT","MEDIUM_DATETIME_FORMAT","getSeconds","getHours","sign","seconds","getMinutes","STANDALONENARROWWEEKDAYS","STANDALONEWEEKDAYS","STANDALONESHORTWEEKDAYS","quarter","part","partText","locale_2","getStandardDateTimeFormatter","constantsRepository","getDateTimeFormatter","activeLocale","resource","setLocale","DATE_TIME_CONSTANTS","_fill","_path","_pending","_sized","_thickness","_alpha","_ops","initialize","_blitCanvas","_blitContext","pending","pending_1","endStroke","_maxx","_maxy","ensureCanvas","_context","canvas","ensure","to2","_minx","_miny","lineWidth","lineCap","strokeStyle","oldminx","oldminy","oldWidth","oldHeight","globalCompositeOperation","drawImage","beginStroke","fillStyle","beginPath","flushOps","fill","thickness","op","x_1","y_1","stroke","clearRect","fillRect","rect","rx","ry","LoaderInfo","_overState","_downState","_hitTestState","_upState","dispatchEvent","Event","clientWidth","clientHeight","_mouseX","_mouseY","offset","fToBind","oThis","aArgs","Array","fNOP","fBound","EventDispatcher","EventDispatcherImpl","_events","useWeakReference","fire","listeners_1","request","xhr","XMLHttpRequest","onreadystatechange","readyState","response","status","onerror","send","TimerEvent","handle","evt","NameUtil","displayObjectToString"],"mappings":"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","file":"GoogleChart.js","sourcesContent":["\ntype Map<T> = { [key: string]: T };\ntype Dictionary = Map<any>;\n\ninterface Date\n{\n\tdateUTC: number;\n\tmonthUTC: number;\n\tfullYearUTC: number;\n\n\tdate: number;\n\tmonth: number;\n\tfullYear: number;\n}\n\nfunction addGetter<T extends { prototype: any }>(theType: T, name: string, getter: () => any)\n{\n\tObject.defineProperty(theType.prototype, name, {\n\t\tget: getter,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n}\n\naddGetter(Date, \"dateUTC\", Date.prototype.getUTCDate);\naddGetter(Date, \"monthUTC\", Date.prototype.getUTCMonth);\naddGetter(Date, \"fullYearUTC\", Date.prototype.getUTCFullYear);\naddGetter(Date, \"date\", Date.prototype.getDate);\naddGetter(Date, \"month\", Date.prototype.getMonth);\naddGetter(Date, \"fullYear\", Date.prototype.getFullYear);\n\ninterface Window\n{\n\tloaderInfo: flash.display.LoaderInfo;\n}\n\nmodule Events\n{\n\texport const COMPLETE = \"complete\";\n\texport const RESIZE = \"resize\";\n}\n\nmodule MouseEvents\n{\n\texport const CLICK = \"click\";\n\texport const MOUSE_DOWN = \"mousedown\";\n\texport const MOUSE_MOVE = \"mousemove\";\n\texport const MOUSE_OUT = \"mouseout\";\n\texport const MOUSE_OVER = \"mouseover\";\n\texport const MOUSE_UP = \"mouseup\";\n\texport const ROLL_OUT = \"rollout\";\n\texport const ROLL_OVER = \"rollover\";\n\texport const MOUSE_WHEEL = \"wheel\";//mousewheel\";\n\texport const MOUSE_LEAVE = \"mouseleave\";\n}\n\nmodule KeyboardEvents\n{\n\texport const KEY_DOWN = \"keydown\";\n\texport const KEY_UP = \"keyup\";\n}\n\nmodule TimerEvents\n{\n\texport const TIMER = \"timer\";\n}\n\nmodule IOErrorEvents\n{\n\texport const IO_ERROR = \"io-error\";\n}\n\nmodule SecurityErrorEvents\n{\n\texport const SECURITY_ERROR = \"security-error\";\n}\n\nfunction cssColor(n: number, alpha = 1): string\n{\n\tconst s = Math.floor(n).toString(16);\n\tif (alpha >= 1)\n\t\treturn '#' + \"000000\".substr(s.length) + s;\n\n\tconst a = Math.floor(alpha * 255).toString(16);\n\treturn '#' + \"00\".substr(a.length) + \"000000\".substr(s.length) + s;\n}\n\nfunction assert(cond: boolean)\n{\n\tif (!cond)\n\t\tdebugger;\n}\n\nfunction getDefinitionByName(name: string): Function\n{\n\tlet container: any = window;\n\tconst parts = name.split('.');\n\tfor (const part of parts)\n\t\tcontainer = container[part];\n\treturn container;\n}\n\nfunction getClassName(obj: any)\n{\n\treturn obj.constructor.name;\n\t/*\n\tlet funcNameRegex = /function (.{1,})\\(/;\n\tlet results = (funcNameRegex).exec(obj[\"constructor\"].toString());\n\treturn (results && results.length > 1) ? results[1] : \"\";\n\t*/\n}\nfunction getTimer()\n{\n\treturn Date.now();\n}\n\nfunction notnull<T>(value: T | null): T\n{\n\tif (!value)\n\t\tthrow new Error();\n\treturn value;\n}\n\nfunction parseQueryString(str: string)\n{\n\tconst result: { [_: string]: string } = {};\n\tconst pairs = str.split('&');\n\tfor (const pair of pairs)\n\t{\n\t\tconst parts = pair.split('=');\n\t\tresult[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n\t}\n\treturn result;\n}\n\nfunction offsetOf(elt: HTMLElement)\n{\n\tlet curleft = 0;\n\tlet curtop = 0;\n\n\tdo\n\t{\n\t\tcurleft += elt.offsetLeft;\n\t\tcurtop += elt.offsetTop;\n\t\telt = elt.offsetParent as HTMLElement;\n\t} while (elt);\n\n\treturn { left: curleft, top: curtop };\n}\n","namespace com.google.i18n.locale\n{\n\texport enum DateTimeFormats\n\t{\n\t\tFULL_DATE_FORMAT = 0,\n\t\tLONG_DATE_FORMAT = 1,\n\t\tMEDIUM_DATE_FORMAT = 2,\n\t\tSHORT_DATE_FORMAT = 3,\n\t\tFULL_TIME_FORMAT = 4,\n\t\tLONG_TIME_FORMAT = 5,\n\t\tMEDIUM_TIME_FORMAT = 6,\n\t\tSHORT_TIME_FORMAT = 7,\n\t\tFULL_DATETIME_FORMAT = 8,\n\t\tLONG_DATETIME_FORMAT = 9,\n\t\tMEDIUM_DATETIME_FORMAT = 10,\n\t\tSHORT_DATETIME_FORMAT = 11,\n\t}\n\n\texport class DateTimeLocale\n\t{\n\n\t\tstatic readonly DATE_TIME_CONSTANTS = \"DateTimeConstants\";\n\n\t\tstatic readonly constantsRepository: Map<Dictionary> = {};\n\n\t\tprivate static activeLocale: string;\n\n\t\tstatic getStandardDateTimeFormatter(pattern: DateTimeFormats, isUtc = false): DateTimeFormat\n\t\t{\n\t\t\tconst format = new DateTimeFormat(isUtc);\n\t\t\tformat.applyStandardPattern(pattern);\n\t\t\treturn format;\n\t\t}\n\n\t\tstatic getResource(locale: string)\n\t\t{\n\t\t\treturn DateTimeLocale.constantsRepository[locale || DateTimeLocale.getLocale()];\n\t\t}\n\n\t\tstatic getDateTimeFormatter(pattern: string, isUtc = false): DateTimeFormat\n\t\t{\n\t\t\tconst format = new DateTimeFormat(isUtc);\n\t\t\tformat.applyPattern(pattern);\n\t\t\treturn format;\n\t\t}\n\n\t\tstatic standardFormatDateTime(pattern: DateTimeFormats, date: Date, isUtc = false): string\n\t\t{\n\t\t\tconst format = new DateTimeFormat(isUtc);\n\t\t\tformat.applyStandardPattern(pattern);\n\t\t\treturn format.format(date);\n\t\t}\n\n\t\tstatic getLocale(): string\n\t\t{\n\t\t\tif (!DateTimeLocale.activeLocale)\n\t\t\t\tDateTimeLocale.activeLocale = \"en\";\n\n\t\t\treturn DateTimeLocale.activeLocale;\n\t\t}\n\n\t\tstatic formatDateTime(pattern: string, date: Date, isUtc = false): string\n\t\t{\n\t\t\tconst format = new DateTimeFormat(isUtc);\n\t\t\tformat.applyPattern(pattern);\n\t\t\treturn format.format(date);\n\t\t}\n\n\t\tstatic registerResource(resource: Dictionary, locale: string)\n\t\t{\n\t\t\tDateTimeLocale.constantsRepository[locale] = resource;\n\t\t\tif (!DateTimeLocale.activeLocale)\n\t\t\t\tDateTimeLocale.activeLocale = locale;\n\t\t}\n\n\t\tstatic setLocale(activeLocale: string)\n\t\t{\n\t\t\tDateTimeLocale.activeLocale = activeLocale;\n\t\t}\n\n\t\t//private static readonly registerLocale = DateTimeConstants.register(DateTimeLocale.registerResource);\n\t}\n\n\tDateTimeConstants.register(DateTimeLocale.registerResource);\n}\n","namespace flash.utils\n{\n\texport class TimerEvent\n\t//extends Event\n\t{\n\t}\n\n\texport class Timer\n\t\textends events.EventDispatcherImpl\n\t{\n\t\tprivate handle?: number;\n\n\t\tconstructor(public readonly period: number)\n\t\t{\n\t\t\tsuper();\n\t\t}\n\n\t\tstart()\n\t\t{\n\t\t\tif (!this.handle)\n\t\t\t{\n\t\t\t\tthis.handle = setInterval(() =>\n\t\t\t\t{\n\t\t\t\t\tconst evt = new TimerEvent();\n\t\t\t\t\tthis.fire(TimerEvents.TIMER, evt);\n\t\t\t\t}, this.period);\n\t\t\t}\n\t\t}\n\t\tstop()\n\t\t{\n\t\t\tif (this.handle)\n\t\t\t{\n\t\t\t\tclearInterval(this.handle);\n\t\t\t\tdelete this.handle;\n\t\t\t}\n\t\t}\n\t}\n}\n","namespace mx.utils\n{\n\t// import mx.core.mx_internal;\n\t// import flash.display.DisplayObject;\n\t// import mx.core.IRepeaterClient;\n\t// import flash.utils.getQualifiedClassName;\n\n\texport class NameUtil\n\t{\n\t\tstatic displayObjectToString(displayObject: flash.display.DisplayObject): string|null\n\t\t{\n\t\t\tlet result: string|null = null;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tlet o: flash.display.DisplayObject | null = displayObject;\n\t\t\t\twhile (o)\n\t\t\t\t{\n\t\t\t\t\tif (o.parent && o.stage && o.parent === o.stage)\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tconst s = o.name;\n\t\t\t\t\t/*\tTODO\n\t\t\t\t\tif (o instanceof mx.core.IRepeaterClient)\t// TODO: instanceof interfaces\n\t\t\t\t\t{\n\t\t\t\t\t\tlet indices = (<mx.core.IRepeaterClient><any>o).instanceIndices;\n\t\t\t\t\t\tif (indices)\n\t\t\t\t\t\t\ts = s + ('[' + indices.join(\"][\") + ']');\n\t\t\t\t\t}\n\t\t\t\t\t*/\n\t\t\t\t\tresult = !result ? s : s + '.' + result;\n\t\t\t\t\to = o.parent;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e /*:SecurityError*/)\n\t\t\t{\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\t/*\n\t\tprivate static counter = 0;\n\n\t\tstatic createUniqueName(param1): string\n\t\t{\n\t\t\tif (!param1)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst _loc2_ = this.getQualifiedClassName(param1);\n\t\t\tconst _loc3_ = _loc2_.indexOf(\"::\");\n\t\t\tif (_loc3_ !== -1)\n\t\t\t{\n\t\t\t\t_loc2_ = _loc2_.substr(_loc3_ + 2);\n\t\t\t}\n\t\t\tconst _loc4_ = _loc2_.charCodeAt(_loc2_.length - 1);\n\t\t\tif (_loc4_ >= 48 && _loc4_ <= 57)\n\t\t\t{\n\t\t\t\t_loc2_ = _loc2_ + '_';\n\t\t\t}\n\t\t\treturn _loc2_ + NameUtil.counter++;\n\t\t}\n\t\t*/\n\t}\n}\n","namespace flash.display\n{\n\texport class DisplayObject\n\t{\n\t\tpublic name: string;\n\n\t\tconstructor(public readonly element: HTMLElement, name?: string)\n\t\t{\n\t\t\tassert(!(<any>element).displayObject);\n\t\t\t(<any>element).displayObject = this;\n\n\t\t\tassert(!!element);\n\t\t\tif (!element.parentElement)\n\t\t\t{\n\t\t\t\telement.classList.add(\"pending\");\n\t\t\t\tdocument.body.appendChild(element);\n\t\t\t}\n\n\t\t\tthis.name = (name ? name + ':' : \"\") + getClassName(this);\n\t\t\telement.setAttribute(\"name\", this.name);\n\n\t\t\t/*\n\t\t\ttry\n\t\t\t{\n\t\t\t\tthrow new Error();\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\telement.setAttribute(\"stack\", error.stack);\n\t\t\t}\n\t\t\t*/\n\t\t}\n\n\t\tprotected _graphics: Graphics;\n\t\tget graphics(): Graphics\n\t\t{\n\t\t\treturn this._graphics || (this._graphics = new Graphics(this.element));\n\t\t}\n\n\t\tprotected _stage: Stage;\n\t\tget stage() { return this._stage; }\n\t\tset stage(value: Stage) { this._stage = value; }\n\n\t\t_x = 0;\n\t\tget x(): number { return this._x; }\n\t\tset x(value: number)\n\t\t{\n\t\t\tthis._x = value;\n\t\t\tthis.element.style.left = value + \"px\";\n\t\t}\n\n\t\t_y = 0;\n\t\tget y(): number { return this._y; }\n\t\tset y(value: number)\n\t\t{\n\t\t\tthis._y = value;\n\t\t\tthis.element.style.top = value + \"px\";\n\t\t}\n\n\t\tget width() { return this.element.offsetWidth; }\n\t\tget height() { return this.element.offsetHeight; }\n\n\t\tget visible() { return this.element.style.visibility !== \"hidden\"; }\n\t\tset visible(value: boolean) { this.element.style.visibility = value ? \"\" : \"hidden\"; }\n\n\t\tget mouseX(): number { return this._x + this.parent.mouseX; }\n\t\tget mouseY(): number { return this._y + this.parent.mouseY; }\n\n\t\tbackground: boolean;\n\t\tbackgroundColor: number;\n\t\tborderColor: number;\n\t\tborder: boolean;\n\t\tfocusRect: Rectangle;\n\n\t\ttabEnabled: boolean;\n\t\ttabIndex: number;\n\n\t\tscaleX: number;\n\t\tscaleY: number;\n\n\t\tparent: DisplayObjectContainer;\n\n\t\taddEventListener(e: string, f: EventListenerOrEventListenerObject)\n\t\t{\n\t\t\tthis.element.addEventListener(e, f);\n\t\t}\n\n\t\tremoveEventListener(eventType: string, listener?: EventListenerOrEventListenerObject, useCapture?: boolean): void\n\t\t{\n\t\t\tthis.element.removeEventListener(eventType, listener);\n\t\t}\n\n\t\thitTestPoint(x: number, y: number, shapeFlag = false): boolean\n\t\t{\n\t\t\tconst pt = this.globalToLocal(new Point(x, y));\n\t\t\treturn pt.x >= 0 && pt.x < this.width &&\n\t\t\t\tpt.y >= 0 && pt.y < this.height;\n\t\t}\n\n\t\tglobalToLocal(point: Point): Point\n\t\t{\n\t\t\tlet node: DisplayObject = this;\n\t\t\tdo\n\t\t\t{\n\t\t\t\tpoint.x -= node._x;\n\t\t\t\tpoint.y -= node._y;\n\t\t\t\tnode = node.parent;\n\t\t\t}\n\t\t\twhile (node);\n\t\t\treturn point;\n\t\t}\n\t}\n\n\texport class Shape extends DisplayObject\n\t{\n\t}\n}\n","/// <reference path=\"DisplayObject.ts\"/>\n\nnamespace flash.display\n{\n\texport class InteractiveObject\n\t\textends DisplayObject\n\t{\n\t\tget mouseEnabled() { return this.element.classList.contains(\"mouseEnabled\"); }\n\t\tset mouseEnabled(value: boolean) { this.element.classList.toggle(\"mouseEnabled\", value); }\n\n\t\tconstructor(public readonly element: HTMLElement, name?: string)\n\t\t{\n\t\t\tsuper(element, name);\n\t\t\telement.classList.add(\"mouseEnabled\");\n\t\t}\n\t}\n}\n","/// <reference path=\"InteractiveObject.ts\"/>\n\nnamespace flash.display\n{\n\texport class DisplayObjectContainer\n\t\textends InteractiveObject\n\t{\n\t\tchildren: DisplayObject[] = [];\n\t\tget numChildren() { return this.children.length; }\n\n\t\tget stage() { return this._stage; }\n\t\tset stage(value: Stage)\n\t\t{\n\t\t\tif (this._stage === value)\n\t\t\t\treturn;\n\t\t\tthis._stage = value;\n\t\t\tfor (const child of this.children)\n\t\t\t\tchild.stage = value;\n\t\t}\n\n\t\tprivate prepareChild(child: DisplayObject)\n\t\t{\n\t\t\tassert(child && !!child.element);\n\n\t\t\tif (child.parent)\n\t\t\t\tchild.parent.removeChild(child);\n\n\t\t\tconst childElement = child.element;\n\t\t\tif (childElement.parentElement)\n\t\t\t{\n\t\t\t\tassert(childElement.parentElement === document.body);\n\t\t\t\tchildElement.remove();\n\t\t\t\tchildElement.classList.remove(\"pending\");\n\t\t\t}\n\n\t\t\tchild.parent = this;\n\t\t\tchild.stage = this.stage;\n\t\t}\n\n\t\taddChild(child: DisplayObject)\n\t\t{\n\t\t\tassert(!!this.element);\n\n\t\t\tthis.prepareChild(child);\n\n\t\t\tthis.children.push(child);\n\t\t\tthis.element.appendChild(child.element);\n\t\t\treturn child;\n\t\t}\n\t\taddChildAt(child: DisplayObject, index: number)\n\t\t{\n\t\t\tassert(!!this.element);\n\n\t\t\tthis.prepareChild(child);\n\n\t\t\tconst childBefore = this.children[index];\n\t\t\tthis.children.splice(index, 0, child);\n\t\t\treturn this.element.insertBefore(child.element, childBefore && childBefore.element);\n\t\t}\n\t\tremoveChild(child: DisplayObject)\n\t\t{\n\t\t\tthis.removeChildAt(this.getChildIndex(child));\n\t\t}\n\t\tremoveChildAt(i: number)\n\t\t{\n\t\t\tconst child = this.getChildAt(i);\n\t\t\t//this.element.removeChild(child.element);\n\t\t\tchild.element.remove();\n\t\t\tthis.children.splice(i, 1);\n\t\t\tdelete child.parent;\n\t\t\tdelete child.stage;\n\t\t}\n\t\tgetChildAt(i: number): DisplayObject\n\t\t{\n\t\t\tassert(i >= 0 && i < this.children.length);\n\t\t\treturn this.children[i];\n\t\t}\n\t\tgetChildIndex(child: DisplayObject): number\n\t\t{\n\t\t\tassert(child && child.parent === this);\n\t\t\treturn this.children.indexOf(child);\n\t\t}\n\t\tswapChildrenAt(i1: number, i2: number)\n\t\t{\n\t\t\tassert(i1 >= 0 && i1 < this.children.length);\n\t\t\tassert(i2 >= 0 && i2 < this.children.length);\n\n\t\t\tconst child1 = this.children[i1];\n\t\t\tconst child2 = this.children[i2];\n\t\t\tthis.children[i1] = child2;\n\t\t\tthis.children[i2] = child1;\n\t\t\t// TODO: swap elements\n\t\t}\n\n\t\tcontains(child: DisplayObject): boolean\n\t\t{\n\t\t\treturn child.parent === this;\n\t\t}\n\n\t\tprivate _width: number;\n\t\tprivate _height: number;\n\n\t\tget width()\n\t\t{\n\t\t\tif (this._width != null)\n\t\t\t\treturn this._width;\n\n\t\t\tlet w = 0;\n\t\t\tfor (const child of this.children)\n\t\t\t{\n\t\t\t\tif (child.element.classList.contains(\"pending\"))\n\t\t\t\t\tcontinue;\n\t\t\t\tconst x = child.x + child.width;\n\t\t\t\tif (w < x)\n\t\t\t\t\tw = x;\n\t\t\t}\n\t\t\tif (this._graphics)\n\t\t\t{\n\t\t\t\tif (w < this._graphics.width)\n\t\t\t\t\tw = this._graphics.width;\n\t\t\t}\n\t\t\treturn w;\n\t\t}\n\n\t\tset width(value: number)\n\t\t{\n\t\t\tthis._width = value;\n\t\t\tthis.element.style.width = value + \"px\";\n\t\t}\n\n\t\tget height()\n\t\t{\n\t\t\tif (this._height != null)\n\t\t\t\treturn this._height;\n\n\t\t\tlet h = 0;\n\t\t\tfor (const child of this.children)\n\t\t\t{\n\t\t\t\tif (child.element.classList.contains(\"pending\"))\n\t\t\t\t\tcontinue;\n\t\t\t\tconst y = child.y + child.height;\n\t\t\t\tif (h < y)\n\t\t\t\t\th = y;\n\t\t\t}\n\t\t\tif (this._graphics)\n\t\t\t{\n\t\t\t\tif (h < this._graphics.height)\n\t\t\t\t\th = this._graphics.height;\n\t\t\t}\n\t\t\treturn h;\n\t\t}\n\n\t\tset height(value: number)\n\t\t{\n\t\t\tthis._height = value;\n\t\t\tthis.element.style.height = value + \"px\";\n\t\t}\n\t}\n}\n","/// <reference path=\"DisplayObjectContainer.ts\"/>\n\nnamespace flash.display\n{\n\texport class Point\n\t{\n\t\tconstructor(public x: number, public y: number) { }\n\t}\n\n\texport class Rectangle\n\t{\n\t}\n\n\texport class Sprite extends DisplayObjectContainer\n\t{\n\t\tconstructor(name?: string)\n\t\t{\n\t\t\tsuper(document.createElement(\"div\"), name);\n\t\t}\n\t\t//mouseCursor: Sprite;\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\texport class AbstractLayer<T extends IViewPoint> extends flash.display.Sprite\n\t{\n\t\tlayerId: string;\n\t\tlayerType: string;\n\n\t\ttextCanvas: flash.display.Sprite;\n\n\t\tlineColor: number;\n\t\tlineThickness: number;\n\t\tlineVisibility: number;\n\n\t\thasText: boolean;\n\t\ttype: string;\n\n\t\tconstructor(public readonly viewPoint: T, public dataSource: DataSource)\n\t\t{\n\t\t\tsuper();\n\t\t}\n\n\t\tstatic drawVerticalLine(displayObject: flash.display.DisplayObject, x: number, color: number, alpha: number, top: number, bottom: number, tickHeight: number, tickPosition: TickPositions, param9 = true)\n\t\t{\n\t\t\tx = Math.floor(x) + 0.5;\n\t\t\tconst gr = displayObject.graphics;\n\t\t\tgr.moveTo(x, top + 1);\n\t\t\tswitch (tickPosition)\n\t\t\t{\n\t\t\t\tcase TickPositions.BOTTOM:\n\t\t\t\t\tgr.lineStyle(0, color, alpha);\n\t\t\t\t\tgr.lineTo(x, bottom - tickHeight);\n\t\t\t\t\tgr.lineStyle(0, Const.BOTTOM_TICK_COLOR, 1);\n\t\t\t\t\tgr.lineTo(x, bottom);\n\t\t\t\t\tbreak;\n\t\t\t\tcase TickPositions.TOP:\n\t\t\t\t\tgr.lineStyle(0, Const.TOP_TICK_COLOR, 1);\n\t\t\t\t\tgr.lineTo(x, top + 1 + tickHeight);\n\t\t\t\t\tif (param9)\n\t\t\t\t\t{\n\t\t\t\t\t\tgr.lineStyle(0, color, alpha);\n\t\t\t\t\t\tgr.lineTo(x, bottom);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\trenderLayer(context?: Context)\n\t\t{\n\t\t}\n\n\t\tgetDataSeries(context?: Context): DataSeries | null\n\t\t{\n\t\t\treturn this.dataSource.data;\n\t\t}\n\t}\n}\n","/// <reference path=\"AbstractLayer.ts\" />\n\nnamespace com.google.finance\n{\n\texport class AbstractDrawingLayer<T extends IViewPoint> extends AbstractLayer<T>\n\t{\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\treturn context;\n\t\t}\n\n\t\tprotected getBarWidth(detailLevel: Intervals, dataSeries: DataSeries): number\n\t\t{\n\t\t\tlet numDays = 0;\n\t\t\tif (detailLevel === Intervals.WEEKLY)\n\t\t\t\tnumDays = dataSeries.marketDayLength * 5;\n\t\t\telse if (detailLevel === Intervals.DAILY)\n\t\t\t\tnumDays = dataSeries.marketDayLength;\n\t\t\telse\n\t\t\t\tnumDays = Const.getDetailLevelInterval(detailLevel) / 60;\n\n\t\t\tif (this.viewPoint.count === 0)\n\t\t\t\treturn 0;\n\n\t\t\tlet width = Const.BAR_WIDTH_RATIO * numDays * this.viewPoint.minutePix;\n\t\t\tif (width % 2 === 1)\n\t\t\t\twidth--;\n\n\t\t\treturn width;\n\t\t}\n\n\t\tclearHighlight()\n\t\t{\n\t\t}\n\n\t\tprotected getWeeklyBarXPos(dataUnit: DataUnit, param2: number): number\n\t\t{\n\t\t\tlet xPos = (<ViewPoint><any>this.viewPoint).getXPos(dataUnit);\n\t\t\tconst marketDayLength = this.dataSource.data.marketDayLength;\n\t\t\tconst width = this.viewPoint.minutePix * marketDayLength * 4;\n\t\t\tif (param2 < xPos + width)\n\t\t\t\txPos = param2 - width;\n\n\t\t\tdataUnit.weeklyXPos = xPos;\n\t\t\treturn xPos;\n\t\t}\n\n\t\tgetOldestMinute(): number\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tif (dataSeries)\n\t\t\t\treturn dataSeries.getFirstRelativeMinute();\n\t\t\treturn 0;\n\t\t}\n\n\t\tprotected getLastRealPointIndex(dataUnits: DataUnit[]): number\n\t\t{\n\t\t\tif (Boolean(MainManager.paramsObj.hasExtendedHours) && dataUnits[dataUnits.length - 1].relativeMinutes !== 0)\n\t\t\t\treturn dataUnits.length - 1;\n\n\t\t\treturn Utils.getLastRealPointIndex(dataUnits);\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t}\n\n\t\tgetNewestMinute(): number\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tif (dataSeries)\n\t\t\t\treturn dataSeries.getLastRelativeMinute();\n\t\t\treturn 0;\n\t\t}\n\t}\n}\n","/// <reference path=\"AbstractDrawingLayer.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.geom.Point;\n\n\texport class LineChartLayer extends AbstractDrawingLayer<ViewPoint>\n\t{\n\t\tprivate realLIndex: number;\n\t\tprivate lastHighlightX: number;\n\t\tprivate lastHighlightY: number;\n\t\tprivate realRIndex: number;\n\n\t\tprotected localYOffset = 0;\n\t\tprotected maxPrice: number;\n\t\tprotected minPrice: number;\n\t\tprotected localYScale = 0;\n\t\tprotected highlightCanvas = new flash.display.Sprite(\"highlightCanvas\");\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.addChild(this.highlightCanvas);\n\t\t}\n\n\t\tprotected drawWeeklyLine(sprite: flash.display.Sprite, param2: number, param3: number, viewPoint: ViewPoint, context: Context): number\n\t\t{\n\t\t\tconst skipInterval = viewPoint.getSkipInterval();\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst nextDayStart = dataSeries.getNextDayStart(param3);\n\t\t\tlet _loc9_ = dataSeries.fridays.length - 1;\n\t\t\twhile (dataSeries.fridays[_loc9_] > dataSeries.days[nextDayStart])\n\t\t\t\t_loc9_--;\n\n\t\t\t_loc9_ += (dataSeries.fridays.length - 1 - _loc9_) % skipInterval.skip;\n\t\t\t_loc9_ = Math.min(_loc9_, dataSeries.fridays.length - 1);\n\t\t\tlet unit: DataUnit | null = null;\n\t\t\twhile (_loc9_ >= 0 && dataSeries.fridays[_loc9_] >= param2)\n\t\t\t{\n\t\t\t\tunit = dataSeries.units[dataSeries.fridays[_loc9_]];\n\t\t\t\tthis.drawLineToDataUnit(viewPoint, sprite, context, unit);\n\t\t\t\t_loc9_ -= skipInterval.skip;\n\t\t\t}\n\t\t\treturn unit ? Number(viewPoint.getXPos(unit)) : -1;\n\t\t}\n\n\t\tprivate getAvg_(param1: number, param2: number, dataSeries: DataSeries, param4: string): number\n\t\t{\n\t\t\tlet _loc7_ = 0;\n\t\t\tlet _loc5_ = 0;\n\t\t\tlet _loc6_ = 0;\n\t\t\tconst _loc8_ = param1 - param2;\n\t\t\tconst _loc9_ = dataSeries.getRelativeMinuteIndex(_loc8_ - Math.floor(param2 / 3));\n\t\t\tlet _loc10_ = dataSeries.getRelativeMinuteIndex(param1 + Math.floor(param2 / 3));\n\t\t\tif (_loc10_ - _loc9_ <= 0)\n\t\t\t\t_loc10_ = _loc9_ + 1;\n\n\t\t\tthis.realLIndex = dataSeries.getRelativeMinuteIndex(_loc8_) + 1;\n\t\t\tthis.realRIndex = dataSeries.getRelativeMinuteIndex(param1);\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst xPosMax = vp.getXPos(dataSeries.units[this.realLIndex]);\n\t\t\tif (xPosMax > this.viewPoint.maxx)\n\t\t\t\tthis.realLIndex--;\n\n\t\t\tconst xPosMin = vp.getXPos(dataSeries.units[this.realRIndex]);\n\t\t\tif (xPosMin < this.viewPoint.minx)\n\t\t\t\tthis.realRIndex++;\n\n\t\t\tconst nextDayStart = dataSeries.getNextDayStart(_loc10_);\n\t\t\tconst detailLevel = vp.getDetailLevel(param2, param1);\n\t\t\tloop3:\n\t\t\tswitch (detailLevel)\n\t\t\t{\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\t_loc7_ = dataSeries.days[nextDayStart];\n\t\t\t\t\twhile (true)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (_loc7_ < _loc9_)\n\t\t\t\t\t\t\tbreak loop3;\n\n\t\t\t\t\t\tconst dayAvg = this.getDayAvg(_loc7_, _loc9_, _loc10_, param1, param2, dataSeries, param4);\n\t\t\t\t\t\t_loc5_ = Number(_loc5_ + dayAvg.sum);\n\t\t\t\t\t\t_loc6_ += dayAvg.cnt;\n\t\t\t\t\t\tconst prevDayStart = dataSeries.getPrevDayStart(_loc7_);\n\t\t\t\t\t\tif (prevDayStart === -1)\n\t\t\t\t\t\t\tbreak loop3;\n\n\t\t\t\t\t\t_loc7_ = dataSeries.days[prevDayStart];\n\t\t\t\t\t}\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\t_loc7_ = nextDayStart;\n\t\t\t\t\tconst _loc15_ = param2 / dataSeries.marketDayLength;\n\t\t\t\t\tlet _loc16_ = Math.floor(_loc15_ / 80);\n\t\t\t\t\tif (_loc16_ <= 0)\n\t\t\t\t\t\t_loc16_ = 1;\n\n\t\t\t\t\twhile (dataSeries.days[_loc7_] >= _loc9_ && _loc7_ >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc5_ = Number(_loc5_ + dataSeries.units[dataSeries.days[_loc7_]].getCloseLogValue(param4));\n\t\t\t\t\t\tfor (let _loc19_ = 0; _loc19_ < _loc16_; _loc19_++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc20_ = _loc7_ - _loc19_;\n\t\t\t\t\t\t\tif (_loc20_ < 0)\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tif (dataSeries.days[_loc20_] >= this.realLIndex && dataSeries.days[_loc20_] <= this.realRIndex)\n\t\t\t\t\t\t\t\tthis.checkMinMax(dataSeries.units[dataSeries.days[_loc20_]].getCloseLogValue(param4));\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_loc6_++;\n\t\t\t\t\t\t_loc7_ -= _loc16_;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\treturn _loc5_ / _loc6_;\n\t\t}\n\n\t\tprivate getDayAvg(unitIndex: number, param2: number, param3: number, param4: number, param5: number, dataSeries: DataSeries, param7: string)\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst units = dataSeries.units;\n\t\t\tconst result = {\n\t\t\t\tcnt: 0,\n\t\t\t\tsum: 0\n\t\t\t};\n\t\t\tconst _loc11_ = dataSeries.marketDayLength * (viewPoint.maxx - viewPoint.minx) / param5;\n\t\t\tif (unitIndex > 0 && units[unitIndex - 1].dayMinute === dataSeries.marketCloseMinute)\n\t\t\t{\n\t\t\t\tconst closeLogValue = units[unitIndex].getCloseLogValue(param7);\n\t\t\t\tif (unitIndex >= this.realLIndex && unitIndex <= this.realRIndex)\n\t\t\t\t\tthis.checkMinMax(closeLogValue);\n\n\t\t\t\treturn {\n\t\t\t\t\tsum: closeLogValue,\n\t\t\t\t\tcnt: 1\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet _loc13_ = 1;\n\t\t\tconst _loc14_ = dataSeries.marketDayLength / (Const.INTRADAY_INTERVAL / 60);\n\t\t\tconst _loc15_ = _loc11_ / _loc14_;\n\t\t\twhile (_loc15_ * _loc13_ < viewPoint.POINTS_DISTANCE)\n\t\t\t\t_loc13_ *= 2;\n\n\t\t\tconst _loc16_ = unitIndex - _loc14_ + 1;\n\t\t\twhile (unitIndex > _loc16_ && unitIndex > param2)\n\t\t\t{\n\t\t\t\tif (unitIndex < _loc16_)\n\t\t\t\t\tunitIndex = param2;\n\n\t\t\t\tif (unitIndex > param2 && unitIndex < param3)\n\t\t\t\t{\n\t\t\t\t\tconst closeLogValue = units[unitIndex].getCloseLogValue(param7);\n\t\t\t\t\tif (unitIndex >= this.realLIndex - 1 && unitIndex <= this.realRIndex + 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (closeLogValue < this.minPrice)\n\t\t\t\t\t\t\tthis.minPrice = closeLogValue;\n\t\t\t\t\t\telse if (closeLogValue > this.maxPrice)\n\t\t\t\t\t\t\tthis.maxPrice = closeLogValue;\n\t\t\t\t\t}\n\t\t\t\t\tresult.sum += closeLogValue;\n\t\t\t\t\tresult.cnt++;\n\t\t\t\t}\n\t\t\t\tunitIndex -= _loc13_;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tprivate computeMaxRange2(param1: number, param2: number, param3: string, param4 = false)\n\t\t{\n\t\t\treturn this.computeMaximizedMaxRange(param1, param2);\n\t\t}\n\n\t\tprotected normalizeMedPrice(minMaxMedPrice: MinMaxMedPrice, param2: number): number\n\t\t{\n\t\t\tif (minMaxMedPrice.medPrice !== 0)\n\t\t\t{\n\t\t\t\tif (minMaxMedPrice.maxPrice - minMaxMedPrice.medPrice > param2 / 2)\n\t\t\t\t\treturn (minMaxMedPrice.maxPrice + minMaxMedPrice.minPrice) / 2;\n\n\t\t\t\tif (minMaxMedPrice.medPrice - minMaxMedPrice.minPrice > param2 / 2)\n\t\t\t\t\treturn (minMaxMedPrice.maxPrice + minMaxMedPrice.minPrice) / 2;\n\n\t\t\t\tif (minMaxMedPrice.medPrice < param2 / 2)\n\t\t\t\t\treturn param2 / 2;\n\t\t\t}\n\t\t\treturn minMaxMedPrice.medPrice;\n\t\t}\n\n\t\tprivate getPrevOrNextClosestToX(dataUnits: DataUnit[], param2: number[], param3: number, param4: number, param5: number): number\n\t\t{\n\t\t\tif (param3 >= param5)\n\t\t\t{\n\t\t\t\tconst minuteXPos1 = this.viewPoint.getMinuteXPos(dataUnits[param2[param3 - param5]].relativeMinutes);\n\t\t\t\tconst minuteXPos2 = this.viewPoint.getMinuteXPos(dataUnits[param2[param3]].relativeMinutes);\n\t\t\t\tif (Math.abs(minuteXPos1 - param4) < Math.abs(minuteXPos2 - param4))\n\t\t\t\t\treturn param2[param3 - 1];\n\t\t\t}\n\t\t\treturn param2[param3];\n\t\t}\n\n\t\tprotected drawDayLine(sprite: flash.display.Sprite, unitIndex: number, viewPoint: ViewPoint, param4: number, param5: number, context: Context): number\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst units = dataSeries.units;\n\t\t\tconst _loc9_ = Const.INTRADAY_INTERVAL / 60;\n\t\t\tconst _loc10_ = Math.floor(dataSeries.marketDayLength / _loc9_);\n\t\t\tif (units[unitIndex].dayMinute !== dataSeries.marketCloseMinute)\n\t\t\t\treturn -1;\n\n\t\t\tif (unitIndex === 0)\n\t\t\t\treturn 0;\n\n\t\t\tconst gr = sprite.graphics;\n\t\t\tif (units[unitIndex - 1].dayMinute === dataSeries.marketCloseMinute)\n\t\t\t{\n\t\t\t\tconst xPos3 = viewPoint.getXPos(units[unitIndex - 1]);\n\t\t\t\tgr.lineTo(xPos3, this.getYPos(context, units[unitIndex - 1]));\n\t\t\t\treturn xPos3;\n\t\t\t}\n\t\t\tlet _loc13_ = 1;\n\t\t\twhile (viewPoint.minutePix * _loc9_ * _loc13_ < viewPoint.POINTS_DISTANCE)\n\t\t\t\t_loc13_ *= 2;\n\n\t\t\tconst sessionIndex = dataSeries.getSessionIndex(units[unitIndex].dayMinute);\n\t\t\tconst _loc15_ = Math.max(sessionIndex, 0);\n\t\t\tconst _loc16_ = unitIndex - _loc10_ - _loc15_;\n\t\t\tlet _loc17_ = unitIndex;\n\t\t\tif (units[_loc17_].relativeMinutes === 0 && units[_loc17_].fake)\n\t\t\t{\n\t\t\t\twhile (units[_loc17_].fake)\n\t\t\t\t\t_loc17_--;\n\n\t\t\t\tconst point = new flash.display.Point(viewPoint.getXPos(units[_loc17_]), this.viewPoint.maxy);\n\t\t\t\t//this.globalToLocal(_loc23_);\t// TODO: ?\n\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\tgr.moveTo(point.x, point.y);\n\t\t\t\tgr.lineTo(point.x, this.getYPos(context, units[unitIndex]));\n\t\t\t\tgr.lineStyle(this.lineThickness, this.lineColor, this.lineVisibility);\n\t\t\t}\n\t\t\twhile (unitIndex > _loc17_)\n\t\t\t\tunitIndex -= _loc13_;\n\n\t\t\t//const _loc18_ = param2;\n\t\t\twhile (unitIndex > param5 && unitIndex > param4)\n\t\t\t\tunitIndex -= _loc13_;\n\n\t\t\tlet xPos = viewPoint.getXPos(units[unitIndex]);\n\t\t\tconst _loc20_ = _loc13_ * (viewPoint.minutePix * _loc9_);\n\t\t\tconst _loc21_ = _loc13_ * _loc9_;\n\t\t\tlet minutes = units[unitIndex].relativeMinutes;\n\t\t\twhile (unitIndex >= _loc16_ && unitIndex >= param4)\n\t\t\t{\n\t\t\t\tgr.lineTo(xPos, this.getYPos(context, units[unitIndex]));\n\t\t\t\tunitIndex -= _loc13_;\n\t\t\t\tif (unitIndex > _loc16_ && unitIndex > param4 && minutes - units[unitIndex - 1].relativeMinutes === _loc21_)\n\t\t\t\t\tunitIndex--;\n\n\t\t\t\tif (unitIndex >= _loc16_ && unitIndex >= param4)\n\t\t\t\t\tminutes = units[unitIndex].relativeMinutes;\n\n\t\t\t\txPos -= _loc20_;\n\t\t\t}\n\t\t\tconst xPos2 = viewPoint.getXPos(units[_loc16_]);\n\t\t\tconst yPos2 = this.getYPos(context, units[_loc16_]);\n\t\t\tgr.lineTo(xPos2, yPos2);\n\t\t\treturn xPos2;\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t\tif (state[SpaceText.SETTER_STR])\n\t\t\t\tstate[SpaceText.SETTER_STR].clearHighlight();\n\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst point = this.getPoint(dataSeries, x);\n\t\t\tconst minuteXPos = this.viewPoint.getMinuteXPos(point.relativeMinutes);\n\t\t\tconst yPos = this.getYPos(context, point);\n\t\t\tif (this.lastHighlightX !== minuteXPos || this.lastHighlightY !== yPos)\n\t\t\t{\n\t\t\t\tthis.clearHighlight();\n\t\t\t\tconst gr = this.highlightCanvas.graphics;\n\t\t\t\tgr.lineStyle(5, Const.DOT_COLOR, 1);\n\t\t\t\tgr.moveTo(minuteXPos, yPos - 0.2);\n\t\t\t\tgr.lineTo(minuteXPos, yPos + 0.2);\n\t\t\t\tstate[SpaceText.POINT_STR] = point;\n\t\t\t\tstate[SpaceText.EXTRA_TEXT_STR] = \"\";\n\t\t\t\tstate[SpaceText.SETTER_STR] = this;\n\t\t\t\tthis.lastHighlightX = minuteXPos;\n\t\t\t\tthis.lastHighlightY = yPos;\n\t\t\t}\n\t\t}\n\n\t\tprotected getMediumPrice(param1: number, param2: number, dataSeries: DataSeries, param4: string): MinMaxMedPrice\n\t\t{\n\t\t\tconst relativeMinuteIndex = dataSeries.getRelativeMinuteIndex(param1);\n\t\t\tconst etCloseLogValue = dataSeries.units[relativeMinuteIndex].getCloseLogValue(param4);\n\t\t\tthis.minPrice = etCloseLogValue;\n\t\t\tthis.maxPrice = etCloseLogValue;\n\t\t\treturn {\n\t\t\t\tmedPrice: Number(this.getAvg_(param1, param2, dataSeries, param4)),\n\t\t\t\tminPrice: this.minPrice,\n\t\t\t\tmaxPrice: this.maxPrice\n\t\t\t};\n\t\t}\n\n\t\tprotected drawLine(sprite: flash.display.Sprite, unitIndex: number, param3: number, viewPoint: ViewPoint, context: Context): number\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst units = dataSeries.units;\n\t\t\tconst gr = sprite.graphics;\n\t\t\tgr.lineStyle(this.lineThickness, this.lineColor, this.lineVisibility);\n\t\t\tlet nextDayStart = dataSeries.getNextDayStart(param3);\n\t\t\tlet _loc9_ = 1;\n\t\t\tconst _loc10_ = viewPoint.minutePix * dataSeries.marketDayLength;\n\t\t\twhile (_loc10_ * _loc9_ < viewPoint.POINTS_DISTANCE)\n\t\t\t\t_loc9_++;\n\n\t\t\tlet _loc11_ = units[dataSeries.days[nextDayStart]];\n\t\t\tlet _loc12_ = viewPoint.getXPos(_loc11_) + 1;\n\t\t\tconst _loc13_ = this.getYPos(context, _loc11_);\n\t\t\tgr.moveTo(_loc12_, this.viewPoint.maxy);\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tgr.lineTo(_loc12_, _loc13_);\n\t\t\tgr.lineStyle(this.lineThickness, this.lineColor, this.lineVisibility);\n\t\t\tswitch (viewPoint.getDetailLevel())\n\t\t\t{\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\twhile (nextDayStart >= 0 && dataSeries.days[nextDayStart] >= unitIndex)\n\t\t\t\t\t{\n\t\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\t\t_loc11_ = units[dataSeries.days[nextDayStart]];\n\t\t\t\t\t\tgr.lineTo(_loc12_, viewPoint.maxy);\n\t\t\t\t\t\tgr.lineTo(viewPoint.getXPos(_loc11_), viewPoint.maxy);\n\t\t\t\t\t\tthis.drawLineToDataUnit(viewPoint, sprite, context, _loc11_);\n\t\t\t\t\t\tgr.lineStyle(this.lineThickness, this.lineColor, this.lineVisibility);\n\t\t\t\t\t\t_loc12_ = this.drawDayLine(sprite, dataSeries.days[nextDayStart], viewPoint, unitIndex, param3, context);\n\t\t\t\t\t\tnextDayStart--;\n\t\t\t\t\t}\n\t\t\t\t\t_loc11_ = units[unitIndex];\n\t\t\t\t\treturn viewPoint.getXPos(_loc11_);\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\t\twhile (nextDayStart >= 0 && dataSeries.days[nextDayStart] >= unitIndex)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc11_ = units[dataSeries.days[nextDayStart]];\n\t\t\t\t\t\tthis.drawLineToDataUnit(viewPoint, sprite, context, _loc11_);\n\t\t\t\t\t\tnextDayStart--;\n\t\t\t\t\t}\n\t\t\t\t\treturn viewPoint.getXPos(_loc11_);\n\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\treturn this.drawWeeklyLine(sprite, unitIndex, param3, viewPoint, context);\n\t\t\t\tdefault:\n\t\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\tprotected getYPos(context: Context, dataUnit: DataUnit): number\n\t\t{\n\t\t\treturn this.localYOffset - (dataUnit.getCloseLogValue(context.verticalScaling) - context.medPrice) * this.localYScale;\n\t\t}\n\n\t\tprivate checkMinMax(price: number)\n\t\t{\n\t\t\tif (price < this.minPrice)\n\t\t\t\tthis.minPrice = price;\n\t\t\telse if (price > this.maxPrice)\n\t\t\t\tthis.maxPrice = price;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tif (dataSeries.points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tlet lastMinuteIndex = dataSeries.getRelativeMinuteIndex(viewPoint.getLastMinute());\n\t\t\tif (lastMinuteIndex < dataSeries.points.length - 1)\n\t\t\t\tlastMinuteIndex++;\n\n\t\t\tlet firstMinuteIndex = dataSeries.getRelativeMinuteIndex(viewPoint.getFirstMinute()) - 1;\n\t\t\tif (firstMinuteIndex < 0)\n\t\t\t\tfirstMinuteIndex = 0;\n\n\t\t\tthis.lineThickness = Const.LINE_CHART_LINE_THICKNESS;\n\t\t\tthis.lineColor = Const.LINE_CHART_LINE_COLOR;\n\t\t\tthis.lineVisibility = Const.LINE_CHART_LINE_VISIBILITY;\n\t\t\tgr.beginFill(Const.LINE_CHART_FILL_COLOR, Const.LINE_CHART_FILL_VISIBILITY);\n\t\t\tthis.localYOffset = viewPoint.miny + viewPoint.medPriceY + viewPoint.V_OFFSET;\n\t\t\tthis.localYScale = viewPoint.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t\tconst _loc6_ = this.drawLine(this, firstMinuteIndex, lastMinuteIndex, viewPoint, context);\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tconst point = new flash.display.Point(_loc6_, viewPoint.maxy);\n\t\t\t//this.globalToLocal(_loc7_);\t// TODO: ?\n\t\t\tgr.lineTo(point.x, point.y);\n\t\t\tgr.endFill();\n\t\t}\n\n\t\tprivate getPointIndex(dataSeries: DataSeries, x: number): number\n\t\t{\n\t\t\tconst minute = this.viewPoint.getMinuteOfX(x);\n\t\t\tlet minuteIndex = dataSeries.getRelativeMinuteIndex(minute);\n\t\t\twhile (dataSeries.units[minuteIndex].fake && minuteIndex > 0)\n\t\t\t\tminuteIndex--;\n\n\t\t\tconst skipInterval = this.viewPoint.getSkipInterval();\n\t\t\tconst skip = skipInterval.skip;\n\t\t\tconst interval = skipInterval.interval;\n\t\t\tif (interval < Const.DAILY_INTERVAL)\n\t\t\t{\n\t\t\t\tconst nextDayStart = dataSeries.getNextDayStart(minuteIndex);\n\t\t\t\treturn minuteIndex + (dataSeries.days[nextDayStart] - minuteIndex) % skip;\n\t\t\t}\n\t\t\tif (interval === Const.DAILY_INTERVAL)\n\t\t\t{\n\t\t\t\tconst nextDayStart = dataSeries.getNextDayStart(minuteIndex + 1);\n\t\t\t\treturn this.getPrevOrNextClosestToX(dataSeries.units, dataSeries.days, nextDayStart, x, 1);\n\t\t\t}\n\t\t\tlet nextWeekEnd = dataSeries.getNextWeekEnd(minuteIndex);\n\t\t\tnextWeekEnd -= (dataSeries.fridays.length - 1 - nextWeekEnd) % skip;\n\t\t\tnextWeekEnd = Math.min(nextWeekEnd, dataSeries.fridays.length - 1);\n\t\t\treturn this.getPrevOrNextClosestToX(dataSeries.units, dataSeries.fridays, nextWeekEnd, x, skip);\n\t\t}\n\n\t\tprotected drawLineToDataUnit(viewPoint: ViewPoint, sprite: flash.display.Sprite, context: Context, dataUnit: DataUnit)\n\t\t{\n\t\t\tconst xPos = viewPoint.getXPos(dataUnit);\n\t\t\tconst yPos = this.getYPos(context, dataUnit);\n\t\t\tsprite.graphics.lineTo(xPos, yPos);\n\t\t}\n\n\t\tprotected getPoint(dataSeries: DataSeries, param2: number): DataUnit\n\t\t{\n\t\t\treturn dataSeries.units[this.getPointIndex(dataSeries, param2)];\n\t\t}\n\n\t\tgetDataSeries(context?: Context): DataSeries\n\t\t{\n\t\t\treturn this.dataSource.data;\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\t//const _loc3_ = this.viewPoint;\n\t\t\tconst data = this.dataSource.data;\n\t\t\tif (data.units.length === 0)\n\t\t\t\treturn context;\n\n\t\t\tconst _loc5_ = this.computeMaxRange2(context.lastMinute, context.count, context.verticalScaling, param2);\n\t\t\tif (!_loc5_)\n\t\t\t\treturn context;\n\n\t\t\tconst _loc6_ = Utils.getLogScaledValue(_loc5_.lowerBound, context.verticalScaling);\n\t\t\tcontext.maxRangeLowerBound = Utils.extendedMin(_loc6_, context.maxRangeLowerBound);\n\t\t\tconst _loc7_ = Utils.getLogScaledValue(_loc5_.upperBound, context.verticalScaling);\n\t\t\tcontext.maxRangeUpperBound = Utils.extendedMax(_loc7_, context.maxRangeUpperBound);\n\t\t\tconst _loc8_ = context.verticalScaling !== Const.LOG_VSCALE && context.verticalScaling !== Const.NEW_LOG_VSCALE ? Number(_loc5_.range) : _loc7_ - _loc6_;\n\t\t\tcontext.maxPriceRange = Utils.extendedMax(_loc8_, context.maxPriceRange);\n\t\t\tconst _loc9_ = this.getMediumPrice(context.lastMinute, context.count, data, context.verticalScaling);\n\t\t\tconst _loc10_ = this.normalizeMedPrice(_loc9_, context.maxPriceRange);\n\t\t\tcontext.medPrice = (Utils.extendedMax(_loc10_, context.medPrice) + Utils.extendedMin(_loc10_, context.medPrice)) / 2;\n\t\t\tcontext.minPrice = Utils.extendedMin(this.minPrice, context.minPrice);\n\t\t\tcontext.maxPrice = Utils.extendedMax(this.maxPrice, context.maxPrice);\n\t\t\tconst _loc11_ = context.maxPrice - context.minPrice;\n\t\t\tcontext.maxPriceRange = Utils.extendedMax(_loc11_, context.maxPriceRange);\n\t\t\tcontext.medPrice = this.normalizeMedPrice(context, context.maxPriceRange);\n\t\t\treturn context;\n\t\t}\n\n\t\tprivate computeMaximizedMaxRange(param1: number, param2: number)\n\t\t{\n\t\t\tconst data = this.dataSource.data;\n\t\t\tconst units = data.units;\n\t\t\t//const _loc5_ = _loc3_.days;\n\t\t\t//const _loc6_ = _loc3_.fridays;\n\t\t\tconst _loc9_ = this.viewPoint.getDetailLevel(param2, param1);\n\t\t\tlet unitIndex = data.getRelativeMinuteIndex(param1);\n\t\t\tlet unit = units[unitIndex];\n\t\t\tlet _loc12_ = unit.close;\n\t\t\tlet _loc13_ = unit.close;\n\t\t\tconst _loc14_ = param1 - param2;\n\t\t\tif (_loc9_ <= Intervals.INTRADAY)\n\t\t\t{\n\t\t\t\tif (unit.relativeMinutes <= _loc14_)\n\t\t\t\t\treturn null;\n\n\t\t\t\twhile (unitIndex >= 0)\n\t\t\t\t{\n\t\t\t\t\tunit = units[unitIndex];\n\t\t\t\t\tif (unit.relativeMinutes < _loc14_)\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tconst _loc7_ = unit.low ? unit.low : unit.close;\n\t\t\t\t\tif (_loc7_ < _loc12_)\n\t\t\t\t\t\t_loc12_ = _loc7_;\n\n\t\t\t\t\tconst _loc8_ = unit.high ? unit.high : unit.close;\n\t\t\t\t\tif (_loc8_ > _loc13_)\n\t\t\t\t\t\t_loc13_ = _loc8_;\n\n\t\t\t\t\tunitIndex--;\n\t\t\t\t}\n\t\t\t\tif (unitIndex >= 0)\n\t\t\t\t{\n\t\t\t\t\t_loc12_ = Utils.extendedMin(_loc12_, unit.low ? unit.low : unit.close);\n\t\t\t\t\t_loc13_ = Utils.extendedMax(_loc13_, unit.high ? unit.high : unit.close);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet _loc15_: number;\n\t\t\t\tlet _loc16_: number[];\n\t\t\t\tif (_loc9_ <= Intervals.DAILY)\n\t\t\t\t{\n\t\t\t\t\t_loc15_ = data.getNextDayStart(unitIndex);\n\t\t\t\t\t_loc16_ = data.days;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_loc15_ = data.getNextWeekEnd(unitIndex);\n\t\t\t\t\t_loc16_ = data.fridays;\n\t\t\t\t}\n\t\t\t\t_loc15_ = Math.min(_loc15_ + 1, _loc16_.length - 1);\n\t\t\t\twhile (_loc15_ >= 0)\n\t\t\t\t{\n\t\t\t\t\tunit = units[_loc16_[_loc15_]];\n\t\t\t\t\tif (unit.relativeMinutes < _loc14_)\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tconst _loc7_ = unit.low ? unit.low : unit.close;\n\t\t\t\t\tif (_loc7_ < _loc12_)\n\t\t\t\t\t\t_loc12_ = _loc7_;\n\n\t\t\t\t\tconst _loc8_ = unit.high ? unit.high : unit.close;\n\t\t\t\t\tif (_loc8_ > _loc13_)\n\t\t\t\t\t\t_loc13_ = _loc8_;\n\n\t\t\t\t\t_loc15_--;\n\t\t\t\t}\n\t\t\t\tif (_loc15_ >= 0)\n\t\t\t\t{\n\t\t\t\t\t_loc12_ = Utils.extendedMin(_loc12_, unit.low ? unit.low : unit.close);\n\t\t\t\t\t_loc13_ = Utils.extendedMax(_loc13_, unit.high ? unit.high : unit.close);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (_loc13_ === _loc12_)\n\t\t\t{\n\t\t\t\tconst _loc17_ = Math.min(_loc13_ * 2, Const.DEFAULT_MAX_RANGE);\n\t\t\t\treturn {\n\t\t\t\t\tupperBound: _loc17_,\n\t\t\t\t\tlowerBound: 0,\n\t\t\t\t\trange: _loc17_\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tupperBound: _loc13_,\n\t\t\t\tlowerBound: _loc12_,\n\t\t\t\trange: _loc13_ - _loc12_\n\t\t\t};\n\t\t}\n\n\t\tclearHighlight()\n\t\t{\n\t\t\tthis.highlightCanvas.graphics.clear();\n\t\t}\n\t}\n}\n","/// <reference path=\"LineChartLayer.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\n\texport class AHLineChartLayer extends LineChartLayer\n\t{\n\t\tprivate regionsXLimits: IntervalSet;\n\t\tprivate visibleSessionsTimes: IntervalSet;\n\n\t\tprotected getPoint(dataSeries: DataSeries, x: number): DataUnit\n\t\t{\n\t\t\tconst minute = this.viewPoint.getMinuteOfX(x);\n\t\t\tlet relativeMinuteIndex = dataSeries.getRelativeMinuteIndex(minute);\n\t\t\tconst time = dataSeries.units[relativeMinuteIndex].time;\n\t\t\tconst interval = notnull(this.visibleSessionsTimes.getIntervalForValue(time));\n\t\t\tconst timeIndex = DataSource.getTimeIndex(interval.end, dataSeries.units);\n\t\t\tconst skipInterval = this.viewPoint.getSkipInterval().skip;\n\t\t\trelativeMinuteIndex -= (relativeMinuteIndex - timeIndex) % skipInterval;\n\t\t\twhile (dataSeries.units[relativeMinuteIndex].fake && dataSeries.units[relativeMinuteIndex].time > interval.start)\n\t\t\t\trelativeMinuteIndex--;\n\n\t\t\treturn dataSeries.units[relativeMinuteIndex];\n\t\t}\n\n\t\tgetDataSeries(context?: Context): DataSeries\n\t\t{\n\t\t\treturn this.dataSource.afterHoursData;\n\t\t}\n\n\t\tprivate getVisibleSessionsTimes(context: Context): IntervalSet\n\t\t{\n\t\t\tconst intervalSet = new IntervalSet();\n\t\t\tconst visibleExtendedHours = this.dataSource.visibleExtendedHours;\n\t\t\tfor (let intervalIndex = visibleExtendedHours.length() - 1; intervalIndex >= 0; intervalIndex--)\n\t\t\t{\n\t\t\t\tconst interval = visibleExtendedHours.getIntervalAt(intervalIndex);\n\t\t\t\tconst startUnit = this.dataSource.afterHoursData.units[interval.start];\n\t\t\t\tconst endUnit = this.dataSource.afterHoursData.units[interval.end];\n\t\t\t\tif (ViewPoint.sessionVisible(startUnit, endUnit, context))\n\t\t\t\t\tintervalSet.addInterval(startUnit.time, endUnit.time);\n\t\t\t}\n\t\t\treturn intervalSet;\n\t\t}\n\n\t\tprivate computeMaxRange(context: Context, param2 = false): number\n\t\t{\n\t\t\tthis.minPrice = Number.POSITIVE_INFINITY;\n\t\t\tthis.maxPrice = 0;\n\t\t\tconst visibleSessionsTimes = this.getVisibleSessionsTimes(context);\n\n\t\t\tfor (let intervalIndex = 0; intervalIndex < visibleSessionsTimes.length(); intervalIndex++)\n\t\t\t{\n\t\t\t\tconst interval = visibleSessionsTimes.getIntervalAt(intervalIndex);\n\t\t\t\tthis.computeSessionMinMaxPrice(context, interval.start, interval.end);\n\t\t\t}\n\t\t\treturn this.maxPrice !== 0 ? this.maxPrice - this.minPrice : 0;\n\t\t}\n\n\t\tprivate computeSessionMinMaxPrice(context: Context, startTime: number, endTime: number)\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst startTimeIndex = DataSource.getTimeIndex(startTime, dataSeries.units);\n\t\t\tconst endTimeIndex = DataSource.getTimeIndex(endTime, dataSeries.units);\n\n\t\t\tfor (let timeIndex = startTimeIndex; timeIndex < endTimeIndex; timeIndex++)\n\t\t\t{\n\t\t\t\tconst unit = dataSeries.units[timeIndex];\n\t\t\t\tif (unit.close < this.minPrice)\n\t\t\t\t\tthis.minPrice = unit.close;\n\t\t\t\telse if (unit.close > this.maxPrice)\n\t\t\t\t\tthis.maxPrice = unit.close;\n\t\t\t}\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tif (dataSeries.points.length === 0)\n\t\t\t\treturn context;\n\n\t\t\tconst firstRelativeMinute = dataSeries.getFirstRelativeMinute();\n\t\t\tif (context.lastMinute < firstRelativeMinute)\n\t\t\t\treturn context;\n\n\t\t\tif (this.viewPoint.getDetailLevel() > Intervals.INTRADAY)\n\t\t\t\treturn context;\n\n\t\t\t/*const _loc5_ = */\n\t\t\tthis.computeMaxRange(context, param2);\n\t\t\tconst mediumPrice = this.getMediumPrice(context.lastMinute, context.count, dataSeries, context.verticalScaling);\n\t\t\tlet _loc7_ = 0;\n\t\t\tlet _loc8_ = 0;\n\t\t\tif (mediumPrice.maxPrice === mediumPrice.minPrice && !context.maxPrice && !context.minPrice)\n\t\t\t{\n\t\t\t\t_loc7_ = Math.min(mediumPrice.minPrice, Const.DEFAULT_MAX_RANGE / 2);\n\t\t\t\t_loc8_ = Const.DEFAULT_MAX_RANGE - _loc7_;\n\t\t\t}\n\t\t\tconst _loc9_ = Utils.getLogScaledValue(mediumPrice.minPrice - _loc7_, context.verticalScaling);\n\t\t\tcontext.maxRangeLowerBound = Utils.extendedMin(_loc9_, context.maxRangeLowerBound);\n\n\t\t\tconst _loc10_ = Utils.getLogScaledValue(mediumPrice.maxPrice + _loc8_, context.verticalScaling);\n\t\t\tcontext.maxRangeUpperBound = Utils.extendedMax(_loc10_, context.maxRangeUpperBound);\n\n\t\t\tconst _loc11_ = Utils.getLogScaledValue(mediumPrice.minPrice, context.verticalScaling);\n\t\t\tconst _loc12_ = Utils.getLogScaledValue(mediumPrice.maxPrice, context.verticalScaling);\n\t\t\tcontext.minPrice = Utils.extendedMin(_loc11_, context.minPrice);\n\t\t\tcontext.maxPrice = Utils.extendedMax(_loc12_, context.maxPrice);\n\t\t\tcontext.medPrice = (context.minPrice + context.maxPrice) / 2;\n\n\t\t\tconst _loc13_ = context.maxPrice - context.minPrice;\n\t\t\tcontext.maxPriceRange = Utils.extendedMax(_loc13_, context.maxPriceRange);\n\t\t\t//console.log(Utils.appendObjectMembersAsStrings(\"context: \", context));\n\t\t\treturn context;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tif (dataSeries.points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tthis.visibleSessionsTimes = this.getVisibleSessionsTimes(context);\n\t\t\tthis.graphics.clear();\n\t\t\tthis.regionsXLimits = new IntervalSet();\n\t\t\tconst vp = this.viewPoint;\n\t\t\tthis.localYOffset = this.viewPoint.miny + vp.medPriceY + vp.V_OFFSET;\n\t\t\tthis.localYScale = vp.maxPriceRangeViewSize / context.maxPriceRange;\n\n\t\t\tfor (let intervalIndex = 0; intervalIndex < this.visibleSessionsTimes.length(); intervalIndex++)\n\t\t\t{\n\t\t\t\tconst interval = this.visibleSessionsTimes.getIntervalAt(intervalIndex);\n\t\t\t\tthis.drawAfterHoursSession(this, interval.start, interval.end, context);\n\t\t\t}\n\t\t}\n\n\t\thighlightPoint(context: Context, param2: number, state: Dictionary)\n\t\t{\n\t\t\tthis.clearHighlight();\n\t\t\tif (!this.regionsXLimits || this.regionsXLimits.length() === 0)\n\t\t\t\treturn;\n\n\t\t\tconst interval = this.regionsXLimits.getIntervalForValue(param2);\n\t\t\tif (!interval)\n\t\t\t\treturn;\n\n\t\t\tif (state[\"setter\"])\n\t\t\t\tstate[\"setter\"].clearHighlight();\n\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tif (!dataSeries)\n\t\t\t\treturn;\n\n\t\t\tconst point = this.getPoint(dataSeries, param2);\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst x = vp.getXPos(point);\n\t\t\tconst y = this.getYPos(context, point);\n\t\t\tconst gr = this.highlightCanvas.graphics;\n\t\t\tgr.lineStyle(5, Const.AH_DOT_COLOR, 1);\n\t\t\tgr.moveTo(x, y - 0.2);\n\t\t\tgr.lineTo(x, y + 0.2);\n\t\t\tstate[\"point\"] = point;\n\t\t\tstate[\"setter\"] = this;\n\t\t\tstate[\"extraText\"] = dataSeries.getSessionDisplayNameForMinute(point.dayMinute) + \": \";\n\t\t}\n\n\t\tprotected getMediumPrice(param1: number, param2: number, dataSeries: DataSeries, param4: string)\n\t\t{\n\t\t\treturn {\n\t\t\t\tmedPrice: 0,\n\t\t\t\tminPrice: this.minPrice,\n\t\t\t\tmaxPrice: this.maxPrice\n\t\t\t};\n\t\t}\n\n\t\tprivate drawAfterHoursSession(layer: AHLineChartLayer, param2: number, param3: number, context: Context)\n\t\t{\n\t\t\tconst intradayInterval = Const.INTRADAY_INTERVAL / 60;\n\t\t\tconst units = this.dataSource.afterHoursData.units;\n\t\t\tconst timeIndex1 = DataSource.getTimeIndex(param3, units);\n\t\t\tconst timeIndex2 = DataSource.getTimeIndex(param2, units);\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst right = vp.getXPos(units[timeIndex1]);\n\t\t\tlet _loc10_ = 1;\n\t\t\twhile (this.viewPoint.minutePix * intradayInterval * _loc10_ < vp.POINTS_DISTANCE)\n\t\t\t\t_loc10_ *= 2;\n\n\t\t\tlet _loc11_ = timeIndex1;\n\t\t\tif (units[_loc11_].relativeMinutes === 0)\n\t\t\t{\n\t\t\t\twhile (units[_loc11_].time > param2 && units[_loc11_].fake)\n\t\t\t\t\t_loc11_--;\n\t\t\t}\n\t\t\t_loc11_ += (timeIndex1 - _loc11_) % _loc10_;\n\t\t\tlet left = vp.getXPos(units[_loc11_]);\n\t\t\tlet yPos = this.getYPos(context, units[_loc11_]);\n\t\t\tconst gr = layer.graphics;\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tgr.beginFill(Const.ECN_LINE_CHART_FILL_COLOR, Const.ECN_LINE_CHART_FILL_VISIBILITY);\n\t\t\tgr.moveTo(left, this.viewPoint.maxy - 15);\n\t\t\tgr.lineTo(left, yPos);\n\t\t\tgr.lineStyle(Const.ECN_LINE_CHART_LINE_THICKNESS, Const.ECN_LINE_CHART_LINE_COLOR, Const.ECN_LINE_CHART_LINE_VISIBILITY);\n\t\t\tconst intradayWidth = _loc10_ * (this.viewPoint.minutePix * intradayInterval);\n\t\t\tfor (let timeIndex = _loc11_; timeIndex > timeIndex2; timeIndex -= _loc10_)\n\t\t\t{\n\t\t\t\tyPos = this.getYPos(context, units[timeIndex]);\n\t\t\t\tgr.lineTo(left, yPos);\n\t\t\t\tleft -= intradayWidth;\n\t\t\t}\n\t\t\tgr.lineTo(left, yPos);\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tgr.lineTo(left, this.viewPoint.maxy - 15);\n\t\t\tgr.endFill();\n\t\t\tthis.regionsXLimits.addInterval(left, right);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\n\texport class VolumeLinesChartLayer extends AbstractDrawingLayer<ViewPoint>\n\t{\n\t\tprotected scaledFactor: number;\n\t\tprotected factor: number;\n\t\tprotected indicator: Indicator;\n\t\tprotected computer: (interval: number, indicator: Indicator, intput: DataSeries) => void;\n\t\tprotected highlightCanvas: flash.display.Sprite = new flash.display.Sprite();\n\t\tprotected maxVolume: Map<number> = {};\n\t\tprotected originalDataSeries: DataSeries;\n\t\tprotected verticalScale = 0;\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.addChild(this.highlightCanvas);\n\t\t}\n\n\t\tprivate drawDayLine(sprite: flash.display.Sprite, dayIndex: number, viewPoint: ViewPoint, dataSeries: DataSeries, detailLevel: Intervals, param6: number, param7: number, param8: number, context: Context): number\n\t\t{\n\t\t\tconst points = dataSeries.points;\n\t\t\tconst days = dataSeries.days;\n\t\t\tif (days[dayIndex - 1] === days[dayIndex] - 1)\n\t\t\t\treturn dayIndex;\n\n\t\t\tlet _loc14_ = days[dayIndex];\n\t\t\tif (_loc14_ > param8)\n\t\t\t\t_loc14_ = param8;\n\n\t\t\tconst point = <indicator.VolumeIndicatorPoint>dataSeries.points[_loc14_];\n\t\t\tlet xPos = viewPoint.getXPos(points[_loc14_].point);\n\t\t\tconst intervalLength = viewPoint.getIntervalLength(param6 / 60);\n\t\t\tconst _loc15_ = Utils.extendedMax(param7, days[dayIndex - 1]);\n\t\t\tconst gr = sprite.graphics;\n\t\t\twhile (_loc14_ > _loc15_)\n\t\t\t{\n\t\t\t\tlet _loc13_ = viewPoint.maxy - point.volume * this.verticalScale;\n\t\t\t\tif (viewPoint.maxy - _loc13_ < 1 && viewPoint.maxy - _loc13_ > 0)\n\t\t\t\t\t_loc13_ = viewPoint.maxy - 1;\n\t\t\t\telse if (_loc13_ < viewPoint.miny)\n\t\t\t\t\t_loc13_ = viewPoint.miny;\n\n\t\t\t\tgr.moveTo(xPos, _loc13_);\n\t\t\t\tgr.lineTo(xPos, viewPoint.maxy);\n\t\t\t\t_loc14_--;\n\t\t\t\txPos -= intervalLength;\n\t\t\t}\n\t\t\treturn dayIndex;\n\t\t}\n\n\t\tsetIndicator(indicatorName: string, computer: (interval: number, indicator: Indicator, intput: DataSeries) => void, dataSeries: DataSeries)\n\t\t{\n\t\t\tthis.dataSource.indicators[indicatorName] = new Indicator();\n\t\t\tthis.indicator = this.dataSource.indicators[indicatorName];\n\t\t\tthis.indicator.clearAllOnAddData = true;\n\t\t\tthis.computer = computer;\n\t\t\tthis.originalDataSeries = dataSeries;\n\t\t}\n\n\t\tgetNewestMinute(): number\n\t\t{\n\t\t\tconst originalDataSeries = this.originalDataSeries;\n\t\t\treturn originalDataSeries.getLastRelativeMinute();\n\t\t}\n\n\t\tprotected getYPos(viewPoint: IViewPoint, indicatorPoint: indicator.VolumeIndicatorPoint): number\n\t\t{\n\t\t\tif (isNaN(indicatorPoint.volume))\n\t\t\t\treturn viewPoint.maxy;\n\n\t\t\treturn viewPoint.maxy - indicatorPoint.volume * this.verticalScale;\n\t\t}\n\n\t\tgetPoint(dataSeries: DataSeries, x: number)\n\t\t{\n\t\t\tlet pointIndex = this.getPointIndex(dataSeries, x);\n\t\t\twhile (pointIndex > 0 && (<indicator.VolumeIndicatorPoint>dataSeries.points[pointIndex]).volume === 0)\n\t\t\t\tpointIndex--;\n\n\t\t\treturn dataSeries.points[pointIndex];\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tconst skipInterval = this.viewPoint.getSkipInterval(context.count, context.lastMinute);\n\t\t\tconst dataSeries = this.indicator.getDataSeries(skipInterval.interval);\n\t\t\tif (!dataSeries || dataSeries.points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst lastMinute = this.viewPoint.getLastMinute();\n\t\t\tconst firstMinute = this.viewPoint.getFirstMinute();\n\t\t\tconst lastReferencePointIndex = dataSeries.getReferencePointIndex(lastMinute);\n\t\t\tlet firstReferencePointIndex = Number(dataSeries.getReferencePointIndex(firstMinute) - 1);\n\t\t\tif (firstReferencePointIndex < 0)\n\t\t\t\tfirstReferencePointIndex = 0;\n\n\t\t\tthis.drawLines(this, dataSeries, firstReferencePointIndex, lastReferencePointIndex, this.viewPoint, context);\n\t\t}\n\n\t\tprotected drawOneLine(param1: number, param2: number, sprite: flash.display.Sprite, viewPoint: IViewPoint)\n\t\t{\n\t\t\tif (viewPoint.maxy - param2 < 1 && viewPoint.maxy - param2 > 0)\n\t\t\t\tparam2 = viewPoint.maxy - 1;\n\t\t\telse if (param2 < viewPoint.miny)\n\t\t\t\tparam2 = viewPoint.miny;\n\n\t\t\tsprite.graphics.moveTo(param1, param2);\n\t\t\tsprite.graphics.lineTo(param1, viewPoint.maxy);\n\t\t}\n\n\t\tprivate getPointIndex(dataSeries: DataSeries, x: number): number\n\t\t{\n\t\t\tconst minute = this.viewPoint.getMinuteOfX(x);\n\t\t\tlet referencePointIndex = dataSeries.getReferencePointIndex(minute);\n\t\t\twhile (dataSeries.units[referencePointIndex].fake && referencePointIndex >= 0)\n\t\t\t\treferencePointIndex--;\n\n\t\t\tif (referencePointIndex < dataSeries.points.length - 1)\n\t\t\t{\n\t\t\t\tconst point = dataSeries.points[referencePointIndex].point;\n\t\t\t\tconst nextPoint = dataSeries.points[referencePointIndex + 1].point;\n\t\t\t\tconst pointX = this.viewPoint.getMinuteXPos(nextPoint.relativeMinutes);\n\t\t\t\tconst nextPointX = this.viewPoint.getMinuteXPos(point.relativeMinutes);\n\t\t\t\tif (Math.abs(pointX - x) < Math.abs(nextPointX - x))\n\t\t\t\t\treturn referencePointIndex + 1;\n\t\t\t}\n\t\t\treturn referencePointIndex;\n\t\t}\n\n\t\tclearHighlight()\n\t\t{\n\t\t\tthis.highlightCanvas.graphics.clear();\n\t\t}\n\n\t\tgetOldestMinute(): number\n\t\t{\n\t\t\tconst originalDataSeries = this.originalDataSeries;\n\t\t\treturn originalDataSeries.getFirstRelativeMinute();\n\t\t}\n\n\t\tprotected drawLines(sprite: flash.display.Sprite, dataSeries: DataSeries, param3: number, param4: number, viewPoint: ViewPoint, context: Context)\n\t\t{\n\t\t\tconst _loc7_ = <indicator.VolumeIndicatorPoint[]>dataSeries.points;\n\t\t\t//const _loc8_ = param2.days;\n\t\t\tlet nextDayStart = dataSeries.getNextDayStart(param4);\n\t\t\tconst detailLevel = viewPoint.getDetailLevel();\n\t\t\tconst skipInterval = viewPoint.getSkipInterval();\n\t\t\t//const _loc12_ = _loc11_.skip;\n\t\t\tconst interval = skipInterval.interval;\n\t\t\tthis.verticalScale = (viewPoint.maxy - viewPoint.miny - 6) / context.maxVolume;\n\t\t\tconst gr = sprite.graphics;\n\t\t\tgr.clear();\n\t\t\tgr.lineStyle(0, this.lineColor, 1);\n\t\t\tswitch (detailLevel)\n\t\t\t{\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\twhile (dataSeries.days[nextDayStart] > param3 && nextDayStart >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.drawDayLine(sprite, nextDayStart, viewPoint, dataSeries, detailLevel, interval, param3, param4, context);\n\t\t\t\t\t\tnextDayStart--;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\t\t{\n\t\t\t\t\t\t//_loc14_ = param5.getXPos(_loc7_[_loc16_].point);\n\t\t\t\t\t\t//_loc17_ = param5.minutePix * (this.dataSource.data.marketDayLength + 1);\n\t\t\t\t\t\tfor (let _loc16_ = param4; _loc16_ > param3 && _loc16_ >= 0; _loc16_--)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet _loc15_ = this.getYPos(viewPoint, _loc7_[_loc16_]);\n\t\t\t\t\t\t\tconst _loc14_ = viewPoint.getXPos(_loc7_[_loc16_].point);\n\t\t\t\t\t\t\tif (viewPoint.maxy - _loc15_ < 1 && viewPoint.maxy - _loc15_ > 0)\n\t\t\t\t\t\t\t\t_loc15_ = viewPoint.maxy - 1;\n\t\t\t\t\t\t\telse if (_loc15_ < viewPoint.miny)\n\t\t\t\t\t\t\t\t_loc15_ = viewPoint.miny;\n\n\t\t\t\t\t\t\tgr.moveTo(_loc14_, _loc15_);\n\t\t\t\t\t\t\tgr.lineTo(_loc14_, viewPoint.maxy);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (let _loc16_ = param4; _loc16_ > param3 && _loc16_ >= 0; _loc16_--)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc14_ = viewPoint.getXPos(_loc7_[_loc16_].point);\n\t\t\t\t\t\t\tlet _loc15_ = this.getYPos(viewPoint, _loc7_[_loc16_]);\n\t\t\t\t\t\t\tif (viewPoint.maxy - _loc15_ < 1 && viewPoint.maxy - _loc15_ > 0)\n\t\t\t\t\t\t\t\t_loc15_ = viewPoint.maxy - 1;\n\t\t\t\t\t\t\telse if (_loc15_ < viewPoint.miny)\n\t\t\t\t\t\t\t\t_loc15_ = viewPoint.miny;\n\n\t\t\t\t\t\t\tgr.moveTo(_loc14_, _loc15_);\n\t\t\t\t\t\t\tgr.lineTo(_loc14_, viewPoint.maxy);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tprotected getMaxVolume(param1: number, param2: number, param3: boolean): number\n\t\t{\n\t\t\tlet _loc13_ = NaN;\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst skipInterval = viewPoint.getSkipInterval(param2, param1);\n\t\t\tconst interval = skipInterval.interval;\n\t\t\t//const _loc7_ = _loc5_.skip;\n\t\t\tconst dataSeries = notnull(this.indicator.getDataSeries(interval));\n\t\t\tconst detailLevel = viewPoint.getDetailLevel(param2, param1);\n\t\t\tconst _loc10_ = 'c' + param2 + '-' + detailLevel + '-' + dataSeries.units.length;\n\t\t\tif (this.maxVolume[_loc10_] !== undefined)\n\t\t\t\treturn this.maxVolume[_loc10_];\n\n\t\t\tlet _loc11_ = 0;\n\t\t\tfor (const point of dataSeries.points)\n\t\t\t{\n\t\t\t\tif ((<indicator.VolumeIndicatorPoint>point).volume > _loc11_)\n\t\t\t\t\t_loc11_ = Number((<indicator.VolumeIndicatorPoint>point).volume);\n\t\t\t}\n\t\t\tthis.maxVolume[_loc10_] = _loc11_;\n\t\t\tfor (let scaleIndex = 1; scaleIndex < Const.VOLUME_SCALES.length; scaleIndex++)\n\t\t\t{\n\t\t\t\t_loc13_ = Const.VOLUME_SCALES[scaleIndex];\n\t\t\t\tif (Math.floor(this.maxVolume[_loc10_] / _loc13_) < 10)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst _loc14_ = (Math.floor(this.maxVolume[_loc10_] / _loc13_) + 1) * _loc13_;\n\t\t\tthis.maxVolume[_loc10_] = _loc14_;\n\t\t\treturn this.maxVolume[_loc10_];\n\t\t}\n\n\t\tgetDataSeries(context: Context): DataSeries\n\t\t{\n\t\t\tconst vp = this.viewPoint;\n\t\t\tif (!context)\n\t\t\t\tcontext = vp.layersContext;\n\n\t\t\tconst skipInterval = vp.getSkipInterval(context.count, context.lastMinute);\n\t\t\tthis.computer(skipInterval.interval, this.indicator, this.originalDataSeries);\n\t\t\treturn notnull(this.indicator.getDataSeries(skipInterval.interval));\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries(context);\n\t\t\tif (dataSeries.points.length === 0)\n\t\t\t{\n\t\t\t\tif (context.maxVolume === undefined)\n\t\t\t\t\tcontext.maxVolume = 0;\n\n\t\t\t\treturn context;\n\t\t\t}\n\t\t\tconst maxVolume = this.getMaxVolume(context.lastMinute, context.count, param2);\n\t\t\tcontext.maxVolume = Utils.extendedMax(context.maxVolume, maxVolume);\n\t\t\treturn context;\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t\tthis.clearHighlight();\n\t\t\tconst skipInterval = this.viewPoint.getSkipInterval(context.count, context.lastMinute);\n\t\t\tconst dataSeries = this.indicator.getDataSeries(skipInterval.interval);\n\t\t\tif (!dataSeries)\n\t\t\t\treturn;\n\n\t\t\tconst firstReferencePoint = dataSeries.getFirstReferencePoint();\n\t\t\tconst lastReferencePoint = dataSeries.getLastReferencePoint();\n\t\t\tif (!firstReferencePoint || !lastReferencePoint)\n\t\t\t\treturn;\n\n\t\t\tconst firstMinuteXPos = this.viewPoint.getMinuteXPos(firstReferencePoint.relativeMinutes);\n\t\t\tconst lastMinuteXPos = this.viewPoint.getMinuteXPos(lastReferencePoint.relativeMinutes);\n\t\t\tif (x < firstMinuteXPos || x > lastMinuteXPos)\n\t\t\t\treturn;\n\n\t\t\tif (state[\"ahsetter\"] !== undefined)\n\t\t\t\treturn;\n\n\t\t\tconst point = this.getPoint(dataSeries, x) as indicator.VolumeIndicatorPoint;\n\t\t\tconst xPos = this.viewPoint.getXPos(point.point);\n\t\t\tconst yPos = this.getYPos(this.viewPoint, point);\n\t\t\tthis.highlightCanvas.graphics.lineStyle(2, Const.VOLUME_HIGHLIGHT_COLOR, 1);\n\t\t\tthis.drawOneLine(xPos, yPos, this.highlightCanvas, this.viewPoint);\n\t\t\tstate[SpaceText.VOLUME_STR] = point.volume;\n\t\t\tstate[\"volumesetter\"] = this;\n\t\t}\n\t}\n}\n","/// <reference path=\"VolumeLinesChartLayer.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\n\texport class AHVolumeLayer extends VolumeLinesChartLayer\n\t{\n\t\tprotected regionsXLimits: IntervalSet;\n\t\tprotected readonly maxVolumeCache: Map<number> = {};\n\n\t\tprivate drawAfterHoursSession(layer: AHVolumeLayer, dataSeries: DataSeries, startTime: number, endTime: number, context: Context, interval: number)\n\t\t{\n\t\t\tconst timeIndex2 = DataSource.getTimeIndex(endTime, dataSeries.units);\n\t\t\tconst timeIndex1 = DataSource.getTimeIndex(startTime, dataSeries.units);\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst points = <indicator.VolumeIndicatorPoint[]>dataSeries.points;\n\t\t\tconst right = viewPoint.getXPos(points[timeIndex2].point);\n\t\t\tlet left = right;\n\t\t\tconst intervalLength = viewPoint.getIntervalLength(interval / 60);\n\t\t\tconst gr = layer.graphics;\n\t\t\tfor (let timeIndex = timeIndex2; timeIndex > timeIndex1; timeIndex--)\n\t\t\t{\n\t\t\t\tlet _loc15_ = viewPoint.maxy - points[timeIndex].volume * this.verticalScale;\n\t\t\t\tif (viewPoint.maxy - _loc15_ < 1 && viewPoint.maxy - _loc15_ > 0)\n\t\t\t\t\t_loc15_ = viewPoint.maxy - 1;\n\t\t\t\telse if (_loc15_ < viewPoint.miny)\n\t\t\t\t\t_loc15_ = viewPoint.miny;\n\n\t\t\t\tgr.moveTo(left, _loc15_);\n\t\t\t\tgr.lineTo(left, viewPoint.maxy);\n\t\t\t\tleft -= intervalLength;\n\t\t\t}\n\t\t\tthis.regionsXLimits.addInterval(left, right);\n\t\t}\n\n\t\tprivate getMaxVolumeHashKey(param1: number, interval: number): string\n\t\t{\n\t\t\treturn param1 + '-' + interval;\n\t\t}\n\n\t\tprotected drawLines(sprite: flash.display.Sprite, dataSeries: DataSeries, param3: number, param4: number, viewPoint: IViewPoint, context: Context)\n\t\t{\n\t\t\tconst skipInterval = (<ViewPoint>viewPoint).getSkipInterval();\n\t\t\t//const _loc8_ = _loc7_.skip;\n\t\t\tconst skip = skipInterval.interval;\n\t\t\tthis.verticalScale = (viewPoint.maxy - viewPoint.miny - 6) / context.maxVolume;\n\t\t\tthis.graphics.clear();\n\t\t\tthis.graphics.lineStyle(0, this.lineColor, 1);\n\t\t\tconst visibleExtendedHours = this.dataSource.visibleExtendedHours;\n\t\t\tthis.regionsXLimits = new IntervalSet();\n\n\t\t\tfor (let intervalIndex = 0; intervalIndex < visibleExtendedHours.length(); intervalIndex++)\n\t\t\t{\n\t\t\t\tconst interval = visibleExtendedHours.getIntervalAt(intervalIndex);\n\t\t\t\tconst startUnit = this.dataSource.afterHoursData.units[interval.start];\n\t\t\t\tconst endUnit = this.dataSource.afterHoursData.units[interval.end];\n\t\t\t\tif (ViewPoint.sessionVisible(startUnit, endUnit, context))\n\t\t\t\t\tthis.drawAfterHoursSession(this, dataSeries, startUnit.time, endUnit.time, context, skip);\n\t\t\t}\n\t\t}\n\n\t\thighlightPoint(context: Context, param2: number, state: Dictionary)\n\t\t{\n\t\t\tthis.clearHighlight();\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst skipInterval = vp.getSkipInterval(context.count, context.lastMinute);\n\t\t\tconst dataSeries = this.indicator.getDataSeries(skipInterval.interval);\n\n\t\t\tif (!dataSeries || !this.regionsXLimits || !this.regionsXLimits.containsValue(param2))\n\t\t\t\treturn;\n\n\t\t\tif (state[\"volumesetter\"])\n\t\t\t\tstate[\"volumesetter\"].clearHighlight();\n\n\t\t\tconst indicatorPoint = <indicator.VolumeIndicatorPoint>this.getPoint(dataSeries, param2);\n\t\t\tconst x = vp.getXPos(indicatorPoint.point);\n\t\t\tconst y = this.getYPos(this.viewPoint, indicatorPoint);\n\t\t\tthis.highlightCanvas.graphics.lineStyle(2, Const.VOLUME_HIGHLIGHT_COLOR, 1);\n\t\t\tthis.drawOneLine(x, y, this.highlightCanvas, this.viewPoint);\n\t\t\tstate[\"volume\"] = indicatorPoint.volume;\n\t\t\tstate[\"ahsetter\"] = this;\n\t\t}\n\n\t\tprotected getMaxVolume(param1: number, param2: number, param3: boolean): number\n\t\t{\n\t\t\tconst interval = this.viewPoint.getSkipInterval(param2, param1).interval;\n\t\t\tif (interval >= Const.DAILY_INTERVAL)\n\t\t\t\treturn 0;\n\n\t\t\tconst visibleExtendedHours = this.dataSource.visibleExtendedHours;\n\t\t\tlet maxVolume = 0;\n\t\t\tconst dataSeries = notnull(this.indicator.getDataSeries(interval));\n\n\t\t\tfor (let intervalIndex = 0; intervalIndex < visibleExtendedHours.length(); intervalIndex++)\n\t\t\t{\n\t\t\t\tconst startEndPair = visibleExtendedHours.getIntervalAt(intervalIndex);\n\t\t\t\tconst startUnits = this.dataSource.afterHoursData.units[startEndPair.start];\n\t\t\t\tconst endUnits = this.dataSource.afterHoursData.units[startEndPair.end];\n\t\t\t\tconst maxVolumeHashKey = this.getMaxVolumeHashKey(startUnits.time, interval);\n\t\t\t\tif (this.maxVolumeCache[maxVolumeHashKey] === undefined)\n\t\t\t\t{\n\t\t\t\t\tconst timeIndex1 = DataSource.getTimeIndex(endUnits.time, dataSeries.units);\n\t\t\t\t\tconst timeIndex2 = DataSource.getTimeIndex(startUnits.time, dataSeries.units);\n\t\t\t\t\tlet _loc15_ = 0;\n\n\t\t\t\t\tfor (let timeIndex = timeIndex2; timeIndex < timeIndex1; timeIndex++)\n\t\t\t\t\t\t_loc15_ = Math.max((<indicator.VolumeIndicatorPoint>dataSeries.points[timeIndex]).volume, _loc15_);\n\n\t\t\t\t\tif (timeIndex1 > timeIndex2)\n\t\t\t\t\t\tthis.maxVolumeCache[maxVolumeHashKey] = _loc15_;\n\t\t\t\t}\n\t\t\t\tmaxVolume = Utils.extendedMax(maxVolume, this.maxVolumeCache[maxVolumeHashKey]);\n\t\t\t}\n\t\t\treturn maxVolume;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.utils.setInterval;\n\t// import flash.utils.clearInterval;\n\n\texport class AnimationManager extends flash.display.Sprite\n\t{\n\t\tprivate static readonly ANIMATION_FRAME_LENGTH_MS = 40;\n\t\tprivate static readonly MAX_STEPS = 10;\n\n\t\tprivate intervalId: number;\n\t\tprivate stepCount = 0;\n\t\t//private listeners: any[];\n\t\tprivate amount = 0;\n\n\t\tanimate(lfunctions: ((displayObject: flash.display.DisplayObject, amount: number, clicked: boolean) => void)[], displayObjects: flash.display.DisplayObject[], param3 = NaN, param4 = false)\n\t\t{\n\t\t\tconst lobjects = displayObjects;\n\t\t\tconst opt_stepCount = param3;\n\t\t\tconst opt_pinClicked = param4;\n\t\t\tthis.stepCount = isNaN(opt_stepCount) ? AnimationManager.MAX_STEPS : opt_stepCount;\n\t\t\tthis.amount = 1;\n\t\t\tthis.stopAnimation();\n\t\t\tif (this.stepCount === 1)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < lfunctions.length; j++)\n\t\t\t\t\tlfunctions[j](lobjects[j], 0, opt_pinClicked);\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.intervalId = setInterval(() =>\n\t\t\t\t{\n\t\t\t\t\tthis.stepCount--;\n\n\t\t\t\t\tfor (let functionIndex = 0; functionIndex < lfunctions.length; functionIndex++)\n\t\t\t\t\t\tlfunctions[functionIndex](lobjects[functionIndex], this.amount, opt_pinClicked);\n\n\t\t\t\t\tif (this.stepCount <= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (let functionIndex = 0; functionIndex < lfunctions.length; functionIndex++)\n\t\t\t\t\t\t\tlfunctions[functionIndex](lobjects[functionIndex], 0, opt_pinClicked);\n\n\t\t\t\t\t\tthis.stopAnimation();\n\t\t\t\t\t}\n\t\t\t\t\tthis.amount = this.amount / 3;\n\t\t\t\t},\n\t\t\t\tAnimationManager.ANIMATION_FRAME_LENGTH_MS\n\t\t\t);\n\t\t}\n\n\t\tstopAnimation()\n\t\t{\n\t\t\tclearInterval(this.intervalId);\n\t\t\tthis.intervalId = NaN;\n\t\t}\n\n\t\tisAnimating(): boolean\n\t\t{\n\t\t\treturn !isNaN(this.intervalId);\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/DisplayObject.ts\"/>\n\nnamespace com.google.finance\n{\n\t// import flash.display.Shape;\n\t// import flash.display.DisplayObject;\n\n\texport class BorderLayer extends flash.display.Shape\n\t{\n\t\tconstructor(public readonly displayManager: DisplayManager, public topViewPoint: SparklineViewPoint)\n\t\t{\n\t\t\tsuper(document.createElement(\"div\"));\n\t\t}\n\n\t\tupdate(borderLayer?: BorderLayer, param2 = 0, param3 = false)\n\t\t{\n\t\t\tif (borderLayer)\n\t\t\t{\n\t\t\t\tthis.topViewPoint = borderLayer.topViewPoint;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// TODO:\n\t\t\t\t//_loc4_ = {};\n\t\t\t\t//if (this.topViewPoint.windowLayer)\n\t\t\t\t//\tdebugger;\n\t\t\t\tborderLayer = this;\n\t\t\t}\n\n\t\t\tif (!this.topViewPoint.windowLayer)\n\t\t\t\treturn;\n\n\t\t\tconst windowLayer = this.topViewPoint.windowLayer;\n\t\t\tconst leftHandle = windowLayer.leftHandle;\n\t\t\tconst rightHandle = windowLayer.rightHandle;\n\t\t\tlet handleLeftX = Math.floor(this.topViewPoint.getHandleLeftX());\n\t\t\tlet handleRightX = Math.floor(this.topViewPoint.getHandleRightX());\n\t\t\t//const _loc10_ = Const.MOVIE_WIDTH;\n\t\t\tconst height = Const.MOVIE_HEIGHT;\n\t\t\tif (handleLeftX <= 0 || handleRightX <= 0)\n\t\t\t\treturn;\n\n\t\t\tif (handleLeftX === handleRightX)\n\t\t\t{\n\t\t\t\thandleLeftX = handleLeftX - 3;\n\t\t\t\thandleRightX = handleRightX + 3;\n\t\t\t}\n\t\t\tconst scrollSlider = windowLayer.scrollSlider;\n\t\t\tconst gr = borderLayer.graphics;\n\t\t\tgr.clear();\n\t\t\tconst left = Math.floor(scrollSlider.x);\n\t\t\tconst right = Math.floor(scrollSlider.x + scrollSlider.width);\n\t\t\tif (handleLeftX === left - 1)\n\t\t\t\thandleLeftX = left;\n\n\t\t\tif (handleRightX === right + 1)\n\t\t\t\thandleRightX = right;\n\n\t\t\tconst y = height - Const.SPARKLINE_HEIGHT - Const.SPARK_PADDING;\n\t\t\tgr.lineStyle(0, Const.BORDER_LINE_COLOR, Const.BORDER_LINE_OPACITY);\n\t\t\tgr.moveTo(left, height - 1);\n\t\t\tgr.lineTo(right, height - 1);\n\t\t\tgr.lineTo(right, height - Const.SCROLL_HEIGHT - 2);\n\t\t\tgr.lineTo(handleRightX, height - Const.SCROLL_HEIGHT - 2);\n\t\t\tif (windowLayer.contains(leftHandle))\n\t\t\t{\n\t\t\t\tgr.lineTo(handleRightX, rightHandle.y + rightHandle.height - 1);\n\t\t\t\tgr.moveTo(handleRightX, rightHandle.y + 1);\n\t\t\t}\n\t\t\tgr.lineTo(handleRightX, y);\n\t\t\tgr.lineTo(Const.MOVIE_WIDTH - 1 - 1, y);\n\t\t\tgr.lineTo(Const.MOVIE_WIDTH - 1 - 1, 1);\n\t\t\tgr.lineTo(1, 1);\n\t\t\tgr.lineTo(1, y);\n\t\t\tgr.lineTo(handleLeftX, y);\n\t\t\tif (windowLayer.contains(leftHandle))\n\t\t\t{\n\t\t\t\tgr.lineTo(handleLeftX, leftHandle.y + 1);\n\t\t\t\tgr.moveTo(handleLeftX, leftHandle.y + leftHandle.height - 1);\n\t\t\t}\n\t\t\tgr.lineTo(handleLeftX, height - Const.SCROLL_HEIGHT - 2);\n\t\t\tgr.lineTo(left, height - Const.SCROLL_HEIGHT - 2);\n\t\t\tgr.lineTo(left, height);\n\t\t\tgr.lineStyle(0, Const.BORDER_SHADOW_COLOR, 1);\n\t\t\tgr.moveTo(handleRightX + 1, height - Const.SCROLL_HEIGHT - 2 - 0.5);\n\t\t\tif (windowLayer.contains(rightHandle))\n\t\t\t{\n\t\t\t\tgr.lineTo(handleRightX + 1, rightHandle.y + rightHandle.height - 1);\n\t\t\t\tgr.moveTo(handleRightX + 1, rightHandle.y + 1);\n\t\t\t}\n\t\t\tgr.lineTo(handleRightX + 1, y + 1);\n\t\t\tgr.lineTo(Const.MOVIE_WIDTH - 1, y + 1);\n\t\t\tgr.lineTo(Const.MOVIE_WIDTH - 1, 0);\n\t\t\tgr.lineTo(0, 0);\n\t\t\tgr.lineTo(0, y + 1);\n\t\t\tgr.lineTo(handleLeftX - 1, y + 1);\n\t\t\tif (windowLayer.contains(leftHandle))\n\t\t\t{\n\t\t\t\tgr.lineTo(handleLeftX - 1, leftHandle.y + 1);\n\t\t\t\tgr.moveTo(handleLeftX - 1, leftHandle.y + leftHandle.height - 1);\n\t\t\t}\n\t\t\tgr.lineTo(handleLeftX - 1, height - Const.SCROLL_HEIGHT - 2);\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tgr.lineStyle(0, Const.HORIZONTAL_LINE_COLOR, 1);\n\n\t\t\t\tlet renderedViewPointIndex = 1;\n\t\t\t\tfor (const viewPoint of this.displayManager.getViewPoints())\n\t\t\t\t{\n\t\t\t\t\tif (Const.INDEPENDENT_INDICATOR_NAMES.indexOf(viewPoint.name) !== -1 || viewPoint.name === Const.BOTTOM_VIEW_POINT_NAME)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst yPos2 = y - Const.TECHNICAL_INDICATOR_HEIGHT * renderedViewPointIndex;\n\t\t\t\t\t\tgr.moveTo(1, yPos2);\n\t\t\t\t\t\tgr.lineTo(Const.MOVIE_WIDTH - 1 - 1, yPos2);\n\t\t\t\t\t\trenderedViewPointIndex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class BottomBarLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tbottomTextHeight = 15;\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tviewPoint.bottomTextHeight = this.bottomTextHeight;\n\t\t}\n\n\t\tprivate drawRectangle(color: number, alpha: number, x1: number, y1: number, x2: number, y2: number)\n\t\t{\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tgr.beginFill(color, alpha);\n\t\t\tgr.drawRect(x1, y1, x2 - x1, y2 - y1);\n\t\t\t/*\n\t\t\tgr.moveTo(param3, param4);\n\t\t\tgr.lineTo(param5, param4);\n\t\t\tgr.lineTo(param5, param6);\n\t\t\tgr.lineTo(param3, param6);\n\t\t\tgr.lineTo(param3, param4);\n\t\t\t*/\n\t\t\tgr.endFill();\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.graphics.clear();\n\t\t\tthis.drawRectangle(Const.TEXT_BACKGROUND_COLOR, 80, this.viewPoint.minx, this.viewPoint.maxy - this.bottomTextHeight, this.viewPoint.maxx, this.viewPoint.maxy);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class Bounds\n\t{\n\t\tconstructor(public minx: number, public miny: number, public maxx: number, public maxy: number) { }\n\n\t\ttoString(): string\n\t\t{\n\t\t\treturn '[' + this.minx + ',' + this.miny + \"][\" + this.maxx + ',' + this.maxy + ']';\n\t\t}\n\n\t\tcontainsPoint(x: number, y: number): boolean\n\t\t{\n\t\t\treturn x > this.minx && x < this.maxx && y > this.miny && y < this.maxy;\n\t\t}\n\n\t\tappend(bounds: Bounds)\n\t\t{\n\t\t\tthis.minx = Math.min(this.minx, bounds.minx);\n\t\t\tthis.miny = Math.min(this.miny, bounds.miny);\n\t\t\tthis.maxx = Math.max(this.maxx, bounds.maxx);\n\t\t\tthis.maxy = Math.max(this.maxy, bounds.maxy);\n\t\t}\n\n\t\tequals(otherBounds: any): boolean\n\t\t{\n\t\t\tconst bounds = otherBounds as Bounds;\n\t\t\tif (bounds)\n\t\t\t\treturn bounds.minx === this.minx && bounds.miny === this.miny && bounds.maxx === this.maxx && bounds.maxy === this.maxy;\n\n\t\t\treturn false;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import com.google.i18n.locale.DateTimeLocale;\n\t// import flash.display.Sprite;\n\n\texport class IntervalBasedChartLayer extends AbstractDrawingLayer<ViewPoint>\n\t{\n\t\tprivate enabled: boolean;\n\t\tprivate layerName: string;\n\n\t\tprotected localYOffset: number;\n\t\tprotected localYScale: number;\n\t\tprotected readonly highlightCanvas = new flash.display.Sprite(\"highlightCanvas\");\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.addChild(this.highlightCanvas);\n\t\t\tthis.setEnabled(false);\n\t\t}\n\n\t\tprotected getCloseYPos(context: Context, dataUnit: DataUnit): number\n\t\t{\n\t\t\treturn this.getYPos(context, dataUnit.getCloseLogValue(context.verticalScaling));\n\t\t}\n\n\t\tgetLayerName(): string\n\t\t{\n\t\t\treturn this.layerName;\n\t\t}\n\n\t\tprotected getPointsForCurrentDetailLevel(param1 = NaN, param2 = NaN): DataUnit[]\n\t\t{\n\t\t\tlet detailLevel;\n\t\t\tconst vp = this.viewPoint;\n\t\t\tif (!isNaN(param1) && !isNaN(param2))\n\t\t\t\tdetailLevel = vp.getDetailLevelForTechnicalStyle(param1, param2);\n\t\t\telse\n\t\t\t\tdetailLevel = vp.getDetailLevelForTechnicalStyle();\n\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\treturn notnull(this.getDataSeries()).getPointsInIntervalArray(detailLevelInterval);\n\t\t}\n\n\t\tshouldDisplayOhlcText(dataUnit: DataUnit): boolean\n\t\t{\n\t\t\tconst enabledChartLayer = this.viewPoint.getDisplayManager().getEnabledChartLayer();\n\t\t\tif (enabledChartLayer !== Const.CANDLE_STICK && enabledChartLayer !== Const.OHLC_CHART)\n\t\t\t\treturn false;\n\n\t\t\tif (isNaN(dataUnit.open) || isNaN(dataUnit.high) || isNaN(dataUnit.low))\n\t\t\t\treturn false;\n\n\t\t\treturn true;\n\t\t}\n\n\t\tprotected getOhlcYPos(context: Context, dataUnit: DataUnit)\n\t\t{\n\t\t\treturn {\n\t\t\t\tcloseY: this.getYPos(context, dataUnit.getCloseLogValue(context.verticalScaling)),\n\t\t\t\topenY: this.getYPos(context, dataUnit.getOpenLogValue(context.verticalScaling)),\n\t\t\t\thighY: this.getYPos(context, dataUnit.getHighLogValue(context.verticalScaling)),\n\t\t\t\tlowY: this.getYPos(context, dataUnit.getLowLogValue(context.verticalScaling))\n\t\t\t};\n\t\t}\n\n\t\tprivate getYPos(context: Context, param2: number): number\n\t\t{\n\t\t\tassert(!isNaN(param2));\n\t\t\treturn this.localYOffset - this.localYScale * (param2 - context.medPrice);\n\t\t}\n\n\t\tgetOhlcBasePrice(dataUnit1: DataUnit, dataUnit2: DataUnit | null): number\n\t\t{\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\treturn !dataUnit2 ? Number(dataUnit1.open) : dataUnit2.close;\n\n\t\t\treturn -1;\n\t\t}\n\n\t\tgetCandleStickColor(dataUnit: DataUnit): number\n\t\t{\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\treturn dataUnit.close >= dataUnit.open ? Number(Const.POSITIVE_DIFFERENCE_COLOR) : Const.NEGATIVE_DIFFERENCE_COLOR;\n\n\t\t\treturn Const.LINE_CHART_LINE_COLOR;\n\t\t}\n\n\t\tclearHighlight()\n\t\t{\n\t\t\tthis.highlightCanvas.graphics.clear();\n\t\t}\n\n\t\tisEnabled(): boolean\n\t\t{\n\t\t\treturn this.enabled;\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn context;\n\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst displayManager = vp.getDisplayManager().getEnabledChartLayer();\n\t\t\tconst _loc4_ = displayManager === Const.LINE_CHART;\n\t\t\tlet detailLevel = vp.getDetailLevelForTechnicalStyle(context.lastMinute, context.count);\n\t\t\tconst dataSeries = notnull(this.getDataSeries(context));\n\t\t\tlet _loc9_ = NaN;\n\t\t\tlet _loc10_ = NaN;\n\t\t\tconst _loc11_ = context.lastMinute - context.count;\n\t\t\tconst lastMinute = context.lastMinute;\n\t\t\tlet _loc7_ = 0;\n\t\t\tdo\n\t\t\t{\n\t\t\t\tconst points = dataSeries.getPointsInIntervalArray(Const.getDetailLevelInterval(detailLevel));\n\t\t\t\tconst _loc19_ = Const.getDetailLevelInterval(detailLevel) / 60;\n\t\t\t\tif (points && points.length > 0 && points[0].relativeMinutes <= lastMinute)\n\t\t\t\t{\n\t\t\t\t\t_loc7_ = dataSeries.getRelativeMinuteIndex(_loc11_, points) - 1;\n\t\t\t\t\tif (_loc7_ < 0)\n\t\t\t\t\t\t_loc7_ = 0;\n\n\t\t\t\t\tlet lastMinuteIndex = dataSeries.getRelativeMinuteIndex(context.lastMinute, points) + 1;\n\t\t\t\t\tif (lastMinuteIndex >= points.length)\n\t\t\t\t\t\tlastMinuteIndex = points.length - 1;\n\n\t\t\t\t\tif (detailLevel < Intervals.DAILY)\n\t\t\t\t\t{\n\t\t\t\t\t\twhile (_loc7_ < points.length && (isNaN(points[_loc7_].relativeMinutes) || _loc11_ - points[_loc7_].relativeMinutes >= _loc19_))\n\t\t\t\t\t\t\t_loc7_++;\n\n\t\t\t\t\t\twhile (lastMinuteIndex >= 0 && (isNaN(points[lastMinuteIndex].relativeMinutes) || points[lastMinuteIndex].relativeMinutes - lastMinute >= _loc19_))\n\t\t\t\t\t\t\tlastMinuteIndex--;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let minuteIndex = lastMinuteIndex; minuteIndex >= _loc7_; minuteIndex--)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst unit = points[minuteIndex];\n\t\t\t\t\t\tconst _loc21_ = !_loc4_ && unit.low ? unit.low : unit.close;\n\t\t\t\t\t\t_loc10_ = Utils.extendedMin(_loc10_, _loc21_);\n\t\t\t\t\t\tconst _loc22_ = !_loc4_ && unit.high ? unit.high : unit.close;\n\t\t\t\t\t\t_loc9_ = Utils.extendedMax(_loc9_, _loc22_);\n\t\t\t\t\t}\n\t\t\t\t\tif (points[0].relativeMinutes - 1 <= _loc11_)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdetailLevel++;\n\t\t\t}\n\t\t\twhile (_loc4_ && detailLevel <= Intervals.WEEKLY && _loc7_ === 0);\n\n\t\t\tif (isNaN(_loc9_) || isNaN(_loc10_))\n\t\t\t\treturn context;\n\n\t\t\tlet _loc13_ = 0;\n\t\t\tlet _loc14_ = 0;\n\t\t\tif (_loc9_ === _loc10_ && !context.maxPrice && !context.minPrice)\n\t\t\t{\n\t\t\t\t_loc13_ = Number(Math.min(_loc10_, Const.DEFAULT_MAX_RANGE / 2));\n\t\t\t\t_loc14_ = Number(Const.DEFAULT_MAX_RANGE - _loc13_);\n\t\t\t}\n\t\t\tconst _loc15_ = Utils.getLogScaledValue(_loc10_ - _loc13_, context.verticalScaling);\n\t\t\tconst _loc16_ = Utils.getLogScaledValue(_loc9_ + _loc14_, context.verticalScaling);\n\t\t\tcontext.maxRangeUpperBound = Utils.extendedMax(_loc16_, context.maxRangeUpperBound);\n\t\t\tcontext.maxRangeLowerBound = Utils.extendedMin(_loc15_, context.maxRangeLowerBound);\n\t\t\tcontext.maxPriceRange = Utils.extendedMax(context.maxRangeUpperBound - context.maxRangeLowerBound, context.maxPriceRange);\n\t\t\t_loc10_ = Utils.getLogScaledValue(_loc10_, context.verticalScaling);\n\t\t\t_loc9_ = Utils.getLogScaledValue(_loc9_, context.verticalScaling);\n\t\t\tcontext.maxPrice = Utils.extendedMax(context.maxPrice, _loc9_);\n\t\t\tcontext.minPrice = Utils.extendedMin(context.minPrice, _loc10_);\n\t\t\tcontext.medPrice = (context.maxPrice + context.minPrice) / 2;\n\t\t\treturn context;\n\t\t}\n\n\t\tsetLayerName(layerName: string)\n\t\t{\n\t\t\tthis.layerName = layerName;\n\t\t}\n\n\t\tprotected findPointIndex(x: number): number\n\t\t{\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tconst points = this.getPointsForCurrentDetailLevel();\n\t\t\tif (!points)\n\t\t\t\treturn -1;\n\n\t\t\tconst minute = this.viewPoint.getMinuteOfX(x);\n\t\t\tlet relativeMinuteIndex = dataSeries.getRelativeMinuteIndex(minute, points);\n\t\t\tif (relativeMinuteIndex === points.length - 2)\n\t\t\t{\n\t\t\t\tif (Math.abs(minute - points[relativeMinuteIndex].relativeMinutes) > Math.abs(minute - points[relativeMinuteIndex + 1].relativeMinutes))\n\t\t\t\t\trelativeMinuteIndex++;\n\t\t\t}\n\t\t\tif (this.viewPoint.getDetailLevelForTechnicalStyle() === Intervals.WEEKLY)\n\t\t\t{\n\t\t\t\twhile (relativeMinuteIndex + 1 < points.length && points[relativeMinuteIndex + 1].weeklyXPos <= x)\n\t\t\t\t\trelativeMinuteIndex++;\n\t\t\t}\n\t\t\twhile (relativeMinuteIndex > 0 && (points[relativeMinuteIndex].fake || points[relativeMinuteIndex].duplicate))\n\t\t\t\trelativeMinuteIndex--;\n\n\t\t\treturn relativeMinuteIndex;\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn;\n\n\t\t\tconst pointIndex = this.findPointIndex(x);\n\t\t\tconst points = this.getPointsForCurrentDetailLevel();\n\t\t\tif (!points || pointIndex === -1)\n\t\t\t\treturn;\n\n\t\t\tconst unit = points[pointIndex];\n\t\t\tconst xPos = !isNaN(unit.weeklyXPos) ? Number(unit.weeklyXPos) : this.viewPoint.getXPos(unit);\n\t\t\tconst closeYPos = this.getCloseYPos(context, unit);\n\t\t\tif (state[SpaceText.SETTER_STR])\n\t\t\t\tstate[SpaceText.SETTER_STR].clearHighlight();\n\n\t\t\tconst gr = this.highlightCanvas.graphics;\n\t\t\tgr.clear();\n\t\t\tconst dataSeries = this.getDataSeries() === this.dataSource.afterHoursData ? Number(Const.AH_DOT_COLOR) : Const.DOT_COLOR;\n\t\t\tgr.lineStyle(5, dataSeries, 1);\n\t\t\tgr.moveTo(xPos, closeYPos - 0.2);\n\t\t\tgr.lineTo(xPos, closeYPos + 0.2);\n\t\t\tstate[SpaceText.POINT_STR] = unit;\n\t\t\tstate[SpaceText.EXTRA_TEXT_STR] = \"\";\n\t\t\tstate[SpaceText.SETTER_STR] = this;\n\t\t\tstate[SpaceText.OHLC_INFO_FLAG_STR] = this.shouldDisplayOhlcText(unit);\n\t\t\tstate[SpaceText.OHLC_BASE_PRICE_STR] = this.getOhlcBasePrice(unit, pointIndex === 0 ? null : points[pointIndex - 1]);\n\t\t}\n\n\t\tgetOhlcColor(dataUnit1: DataUnit, dataUnit2: DataUnit): number\n\t\t{\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\treturn dataUnit1.close >= dataUnit1.open ? Number(Const.POSITIVE_DIFFERENCE_COLOR) : Const.NEGATIVE_DIFFERENCE_COLOR;\n\n\t\t\treturn dataUnit1.close >= dataUnit2.close ? Number(Const.POSITIVE_DIFFERENCE_COLOR) : Const.NEGATIVE_DIFFERENCE_COLOR;\n\t\t}\n\n\t\tsetEnabled(enabled = true)\n\t\t{\n\t\t\tthis.enabled = enabled;\n\t\t\tthis.visible = enabled;\n\t\t\tthis.highlightCanvas.visible = enabled;\n\t\t}\n\t}\n}\n","/// <reference path=\"IntervalBasedChartLayer.ts\" />\n\nnamespace com.google.finance\n{\n\texport abstract class IntervalBasedBarChartLayer extends IntervalBasedChartLayer\n\t{\n\t\tprotected barWidth: number;\n\n\t\tprotected abstract drawBarAtDataUnit(context: Context, dataUnits: DataUnit[], param3: number): void;\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn;\n\n\t\t\tthis.graphics.clear();\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tconst points = this.getPointsForCurrentDetailLevel();\n\t\t\tif (!points || points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tif (context.maxPriceRange === undefined || context.medPrice === undefined)\n\t\t\t\treturn;\n\n\t\t\tthis.localYOffset = vp.miny + vp.medPriceY + vp.V_OFFSET;\n\t\t\tthis.localYScale = vp.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t\tconst firstMinuteIndex = Math.max(dataSeries.getRelativeMinuteIndex(vp.getFirstMinute(), points) - 1, 0);\n\t\t\tconst lastMinuteIndex = Math.min(dataSeries.getRelativeMinuteIndex(vp.getLastMinute(), points) + 1, this.getLastRealPointIndex(points));\n\t\t\tconst detailLevel = vp.getDetailLevelForTechnicalStyle();\n\t\t\tthis.barWidth = this.getBarWidth(detailLevel, dataSeries);\n\t\t\tlet _loc7_ = Number.MAX_VALUE;\n\t\t\tfor (let minuteIndex = lastMinuteIndex; minuteIndex >= firstMinuteIndex; minuteIndex--)\n\t\t\t{\n\t\t\t\tif (!dataSeries.minuteIsStartOfDataSession(points[minuteIndex].dayMinute))\n\t\t\t\t{\n\t\t\t\t\tif (!(isNaN(points[minuteIndex].high) || isNaN(points[minuteIndex].low) || isNaN(points[minuteIndex].open)))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (detailLevel === Intervals.WEEKLY)\n\t\t\t\t\t\t\t_loc7_ = this.getWeeklyBarXPos(points[minuteIndex], _loc7_);\n\n\t\t\t\t\t\tthis.drawBarAtDataUnit(context, points, minuteIndex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/// <reference path=\"IntervalBasedBarChartLayer.ts\" />\n\nnamespace com.google.finance\n{\n\texport class CandleStickChartLayer extends IntervalBasedBarChartLayer\n\t{\n\t\tprotected drawBarAtDataUnit(context: Context, dataUnits: DataUnit[], unitIndex: number)\n\t\t{\n\t\t\tconst unit = dataUnits[unitIndex];\n\t\t\tif (unit.fake)\n\t\t\t\treturn;\n\n\t\t\tconst x = !isNaN(unit.weeklyXPos) ? unit.weeklyXPos : this.viewPoint.getXPos(unit);\n\t\t\tconst ohlcYPos = this.getOhlcYPos(context, unit);\n\t\t\t//const _loc7_ = Math.abs(_loc6_.closeY - _loc6_.openY);\n\t\t\tconst gr = this.graphics;\n\t\t\tconst candleStickColor = this.getCandleStickColor(unit);\n\t\t\tgr.lineStyle(1, candleStickColor);\n\n\t\t\tconst _loc9_ = unit.close >= unit.open;\n\t\t\tif (Math.abs(ohlcYPos.closeY - ohlcYPos.openY) <= 1)\n\t\t\t{\n\t\t\t\tconst top = (ohlcYPos.closeY + ohlcYPos.openY) / 2;\n\t\t\t\tif (this.barWidth === 0)\n\t\t\t\t{\n\t\t\t\t\tgr.moveTo(x, top - 0.5);\n\t\t\t\t\tgr.lineTo(x, top + 0.5);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tgr.moveTo(x - this.barWidth / 2, top);\n\t\t\t\t\tgr.lineTo(x + this.barWidth / 2, top);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tgr.moveTo(x - this.barWidth / 2, _loc9_ ? ohlcYPos.closeY : ohlcYPos.openY);\n\t\t\t\tif (!_loc9_)\n\t\t\t\t\tgr.beginFill(candleStickColor);\n\n\t\t\t\tgr.lineTo(x + this.barWidth / 2, _loc9_ ? ohlcYPos.closeY : ohlcYPos.openY);\n\t\t\t\tgr.lineTo(x + this.barWidth / 2, _loc9_ ? ohlcYPos.openY : ohlcYPos.closeY);\n\t\t\t\tgr.lineTo(x - this.barWidth / 2, _loc9_ ? ohlcYPos.openY : ohlcYPos.closeY);\n\t\t\t\tgr.lineTo(x - this.barWidth / 2, _loc9_ ? ohlcYPos.closeY : ohlcYPos.openY);\n\t\t\t\tif (!_loc9_)\n\t\t\t\t\tgr.endFill();\n\t\t\t}\n\t\t\tgr.moveTo(x, ohlcYPos.lowY);\n\t\t\tgr.lineTo(x, _loc9_ ? ohlcYPos.openY : ohlcYPos.closeY);\n\t\t\tgr.moveTo(x, _loc9_ ? ohlcYPos.closeY : ohlcYPos.openY);\n\t\t\tgr.lineTo(x, ohlcYPos.highY);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport enum ChartEventTypes\n\t{\n\t\tGENERIC = 0,\n\t\tGET_DATA = 1,\n\t\tGET_AH_DATA = 2,\n\t\tGET_MUTF_DATA = 3,\n\t\tGET_RT_DATA = 4,\n\t\tGET_RT_AH_DATA = 5,\n\t}\n\n\texport enum ChartEventPriorities\n\t{\n\t\tEXPECTED = 0,\n\t\tREQUIRED = 1,\n\t\tOPTIONAL = 2,\n\t\tDONE = 3,\n\t\tOHLC_REQUIRED = 4,\n\t\tOHLC_DONE = 5,\n\t\tPOLLING = 6,\n\t}\n\n\texport class ChartEvent\n\t{\n\t\tquote: string;\n\t\tinterval: string;\n\t\tperiod: string;\n\t\tpriority: ChartEventPriorities;\n\t\tstartTime: string;\n\t\tdetailType: ChartDetailTypes|null;\n\t\tcolumns: string;\n\t\tcallbacks?: EventCallback[];\n\n\t\tconstructor(public readonly type = ChartEventTypes.GENERIC)\n\t\t{\n\t\t}\n\n\t\tgetEventName(period?: string): string\n\t\t{\n\t\t\tlet eventName = \"\";\n\t\t\tif (this.quote)\n\t\t\t\teventName = eventName + (\"\" + this.quote);\n\n\t\t\tif (this.type)\n\t\t\t\teventName = eventName + (\"-t:\" + this.type);\n\n\t\t\tif (this.interval)\n\t\t\t\teventName = eventName + (\"-i:\" + this.interval);\n\n\t\t\tif (period)\n\t\t\t\teventName = eventName + (\"-p:\" + period);\n\t\t\telse if (this.period)\n\t\t\t\teventName = eventName + (\"-p:\" + this.period);\n\n\t\t\tif (this.startTime)\n\t\t\t\teventName = eventName + (\"-st:\" + this.startTime);\n\n\t\t\treturn eventName;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextField;\n\n\texport class Console extends flash.display.Sprite\n\t{\n\t\tprivate readonly loading = new LoadingMessage();\n\t\tprivate pendingLoadings = 0;\n\t\tprivate t: flash.text.TextField;\n\n\t\tconstructor(private readonly mainManager: MainManager)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.loading.visible = false;\n\t\t\tthis.addChild(this.loading);\n\t\t\tif (Boolean(MainManager.paramsObj.debug))\n\t\t\t{\n\t\t\t\tthis.t = new flash.text.TextField();\n\t\t\t\tthis.t.width = 800;\n\t\t\t\tthis.t.height = 400;\n\t\t\t\tthis.addChild(this.t);\n\t\t\t}\n\t\t}\n\n\t\tprintln(text: string)\n\t\t{\n\t\t\tif (Boolean(MainManager.paramsObj.debug))\n\t\t\t\tthis.t.appendText(text + \"\\n\");\n\t\t}\n\n\t\tdataLoading()\n\t\t{\n\t\t\tthis.pendingLoadings++;\n\t\t\tthis.positionLoadingMessage();\n\t\t\tthis.loading.visible = true;\n\t\t}\n\n\t\tpositionLoadingMessage()\n\t\t{\n\t\t\tconst mainViewPoint = this.mainManager.displayManager.getMainViewPoint();\n\t\t\tif (mainViewPoint)\n\t\t\t{\n\t\t\t\tthis.loading.x = this.stage.stageWidth - this.loading.width - Const.BORDER_WIDTH;\n\t\t\t\tthis.loading.y = mainViewPoint.miny + 1;\n\t\t\t}\n\t\t}\n\n\t\tdataLoaded()\n\t\t{\n\t\t\tthis.pendingLoadings--;\n\t\t\tif (this.pendingLoadings <= 0)\n\t\t\t\tthis.loading.visible = false;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport enum Messages\n\t{\n\t\tTYPE = 0,\n\t\tLINE = 1,\n\t\tCANDLESTICK = 2,\n\t\tOHLC = 3,\n\t\tLARGE_CHART = 4,\n\t\tSMALL_CHART = 5,\n\t\tZOOM = 6,\n\t\tZOOM_1D = 7,\n\t\tZOOM_5D = 8,\n\t\tZOOM_1M = 9,\n\t\tZOOM_3M = 10,\n\t\tZOOM_6M = 11,\n\t\tZOOM_YTD = 12,\n\t\tZOOM_1Y = 13,\n\t\tZOOM_5Y = 14,\n\t\tZOOM_10Y = 15,\n\t\tZOOM_MAX = 16,\n\t\tZOOM_ALL = 17,\n\t\tPRICE = 18,\n\t\tOPEN = 19,\n\t\tCLOSE = 20,\n\t\tHIGH = 21,\n\t\tLOW = 22,\n\t\tVOLUME_LONG = 23,\n\t\tVOLUME_SHORT = 24,\n\t\tTHOUSAND_SHORT = 25,\n\t\tMILLION_SHORT = 26,\n\t\tTHOUSAND_ONE_LETTER = 27,\n\t\tTEN_THOUSAND_ONE_LETTER = 28,\n\t\tMILLION_ONE_LETTER = 29,\n\t\tHUNDRED_MILLION_ONE_LETTER = 30,\n\t\tMINUTES_SHORT = 31,\n\t\tHOUR_SHORT = 32,\n\t\tDAY_SHORT = 33,\n\t\tWEEK_SHORT = 34,\n\t\tCURRENCY_SIGN = 35,\n\t\tSUBCURRENCY_SIGN = 36,\n\t\tDIVIDEND_TEXT_NO_PERCENT = 37,\n\t\tDIVIDEND_TEXT = 38,\n\t\tSTOCK_DIVIDEND_TEXT = 39,\n\t\tSTOCK_DIVIDEND_TEXT_WITH_TICKER = 40,\n\t\tADJUSTMENT_FACTOR_TEXT = 41,\n\t\tSPLIT_TEXT = 42,\n\t\tLOADING_MESSAGE = 43,\n\t\tNO_DATA_AVAILABLE = 44,\n\t\tPREMARKET = 45,\n\t\tAFTER_HOURS = 46,\n\t\tINTERVAL = 47,\n\t\tINTERVAL_2_MINUTES = 48,\n\t\tINTERVAL_5_MINUTES = 49,\n\t\tINTERVAL_30_MINUTES = 50,\n\t\tINTERVAL_1_DAY = 51,\n\t\tINTERVAL_1_WEEK = 52,\n\t\tINTERVAL_DAILY = 53,\n\t\tINTERVAL_WEEKLY = 54,\n\t\tSMA = 55,\n\t\tEMA = 56,\n\t\tVMA = 57,\n\t\tRSI = 58,\n\t\tRSI_RSI = 59,\n\t\tBIAS = 60,\n\t\tBIAS_BIAS = 61,\n\t\tWPR = 62,\n\t\tPR_WPR = 63,\n\t\tMACD = 64,\n\t\tMACD_MACD = 65,\n\t\tEMA_MACD = 66,\n\t\tDIFF_MACD = 67,\n\t\tDEA_MACD = 68,\n\t\tDIVERGENCE_MACD = 69,\n\t\tKDJ = 70,\n\t\tK_KDJ = 71,\n\t\tD_KDJ = 72,\n\t\tJ_KDJ = 73,\n\t\tBOLL = 74,\n\t\tMID_BOLL = 75,\n\t\tUPPER_BOLL = 76,\n\t\tLOWER_BOLL = 77,\n\t\tFSTO = 78,\n\t\tSSTO = 79,\n\t\tK_STOCHASTIC = 80,\n\t\tD_STOCHASTIC = 81,\n\t\tCCI = 82,\n\t\tCCI_CCI = 83,\n\t\tSMA_INTERVAL = 84,\n\t\tEMA_INTERVAL = 85,\n\t\tVMA_INTERVAL = 86,\n\t\tRSI_INTERVAL = 87,\n\t\tBIAS_INTERVAL = 88,\n\t\tWPR_INTERVAL = 89,\n\t\tMACD_INTERVAL = 90,\n\t\tKDJ_INTERVAL = 91,\n\t\tBOLL_INTERVAL = 92,\n\t\tFSTO_INTERVAL = 93,\n\t\tSSTO_INTERVAL = 94,\n\t\tCCI_INTERVAL = 95,\n\t}\n\n\texport class Message {\n\n\t\tprivate static readonly MESSAGES = [\"Type\", \"Line\", \"Candlestick\", \"OHLC\", \"Large chart\", \"Small chart\", \"Zoom\", \"1d\", \"5d\", \"1m\", \"3m\", \"6m\", \"YTD\", \"1y\", \"5y\", \"10y\", \"Max\", \"All\", \"Price\", \"Open\", \"Close\", \"High\", \"Low\", \"Volume\", \"Vol\", \"thous\", \"mil\", 'k', 'k', 'm', 'm', \"min\", 'h', 'd', \"wk\", '$', \"\\\\u00A2\", [\"Dividend: \", 1, \"\"], [\"Dividend: \", 1, \" (\", 2, ')'], \"Stock Dividend\", [\"Stock Dividend: \", 1, \"\"], [\"Adjustment Factor: \", 1, \"\"], [\"Split: \", 1, \"\"], \"Loading\", \"No data available\", \"Premarket\", \"After hours\", \"Interval\", \"2min\", \"5min\", \"30min\", \"1d\", \"1w\", \"daily\", \"weekly\", [\"SMA(\", 1, \"):\", 2, \"\"], [\"EMA(\", 1, \"):\", 2, \"\"], [\"VMA(\", 1, \"):\", 2, \"\"], [\"RSI(\", 1, ')'], [\"RSI:\", 1, \"\"], [\"BIAS(\", 1, ')'], [\"BIAS:\", 1, \"\"], [\"W%R(\", 1, ')'], [\"%R:\", 1, \"\"], [\"MACD(\", 1, ',', 2, ',', 3, ')'], [\"MACD:\", 1, \"\"], [\"EMA:\", 1, \"\"], [\"DIFF:\", 1, \"\"], [\"DEA:\", 1, \"\"], [\"Divergence:\", 1, \"\"], [\"KDJ(\", 1, ')'], [\"K:\", 1, \"\"], [\"D:\", 1, \"\"], [\"J:\", 1, \"\"], [\"BOLL(\", 1, ')'], [\"MID:\", 1, \"\"], [\"UPPER:\", 1, \"\"], [\"LOWER:\", 1, \"\"], [\"FSTO(\", 1, ',', 2, ')'], [\"SSTO(\", 1, ',', 2, ')'], [\"%K:\", 1, \"\"], [\"%D:\", 1, \"\"], [\"CCI(\", 1, ')'], [\"CCI:\", 1, \"\"], [\"SMA(\", 1, ',', 2, \"):\", 3, \"\"], [\"EMA(\", 1, ',', 2, \"):\", 3, \"\"], [\"VMA(\", 1, ',', 2, \"):\", 3, \"\"], [\"RSI(\", 1, ',', 2, ')'], [\"BIAS(\", 1, ',', 2, ')'], [\"W%R(\", 1, ',', 2, ')'], [\"MACD(\", 1, ',', 2, ',', 3, ',', 4, ')'], [\"KDJ(\", 1, ',', 2, ')'], [\"BOLL(\", 1, ',', 2, ')'], [\"FSTO(\", 1, ',', 2, ',', 3, ')'], [\"SSTO(\", 1, ',', 2, ',', 3, ')'], [\"CCI(\", 1, ',', 2, ')'], \"\"];\n\n\t\tstatic getMsg(msg: Messages, ...rest: any[]): string\n\t\t{\n\t\t\tif (isNaN(<number>msg))\n\t\t\t\treturn \"\";\n\n\t\t\tif (rest.length === 0)\n\t\t\t\treturn <string>Message.MESSAGES[msg];\n\n\t\t\tconst parts = (<string[]>(Message.MESSAGES[msg])).concat();\n\t\t\tconst length = parts.length;\n\n\t\t\tfor (let i = 1; i < length; i += 2)\n\t\t\t\tparts[i] = rest[Number(parts[i]) - 1];\n\n\t\t\treturn parts.join(\"\");\n\t\t}\n\n\t\tstatic getLocale(): string\n\t\t{\n\t\t\treturn \"en\";\n\t\t}\n\t}\n}\n","/// <reference path=\"Messages.ts\"/>\nnamespace com.google.finance\n{\n\texport enum Intervals\n\t{\n\t\tINVALID = -1,\n\n\t\tINTRADAY = 0,\n\t\tFIVE_MINUTES,\n\t\tHALF_HOUR,\n\t\tDAILY,\n\t\tWEEKLY,\n\t}\n\n\texport enum QuoteTypes\n\t{\n\t\tCOMPANY = 0,\n\t\tMUTUAL_FUND = 1,\n\t\tCURRENCY = 2,\n\t\tQUERY_INDEX = 3,\n\t\tPORTFOLIO = 4,\n\t\tBACKTESTING = 5,\n\t}\n\n\texport enum ScaleTypes\n\t{\n\t\tINVALID = -1,\n\n\t\tSCALE_MAX = 0,\n\t\tSCALE_10Y = 1,\n\t\tSCALE_5Y = 2,\n\t\tSCALE_1Y = 3,\n\t\tSCALE_YTD = 4,\n\t\tSCALE_6M = 5,\n\t\tSCALE_3M = 6,\n\t\tSCALE_1M = 7,\n\t\tSCALE_5D = 8,\n\t\tSCALE_3D = 9,\n\t\tSCALE_1D = 10,\n\t\tSCALE_CUSTOM = 11,\n\t}\n\n\texport enum AddStreamResults\n\t{\n\t\tERROR = -1,\n\t\tNOTHING = 0,\n\t\tFIRST_DATA = 1,\n\t\tADDED_DATA = 2,\n\t}\n\n\texport enum Orientations\n\t{\n\t\tUP = 0,\n\t\tDOWN = 1,\n\t\tSIDEWAYS = 2,\n\t\tSIDEWAYS_UP = 2,\n\t\tSIDEWAYS_DOWN = 3,\n\t}\n\n\texport enum Directions\n\t{\n\t\tBACKWARD = 1,\n\t\tFORWARD = -1,\n\t}\n\n\texport enum ChartDetailTypes\n\t{\n\t\tGET_1Y_DATA = 0,\n\t\tGET_5D_DATA = 1,\n\t\tGET_2Y_DATA = 2,\n\t\tGET_5Y_DATA = 3,\n\t\tGET_AH_DATA = 4,\n\t\tGET_3M_DATA = 5,\n\t\tMUTF_5D_DATA = 6,\n\t\tGET_40Y_DATA = 7,\n\t\tGET_10D_DATA = 8,\n\t\tGET_30D_DATA = 9,\n\t\tGET_RT_DATA = 10,\n\t\tGET_RT_AH_DATA = 11,\n\t}\n\n\texport enum ControllerComponents\n\t{\n\t\tSCROLL_BAR = 0,\n\t\tLEFT_BUTTON = 1,\n\t\tRIGHT_BUTTON = 2,\n\t\tLEFT_HANDLE = 3,\n\t\tRIGHT_HANDLE = 4,\n\t\tSCROLL_BG = 5,\n\t}\n\n\texport enum Snaps\n\t{\n\t\tSNAP_DAY = 0,\n\t\tSNAP_WEEK = 1,\n\t\tSNAP_MONTH = 2,\n\t\tSNAP_YEAR = 3,\n\t}\n\n\texport enum TickPositions\n\t{\n\t\tBOTTOM = 0,\n\t\tTOP = 1,\n\t}\n\n\texport class IntervalPeriod\n\t{\n\t\tconstructor(\n\t\t\tpublic type: number,\n\t\t\tpublic days: number,\n\t\t\tpublic maxdays: number,\n\t\t\tpublic mindays: number,\n\t\t\tpublic text: Messages,\n\t\t\tpublic logtext: string)\n\t\t{\n\t\t}\n\t}\n\n\texport class ScaleInterval\n\t{\n\t\tconstructor(\n\t\t\tpublic type: ScaleTypes,\n\t\t\tpublic days: number,\n\t\t\tpublic months: number,\n\t\t\tpublic text: Messages,\n\t\t\tpublic logtext: string,\n\t\t\tpublic width: number\n\t\t)\n\t\t{\n\t\t}\n\t}\n\n\texport class Const\n\t{\n\t\tprivate static readonly DETAIL_LEVEL_INFO: { [key: number]: number } = {};\n\t\tprivate static readonly INTERVAL_INFO: { [key: number]: Intervals } = [];\n\t\tstatic APPLY_CHINESE_STYLE_MACD = false;\n\t\tstatic CHART_TYPE_BUTTONS_ENABLED = false;\n\t\tstatic DEFAULT_DISPLAY_DAYS = 3;\n\t\tstatic DEFAULT_DISPLAY_MINUTES = -1;\n\t\tstatic DISPLAY_DIVIDENDS_UNITS = \"true\";\n\t\tstatic DISPLAY_NEWS_PINS = false;\n\t\tstatic DOT_COLOR = 0x66dd;\n\t\tstatic ECN_LINE_CHART_FILL_COLOR = 0xf8f8f8;\n\t\tstatic ECN_LINE_CHART_LINE_COLOR = 0x666666;\n\t\tstatic ENABLE_COMPACT_FLAGS = \"false\";\n\t\tstatic ENABLE_CUSTOM_DATE_ENTRY = \"false\";\n\t\tstatic EXPAND_BUTTON_ENABLED = false;\n\t\tstatic INDICATOR_ENABLED = true;\n\t\tstatic INFO_TEXT_ALIGN = \"right\";\n\t\tstatic INFO_TEXT_TOP_PADDING = 0;\n\t\tstatic INTRADAY_INTERVAL = 2 * 60;\n\t\tstatic LINE_CHART_FILL_COLOR = 14807807;\n\t\tstatic LINE_CHART_LINE_COLOR = 0x66dd;\n\t\tstatic MIN_DISPLAY_DAYS = 1;\n\t\tstatic MOVIE_HEIGHT = 0;\n\t\tstatic MOVIE_WIDTH = 0;\n\t\tstatic NEGATIVE_DIFFERENCE_COLOR = 0xaa0033;\n\t\tstatic POSITIVE_DIFFERENCE_COLOR = 0x8000;\n\t\tstatic RANGE_TEXT_COLOR = 10275573;\n\t\tstatic readonly ACTIVE = 1;\n\t\tstatic readonly AFTER_HOURS_DISPLAY_NAME = \"After Hours\";\n\t\tstatic readonly AFTER_HOURS_NAME = \"AFTER_HOURS\";\n\t\tstatic readonly AH_DOT_COLOR = 0x666666;\n\t\tstatic readonly AH_VOLUME_LAYER = \"AHVolumeLayer\";\n\t\tstatic readonly BACKTESTING_PREFIX = \"BACKTESTING:\";\n\t\tstatic readonly BAR_WIDTH_RATIO = 0.7;\n\t\tstatic readonly BIAS = \"BIAS\";\n\t\tstatic readonly BollingerBands = \"BollingerBands\";\n\t\tstatic readonly BORDER_LINE_COLOR = 0x444444;\n\t\tstatic readonly BORDER_LINE_OPACITY = 1;\n\t\tstatic readonly BORDER_SHADOW_COLOR = 0xcccccc;\n\t\tstatic readonly BORDER_WIDTH = 2;\n\t\tstatic readonly BOTTOM_TICK_COLOR = 0;\n\t\tstatic readonly BOTTOM_VIEW_POINT = 2;\n\t\tstatic readonly BOTTOM_VIEW_POINT_NAME = \"BottomViewPoint\";\n\t\tstatic readonly BOTTOM_VIEWPOINT_HEADER_HEIGHT = 20;\n\t\tstatic readonly CANDLE_STICK = \"CandleStickChartLayer\";\n\t\tstatic readonly CCI = \"CCI\";\n\t\tstatic readonly COLOR_BLUE = 0x66dd;\n\t\tstatic readonly COLOR_GREEN = 0x339933;\n\t\tstatic readonly COLOR_PINK = 0xff00ff;\n\t\tstatic readonly COLOR_RED = 0xcc3300;\n\t\tstatic readonly COLOR_YELLOW = 16228618;\n\t\tstatic readonly COWBELL_THEME = 0;\n\t\tstatic readonly CURRENCY_PREFIX = \"CURRENCY:\";\n\t\tstatic readonly DAILY_DAYS = 270;\n\t\tstatic readonly DAILY_INTERVAL = 24 * 60 * 60;\n\t\tstatic readonly DATA_DELIMITER = ',';\n\t\tstatic readonly DATE_DEFAULT_BORDER_COLOR = 0xe8e8e8;\n\t\tstatic readonly DATE_HIGHLIGHTED_BACKGROUND_COLOR = 0xffffa0;\n\t\tstatic readonly DATE_HIGHLIGHTED_BORDER_COLOR = 0;\n\t\tstatic readonly DAY_LINE_ALPHA = 0.5;\n\t\tstatic readonly DAY_LINE_COLOR = 0xaabbaa;\n\t\tstatic readonly DAY_PER_WEEK = 7;\n\t\tstatic readonly DAYS = 1;\n\t\tstatic readonly DEFAULT_FLAG_HEIGHT = 25;\n\t\tstatic readonly DEFAULT_LAST_MARKET_WEEKDAY = 5;\n\t\tstatic readonly DEFAULT_MAX_RANGE = 10;\n\t\tstatic readonly DEFAULT_P = \"5d\";\n\t\tstatic readonly DEFAULT_Q = \"NASD:GOOG\";\n\t\tstatic readonly DEFAULT_WEEKDAY_BITMAP = 62;\n\t\tstatic readonly DIF_MKT_COMPARISON_MIN_DISPLAY_DAYS = 30;\n\t\tstatic readonly DYNAMIC = \"dynamic\";\n\t\tstatic readonly ECN_LINE_CHART_FILL_VISIBILITY = 0.6;\n\t\tstatic readonly ECN_LINE_CHART_LINE_THICKNESS = 0;\n\t\tstatic readonly ECN_LINE_CHART_LINE_VISIBILITY = 1;\n\t\tstatic readonly EMA = \"EMA\";\n\t\tstatic readonly FastStochastic = \"FastStochastic\";\n\t\tstatic readonly FIVE_MINUTE_DAYS = 10;\n\t\tstatic readonly FIVE_MINUTE_INTERVAL = 5 * 60;\n\t\tstatic readonly FIXED_VSCALE = \"fixed\";\n\t\tstatic readonly FORMAT_COMPACT = 0;\n\t\tstatic readonly FORMAT_EPOCH = 1;\n\n\t\tstatic readonly HALF_HOUR_DAYS = 30;\n\t\tstatic readonly HALF_HOUR_INTERVAL = 30 * 60;\n\t\tstatic readonly HORIZONTAL_GRID_COLOR = 14211311;\n\t\tstatic readonly HORIZONTAL_LINE_COLOR = 0x888888;\n\t\tstatic readonly HOUR_LINE_ALPHA = 100;\n\t\tstatic readonly HOUR_LINE_COLOR = 0xf5f5f5;\n\t\tstatic readonly INACTIVE = 0;\n\t\tstatic readonly INTRADAY_DAYS = 5;\n\t\tstatic readonly KDJ = \"KDJ\";\n\t\tstatic readonly LAST_DAY_CLOSE_LINE_COLOR = 0xaa0000;\n\t\tstatic readonly LINE_CHART = \"IntervalBasedLineChartLayer\";\n\t\tstatic readonly LINE_CHART_FILL_VISIBILITY = 0.6;\n\t\tstatic readonly LINE_CHART_LINE_THICKNESS = 0;\n\t\tstatic readonly LINE_CHART_LINE_VISIBILITY = 1;\n\t\tstatic readonly LINEAR_VSCALE = \"Linear\";\n\t\tstatic readonly LOADING_WIDTH = 60;\n\t\tstatic readonly LOG_SCALE = 10;\n\t\tstatic readonly LOG_SCALE_LOG = Math.LN10;\n\t\tstatic readonly LOG_VSCALE = \"logarithmic\";\n\t\tstatic readonly MACD = \"MACD\";\n\t\tstatic readonly MAIN_VIEW_POINT = 1;\n\t\tstatic readonly MAIN_VIEW_POINT_NAME = \"MainViewPoint\";\n\t\tstatic readonly MARKET_CLOSE_MINUTE = 16 * 60;\n\t\tstatic readonly MARKET_DAY_LENGTH = 391;\n\t\tstatic readonly MARKET_OPEN_MINUTE = 570;\n\t\tstatic readonly MAX_RELOAD_TRIES = 1;\n\t\tstatic readonly MAX_VSCALE = \"maximized\";\n\t\tstatic readonly MIN_DAY_WIDTH_FOR_INTRADAY = 30;\n\t\tstatic readonly MIN_FLAG_DISTANCE = 15;\n\t\tstatic readonly MIN_PER_DAY = 24 * 60;\n\t\tstatic readonly MNTS = 0;\n\t\tstatic readonly MS_PER_DAY = 24 * 60 * 60 * 1000;\n\t\tstatic readonly MS_PER_MINUTE = 60 * 1000;\n\t\tstatic readonly MUTUAL_FUND_PREFIX = \"MUTF(_.*?)?:\";\n\t\tstatic readonly NEW_LOG_VSCALE = \"Logarithmic\";\n\t\tstatic readonly NO_BUTTON_TEXT = <Messages>-1;\n\t\tstatic readonly NORMAL_THEME = 1;\n\t\tstatic readonly OHLC_CHART = \"OhlcChartLayer\";\n\t\tstatic readonly PAGE_LEFT_BUTTON = 6;\n\t\tstatic readonly PAGE_RIGHT_BUTTON = 7;\n\t\tstatic readonly PASSIVE_LINE_LAYER = \"PassiveLineLayer\";\n\t\tstatic readonly PORTFOLIO_PREFIX = \"PORTFOLIO:\";\n\t\tstatic readonly PRE_MARKET_DISPLAY_NAME = \"Premarket\";\n\t\tstatic readonly PRE_MARKET_NAME = \"PREMARKET\";\n\t\tstatic readonly PRICE_SCALE = 0;\n\t\tstatic readonly QUERY_INDEX_PREFIX = \"GOOGLEINDEX(_.*?)?:\";\n\t\tstatic readonly REALTIME_CHART_POLLING_INTERVAL = 6 * 1000;\n\t\tstatic readonly REALTIME_CHART_POLLING_MARGIN = 60;\n\t\tstatic readonly REGULAR_MARKET_DISPLAY_NAME = \"\";\n\t\tstatic readonly REGULAR_MARKET_NAME = \"REGULAR_MARKET_HOURS\";\n\t\tstatic readonly ROLL_OUT = \"onRollOut\";\n\t\tstatic readonly ROLL_OVER = \"onRollOver\";\n\t\tstatic readonly RSI = \"RSI\";\n\t\tstatic readonly SCALE_BUTTON_HEIGHT = 15;\n\t\tstatic readonly SCALE_BUTTON_WIDTH = 21;\n\t\tstatic readonly SCROLL_HEIGHT = 12;\n\t\tstatic readonly SEC_PER_MINUTE = 60;\n\t\tstatic readonly SELECTING_FILL_COLOR = 14082790;\n\t\tstatic readonly SELECTING_LINE_COLOR = 11125708;\n\t\tstatic readonly SHOW_SPARKLINE = \"true\";\n\t\tstatic readonly SlowStochastic = \"SlowStochastic\";\n\t\tstatic readonly SMA = \"SMA\";\n\t\tstatic readonly SPACE_HEIGHT = 25;\n\t\tstatic readonly SPARK_PADDING = 6;\n\t\tstatic readonly SPARKLINE_VIEW_POINT_NAME = \"TopViewPoint\";\n\t\tstatic readonly STATIC = \"static\";\n\t\tstatic readonly TECHNICAL_INDICATOR_HEIGHT = 80;\n\t\tstatic readonly TOP_TICK_COLOR = 7897737;\n\t\tstatic readonly TOP_VIEW_POINT = 0;\n\t\tstatic readonly VMA = \"VMA\";\n\t\tstatic readonly VOLUME_CHART = \"VolumeLinesChartLayer\";\n\t\tstatic readonly VOLUME_INDICATOR_NAME = \"Volume\";\n\t\tstatic readonly VOLUME_SCALE = 1;\n\t\tstatic readonly VOLUME_SCALES: ReadonlyArray<number> = [100, 250, 500, 1000, 2000, 5000, 10000, 20000, 50000, 100000, 200000, 500000, 1000000, 2000000, 5000000, 10000000];\n\t\tstatic readonly WEEKDAY_PER_WEEK = 5;\n\t\tstatic readonly WEEKLY_INTERVAL = 7 * 24 * 60 * 60;\n\t\tstatic readonly WilliamsPercentR = \"WilliamsPercentR\";\n\t\tstatic readonly WINDOW_LAYER = \"WindowLayer\";\n\t\tstatic readonly YEAR_2000 = 946684800000;\n\t\tstatic readonly YSCALE_INTERVALS: ReadonlyArray<number> = [0.00001, 0.000025, 0.00005, 0.0001, 0.00025, 0.0005, 0.001, 0.0025, 0.005, 0.01, 0.025, 0.05, 0.1, 0.25, 0.5, 1, 2, 5, 10, 20, 50, 100, 200, 500, 1000, 2000, 5000, 10000, 20000, 50000, 100000, 200000, 500000, 1000000, 2000000, 5000000, 10000000, 20000000, 50000000, 100000000, 200000000, 500000000, 1000000000, 2000000000, 5000000000, 10000000000, 20000000000, 50000000000, 100000000000, 200000000000, 500000000000, 1000000000000, 2000000000000, 5000000000000, 10000000000000, 20000000000000, 50000000000000, 100000000000000, 200000000000000, 500000000000000, 1000000000000000, 2000000000000000, 5000000000000000, 10000000000000000, 20000000000000000, 50000000000000000, 100000000000000000, 200000000000000000, 500000000000000000, 1000000000000000000, 2000000000000000000, 5000000000000000000];\n\t\tstatic readonly ZERO_PERCENT_LINE_COLOR = 8015181;\n\t\tstatic readonly ZH_CN_LOCALE = \"zh_CN\";\n\t\tstatic readonly ZH_HK_LOCALE = \"zh_HK\";\n\t\tstatic readonly ZH_TW_LOCALE = \"zh_TW\";\n\t\tstatic REALTIME_CHART_ENABLED = false;\n\t\tstatic SHRINK_BUTTON_ENABLED = false;\n\t\tstatic SPARK_ACTIVE_FILL_COLOR = 15595519;\n\t\tstatic SPARK_ACTIVE_LINE_COLOR = 0x66dd;\n\t\tstatic SPARK_INACTIVE_FILL_COLOR = 0xf8f8f8;\n\t\tstatic SPARK_INACTIVE_LINE_COLOR = 0xdddddd;\n\t\tstatic SPARKLINE_HEIGHT = 58;\n\t\tstatic TEXT_BACKGROUND_COLOR = 12967159;\n\t\tstatic VOLUME_HIGHLIGHT_COLOR = 0x3366ff;\n\t\tstatic VOLUME_PLUS_ENABLED = false;\n\n\t\tstatic readonly INDICATOR_PARAMETERS: Map<any[]> = {\n\t\t\tBIAS: [{ period: 14 }],\n\t\t\tCCI: [{ period: 20 }],\n\t\t\tKDJ: [{ period: 14 }],\n\t\t\tMACD: [{\n\t\t\t\tshortPeriod: 12,\n\t\t\t\tlongPeriod: 26,\n\t\t\t\temaPeriod: 9\n\t\t\t}],\n\t\t\tRSI: [{ period: 14 }],\n\t\t\tSMA: [{ period: 20 }],\n\t\t\tEMA: [{ period: 20 }],\n\t\t\tVMA: [{ period: 20 }],\n\t\t\tWilliamsPercentR: [{ period: 14 }],\n\t\t\tBollingerBands: [{ period: 20 }],\n\t\t\tFastStochastic: [{\n\t\t\t\tkPeriod: 14,\n\t\t\t\tdPeriod: 3\n\t\t\t}],\n\t\t\tSlowStochastic: [{\n\t\t\t\tkPeriod: 14,\n\t\t\t\tdPeriod: 3\n\t\t\t}]\n\t\t};\n\n\t\tstatic readonly SCALE_INTERVALS: ReadonlyArray<ScaleInterval> = [\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_MAX, 10000, 480, Messages.ZOOM_ALL, \"max\", 24),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_10Y, 3100, 2 * 60, Messages.ZOOM_10Y, \"10y\", 20),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_5Y, 1550, 60, Messages.ZOOM_5Y, \"5y\", 17),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_1Y, 250, 12, Messages.ZOOM_1Y, \"1y\", 17),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_YTD, 3 * 60, 100, Messages.ZOOM_YTD, \"ytd\", 24),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_6M, 2 * 60, 6, Messages.ZOOM_6M, \"6m\", 17),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_3M, 60, 3, Messages.ZOOM_3M, \"3m\", 17),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_1M, 20, 1, Messages.ZOOM_1M, \"1m\", 17),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_5D, 5, 0, Messages.ZOOM_5D, \"5d\", 15),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_3D, 3, 0, Const.NO_BUTTON_TEXT, \"3d\", 0),\n\t\t\tnew ScaleInterval(ScaleTypes.SCALE_1D, 1, 0, Messages.ZOOM_1D, \"1d\", 15)\n\t\t];\n\n\t\tstatic readonly CHART_STYLE_NAMES: ReadonlyArray<string> = [\n\t\t\tConst.LINE_CHART,\n\t\t\tConst.CANDLE_STICK,\n\t\t\tConst.OHLC_CHART\n\t\t];\n\t\tstatic readonly OHLC_DEPENDENT_INDICATOR_NAMES: ReadonlyArray<string> = [\n\t\t\tConst.WilliamsPercentR,\n\t\t\tConst.KDJ,\n\t\t\tConst.FastStochastic,\n\t\t\tConst.SlowStochastic,\n\t\t\tConst.CCI\n\t\t];\n\t\tstatic readonly DETAIL_LEVELS: ReadonlyArray<Intervals> = [\n\t\t\tIntervals.INTRADAY,\n\t\t\tIntervals.FIVE_MINUTES,\n\t\t\tIntervals.HALF_HOUR,\n\t\t\tIntervals.DAILY,\n\t\t\tIntervals.WEEKLY\n\t\t];\n\t\tstatic readonly INDEPENDENT_INDICATOR_NAMES: ReadonlyArray<string> = [\n\t\t\tConst.MACD,\n\t\t\tConst.RSI,\n\t\t\tConst.WilliamsPercentR,\n\t\t\tConst.KDJ,\n\t\t\tConst.BIAS,\n\t\t\tConst.FastStochastic,\n\t\t\tConst.SlowStochastic,\n\t\t\tConst.CCI\n\t\t];\n\t\tstatic readonly VOLUME_DEPENDENT_INDICATOR_NAMES: ReadonlyArray<string> = [\n\t\t\tConst.VMA\n\t\t];\n\t\tstatic readonly DEPENDENT_INDICATOR_NAMES: ReadonlyArray<string> = [\n\t\t\tConst.SMA,\n\t\t\tConst.EMA,\n\t\t\tConst.BollingerBands\n\t\t];\n\t\tstatic readonly VOLUME_PLUS_CHART_TYPE: ReadonlyArray<string> = [\n\t\t\tConst.CANDLE_STICK,\n\t\t\tConst.OHLC_CHART\n\t\t];\n\n\t\tstatic readonly INTERVAL_PERIODS: ReadonlyArray<IntervalPeriod> = [\n\t\t\tnew IntervalPeriod(Intervals.INTRADAY, 1, 1, 0.2, Messages.INTERVAL_2_MINUTES, \"2min\"),\n\t\t\tnew IntervalPeriod(Intervals.FIVE_MINUTES, 2, 3, 0.4, Messages.INTERVAL_5_MINUTES, \"5min\"),\n\t\t\tnew IntervalPeriod(Intervals.HALF_HOUR, 10, 15, 2, Messages.INTERVAL_30_MINUTES, \"30min\"),\n\t\t\tnew IntervalPeriod(Intervals.DAILY, 2 * 60, 200, 24, Messages.INTERVAL_DAILY, \"daily\"),\n\t\t\tnew IntervalPeriod(Intervals.WEEKLY, 10 * 60, 1000, 2 * 60, Messages.INTERVAL_WEEKLY, \"weekly\"),\n\t\t];\n\n\t\tstatic DEFAULT_D = Intervals.DAILY;\n\t\tstatic readonly DEFAULT_I = \"\" + Const.INTRADAY_INTERVAL;\n\t\tstatic DEFAULT_CHART_STYLE_NAME = Const.LINE_CHART;\n\n\t\tprivate static _staticConstructor = (() =>\n\t\t{\n\t\t\tConst.INTERVAL_INFO[Const.INTRADAY_INTERVAL] = Intervals.INTRADAY;\n\t\t\tConst.INTERVAL_INFO[Const.FIVE_MINUTE_INTERVAL] = Intervals.FIVE_MINUTES;\n\t\t\tConst.INTERVAL_INFO[Const.HALF_HOUR_INTERVAL] = Intervals.HALF_HOUR;\n\t\t\tConst.INTERVAL_INFO[Const.DAILY_INTERVAL] = Intervals.DAILY;\n\t\t\tConst.INTERVAL_INFO[Const.WEEKLY_INTERVAL] = Intervals.WEEKLY;\n\n\t\t\tConst.DETAIL_LEVEL_INFO[Intervals.INTRADAY] = Const.INTRADAY_INTERVAL;\n\t\t\tConst.DETAIL_LEVEL_INFO[Intervals.FIVE_MINUTES] = Const.FIVE_MINUTE_INTERVAL;\n\t\t\tConst.DETAIL_LEVEL_INFO[Intervals.HALF_HOUR] = Const.HALF_HOUR_INTERVAL;\n\t\t\tConst.DETAIL_LEVEL_INFO[Intervals.DAILY] = Const.DAILY_INTERVAL;\n\t\t\tConst.DETAIL_LEVEL_INFO[Intervals.WEEKLY] = Const.WEEKLY_INTERVAL;\n\t\t})();\n\n\t\tstatic getDetailLevelInterval(detailLevel: Intervals): number\n\t\t{\n\t\t\treturn Const.DETAIL_LEVEL_INFO[detailLevel];\n\t\t}\n\n\t\tstatic getIntervalDetailLevel(interval: number): Intervals\n\t\t{\n\t\t\treturn Const.INTERVAL_INFO[interval];\n\t\t}\n\n\t\tstatic getZoomLevel(param1: number, param2: number): ScaleTypes\n\t\t{\n\t\t\tconst scaleIntervals = Const.SCALE_INTERVALS;\n\t\t\tlet scaleIntervalIndex = scaleIntervals.length - 1;\n\t\t\twhile (scaleIntervals[scaleIntervalIndex].days * param2 < Math.floor(param1) && scaleIntervalIndex > 0)\n\t\t\t\tscaleIntervalIndex--;\n\n\t\t\treturn <ScaleTypes>scaleIntervalIndex;\n\t\t}\n\n\t\tstatic getQuoteType(quote: string): QuoteTypes\n\t\t{\n\t\t\tif (quote.indexOf(Const.CURRENCY_PREFIX) === 0)\n\t\t\t\treturn QuoteTypes.CURRENCY;\n\n\t\t\tif (quote.indexOf(Const.PORTFOLIO_PREFIX) === 0)\n\t\t\t\treturn QuoteTypes.PORTFOLIO;\n\n\t\t\tif (quote.indexOf(Const.BACKTESTING_PREFIX) === 0)\n\t\t\t\treturn QuoteTypes.BACKTESTING;\n\n\t\t\tif (quote.search(Const.MUTUAL_FUND_PREFIX) === 0)\n\t\t\t\treturn QuoteTypes.MUTUAL_FUND;\n\n\t\t\tif (quote.search(Const.QUERY_INDEX_PREFIX) === 0)\n\t\t\t\treturn QuoteTypes.QUERY_INDEX;\n\n\t\t\treturn QuoteTypes.COMPANY;\n\t\t}\n\n\t\tstatic getDefaultDisplayDays(param1 = false): number\n\t\t{\n\t\t\tif (Const.DEFAULT_DISPLAY_MINUTES !== -1)\n\t\t\t{\n\t\t\t\tconst dayLength = param1 ? 1 : Const.MARKET_DAY_LENGTH;\n\t\t\t\treturn Const.DEFAULT_DISPLAY_MINUTES / dayLength;\n\t\t\t}\n\t\t\treturn Const.DEFAULT_DISPLAY_DAYS;\n\t\t}\n\n\t\tstatic isZhLocale(locale: string): boolean\n\t\t{\n\t\t\treturn locale === Const.ZH_CN_LOCALE || locale === Const.ZH_HK_LOCALE || locale === Const.ZH_TW_LOCALE;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.display.Bitmap;\n\t// import flash.display.SimpleButton;\n\t// import flash.events.MouseEvent;\n\t// import flash.events.Event;\n\t// import flash.utils.getTimer;\n\t// import flash.text.TextFormat;\n\t// import flash.utils.clearInterval;\n\t// import flash.utils.setInterval;\n\t// import com.google.finance.ui.TextButtonsGroup;\n\t// import flash.text.TextField;\n\t// import flash.text.TextFieldAutoSize;\n\t// import flash.utils.Timer;\n\t// import flash.events.TimerEvent;\n\t// import flash.events.KeyboardEvent;\n\t// import com.google.i18n.locale.DateTimeLocale;\n\n\texport enum ControllerStates\n\t{\n\t\tNOTHING = 0,\n\t\tDRAGGING = 1,\n\t\tSELECTING = 2,\n\t\tZOOMING_OUT = 3,\n\t\tSCROLLING = 4,\n\t\tDRAGGING_LEFT_HANDLE = 5,\n\t\tDRAGGING_RIGHT_HANDLE = 6,\n\t\tPRESSING_LEFT = 7,\n\t\tPRESSING_RIGHT = 8,\n\t\tWINDOW = 9,\n\t\tPRESSING_PAGE_LEFT = 10,\n\t\tPRESSING_PAGE_RIGHT = 11,\n\t\tDRAGGING_SPARKLINE = 12,\n\t}\n\n\texport class Controller extends flash.display.Sprite\n\t{\n\t\tprivate static NOTIFY_TIMEOUT = 500;\n\n\t\tprivate PAGING_AREA_WIDTH = 100;\n\t\tprivate MOUSE_DOWN = false;\n\t\tprivate BUTTON_MOVEBY_AMOUNT = 40;\n\t\tprivate MIN_PIXELS = 2;\n\t\tprivate SHIFT_DOWN = false;\n\t\tprivate CTRL_DOWN = false;\n\n\t\tprivate pagingAmount: number = 0;\n\t\tprivate lastMouseMoveTime: number;\n\t\tprivate initialYMouse: number;\n\t\tprivate lastCount: number;\n\t\tprivate delayedMinutes: number;\n\t\tprivate baseXOffset: number;\n\t\tprivate promotedButtonTextFormat: flash.text.TextFormat;\n\t\tprivate zoomButtons: ui.TextButtonsGroup;\n\t\tprivate chartTypeButtons: ui.TextButtonsGroup;\n\t\tprivate aniManager = new AnimationManager();\n\t\tprivate scrollMouseMinX: number;\n\t\tprivate listeners: IViewPoint[];\n\t\tprivate separatorTextFormat: flash.text.TextFormat;\n\t\tprivate pollingTimer: flash.utils.Timer;\n\t\tprivate chartSizeChangeToolTip: ToolTipMovie;\n\t\tprivate buttonTextFormat: flash.text.TextFormat;\n\t\tprivate intId: number;\n\t\tprivate chartTypeNameMapping: { [key: string]: string };\n\t\tprivate scrollMouseMaxX: number;\n\t\tprivate isMarketOpen: boolean;\n\t\tprivate initialXMouse: number;\n\t\tprivate notifyHtmlIntervalId: number;\n\t\tprivate selectedTextFormat: flash.text.TextFormat;\n\t\tprivate holderBounds: Bounds = new Bounds(Number.MAX_VALUE, Number.MAX_VALUE, 0, 0);\n\t\tprivate chartTypeText: flash.text.TextField;\n\t\tprivate state = ControllerStates.NOTHING;\n\t\tprivate intervalText: flash.text.TextField;\n\t\tprivate chartSizeChangeButton: flash.display.SimpleButton;\n\t\tprivate customZoomEndDate: Date;\n\t\tprivate zoomText: flash.text.TextField;\n\t\tprivate customZoomStartDate: Date;\n\t\tprivate cumulativeXOffset: number = 0;\n\t\tprivate stateRemainingMinutes: number;\n\t\tprivate lastIntervalLevel: Intervals;\n\t\tprivate controlledAreaBounds: Bounds[] = [];\n\t\tprivate lastLastMinutes: number;\n\t\tprivate windowTitleTextFormat: flash.text.TextFormat;\n\t\tprivate intervalButtons: ui.TextButtonsGroup;\n\t\tprivate isZh: boolean;\n\n\t\tcurrentIntervalLevel: Intervals;\n\t\tcurrentZoomLevel: ScaleTypes;\n\n\t\tconstructor(public readonly mainManager: MainManager, public readonly displayManager: DisplayManager)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.listeners = [];\n\t\t\tthis.isZh = Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale());\n\t\t\tthis.mouseEnabled = true;\n\t\t\tthis.buttonTextFormat = new flash.text.TextFormat(\"Verdana\", this.isZh ? 10 : 9, 204);\n\t\t\tthis.buttonTextFormat.underline = true;\n\t\t\tthis.promotedButtonTextFormat = new flash.text.TextFormat(\"Verdana\", this.isZh ? 10 : 9, 14290192);\n\t\t\tthis.promotedButtonTextFormat.underline = true;\n\t\t\tthis.selectedTextFormat = new flash.text.TextFormat(\"Verdana\", this.isZh ? 10 : 9, 0);\n\t\t\tthis.selectedTextFormat.underline = false;\n\t\t\tthis.windowTitleTextFormat = new flash.text.TextFormat(\"Verdana\", 10, 0);\n\t\t\tthis.windowTitleTextFormat.underline = false;\n\t\t\tthis.windowTitleTextFormat.bold = true;\n\t\t\tthis.separatorTextFormat = new flash.text.TextFormat(\"Verdana\", 9, 0);\n\t\t\tif (Const.INDICATOR_ENABLED && Const.CHART_TYPE_BUTTONS_ENABLED && mainManager.getQuoteType() === QuoteTypes.COMPANY)\n\t\t\t\tthis.createChartTypeButtons();\n\n\t\t\tthis.createZoomButtons();\n\t\t\tthis.createIntervalButtons();\n\t\t\tthis.enableZoomButtons();\n\t\t\tif (Const.EXPAND_BUTTON_ENABLED)\n\t\t\t\tthis.createChartSizeChangeButton(true);\n\t\t\telse if (Const.SHRINK_BUTTON_ENABLED)\n\t\t\t\tthis.createChartSizeChangeButton(false);\n\n\t\t\tthis.addChild(this.aniManager);\n\t\t\tthis.currentZoomLevel = this.getInitialZoomLevel();\n\t\t}\n\n\t\tprivate movePage(direction: Directions)\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tif (mainViewPoint)\n\t\t\t\tthis.notifyListenersToMove(<number>direction * (mainViewPoint.maxx - mainViewPoint.minx));\n\t\t}\n\n\t\tprivate getInitialZoomLevel(): ScaleTypes\n\t\t{\n\t\t\tif (Const.DEFAULT_DISPLAY_MINUTES !== -1)\n\t\t\t\treturn -1;\n\n\t\t\tfor (let index = <ScaleTypes>0; index < <ScaleTypes>Const.SCALE_INTERVALS.length; index++)\n\t\t\t{\n\t\t\t\tif (Const.SCALE_INTERVALS[index].days === Const.DEFAULT_DISPLAY_DAYS && index >= ScaleTypes.SCALE_5D)\n\t\t\t\t\treturn index;\n\t\t\t}\n\t\t\treturn ScaleTypes.INVALID;\n\t\t}\n\n\t\tcreateChartSizeChangeButton(showExpand: boolean)\n\t\t{\n\t\t\tif (this.chartSizeChangeToolTip && this.contains(this.chartSizeChangeToolTip))\n\t\t\t\tthis.removeChild(this.chartSizeChangeToolTip);\n\n\t\t\tif (this.chartSizeChangeButton && this.contains(this.chartSizeChangeButton))\n\t\t\t\tthis.removeChild(this.chartSizeChangeButton);\n\n\t\t\tthis.chartSizeChangeButton = new flash.display.SimpleButton(\"chartSizeChangeButton\");\n\t\t\tconst buttonBitmap: flash.display.Bitmap = showExpand ? new Controller_ExpandIcon() : new Controller_ShrinkIcon();\n\n\t\t\tthis.chartSizeChangeButton.overState = buttonBitmap;\n\t\t\tthis.chartSizeChangeButton.downState = buttonBitmap;\n\t\t\tthis.chartSizeChangeButton.hitTestState = buttonBitmap;\n\t\t\tthis.chartSizeChangeButton.upState = buttonBitmap;\n\t\t\tthis.chartSizeChangeButton.useHandCursor = true;\n\t\t\tthis.chartSizeChangeButton.x = this.mainManager.stage.stageWidth - this.chartSizeChangeButton.width - 5;\n\t\t\tthis.chartSizeChangeButton.y = 5;\n\t\t\tthis.addChild(this.chartSizeChangeButton);\n\t\t\tthis.chartSizeChangeToolTip = new ToolTipMovie();\n\t\t\tthis.addChild(this.chartSizeChangeToolTip);\n\t\t\tthis.chartSizeChangeButton.addEventListener(MouseEvents.MOUSE_OVER, (event: Event): void =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t\tMainManager.mouseCursor.lockOnDisplayObject(this.chartSizeChangeButton);\n\t\t\t\tthis.chartSizeChangeToolTip.renderMovie(this.chartSizeChangeButton.x - 5, this.chartSizeChangeButton.y, showExpand ? Message.getMsg(Messages.LARGE_CHART) : Message.getMsg(Messages.SMALL_CHART));\n\n\t\t\t\tflash.display.Graphics.cleanupPending();\n\t\t\t});\n\t\t\tthis.chartSizeChangeButton.addEventListener(MouseEvents.MOUSE_OUT, (event: Event): void =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.unlock();\n\t\t\t\tthis.chartSizeChangeToolTip.clearMovie();\n\n\t\t\t\tflash.display.Graphics.cleanupPending();\n\t\t\t});\n\t\t\tthis.chartSizeChangeButton.addEventListener(MouseEvents.CLICK, (event: Event): void =>\n\t\t\t{\n\t\t\t\tif (showExpand)\n\t\t\t\t\tMainManager.jsProxy.expandChart();\n\t\t\t\telse\n\t\t\t\t\tMainManager.jsProxy.shrinkChart();\n\n\t\t\t\tflash.display.Graphics.cleanupPending();\n\t\t\t});\n\t\t}\n\n\t\tprivate applyLastOrDefaultInterval(dataSource: DataSource | null, viewPoint: ViewPoint)\n\t\t{\n\t\t\tif (this.lastIntervalLevel !== Intervals.INVALID && this.lastIntervalLevel <= Intervals.WEEKLY)\n\t\t\t{\n\t\t\t\tthis.enableIntervalButtons(this.lastIntervalLevel);\n\t\t\t\tthis.currentIntervalLevel = this.lastIntervalLevel;\n\t\t\t\tthis.animateTo(this.lastLastMinutes, this.lastCount, 1);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.enableIntervalButtons(Const.DEFAULT_D);\n\t\t\t\tthis.currentIntervalLevel = Const.DEFAULT_D;\n\t\t\t\tviewPoint.checkEvents();\n\t\t\t\tif (dataSource)\n\t\t\t\t\tthis.animateTo(0, Const.INTERVAL_PERIODS[Const.DEFAULT_D].days * (dataSource.data.marketDayLength + 1), 1);\n\t\t\t}\n\t\t}\n\n\t\tonMouseMove(mouseEvent: MouseEvent)\n\t\t{\n\t\t\tthis.stage.setMouse(mouseEvent.pageX, mouseEvent.pageY);\n\t\t\tconst timer = getTimer();\n\t\t\tif (timer - this.lastMouseMoveTime < 16)\n\t\t\t\treturn;\n\n\t\t\tthis.lastMouseMoveTime = timer;\n\t\t\tthis.mouseMoveAction(mouseEvent);\n\t\t}\n\n\t\tremoveControlListener(sprites: flash.display.Sprite)\n\t\t{\n\t\t\tfor (let listenerIndex = 0; listenerIndex < this.listeners.length; listenerIndex++)\n\t\t\t{\n\t\t\t\tif (this.listeners[listenerIndex] === sprites)\n\t\t\t\t{\n\t\t\t\t\tthis.listeners.splice(listenerIndex, 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttriggerMouseMoveAction()\n\t\t{\n\t\t\tthis.mouseMoveAction(new MouseEvent(MouseEvents.MOUSE_MOVE));\n\t\t}\n\n\t\tgetCountForDays(dataSource: DataSource, param2: number, param3: number): number\n\t\t{\n\t\t\tconst units = dataSource.data.units;\n\t\t\tconst days = dataSource.data.days;\n\t\t\tconst endOfDayDataUnit = dataSource.getEndOfDayDataUnitFor(param3);\n\t\t\tlet minuteMetaIndex = DataSource.getMinuteMetaIndex(endOfDayDataUnit.relativeMinutes, days, units);\n\t\t\tminuteMetaIndex = Math.min(minuteMetaIndex, days.length - 1);\n\t\t\tlet _loc8_ = 0;\n\t\t\tlet _loc9_ = 0;\n\t\t\tconst relativeMinutes = units[days[minuteMetaIndex]].relativeMinutes;\n\t\t\tlet _loc11_ = dataSource.getEndOfDayDataUnitFor(relativeMinutes);\n\t\t\tif (Utils.compareUtcDates(_loc11_.exchangeDateInUTC, endOfDayDataUnit.exchangeDateInUTC) !== 0)\n\t\t\t\t_loc8_ += dataSource.afterHoursData.getSessionLength(Const.PRE_MARKET_NAME) + 1;\n\n\t\t\twhile (minuteMetaIndex >= 0 && _loc9_ < param2)\n\t\t\t{\n\t\t\t\tminuteMetaIndex--;\n\t\t\t\tlet unit = units[days[minuteMetaIndex]];\n\t\t\t\tif (_loc11_.coveredDays > 0)\n\t\t\t\t{\n\t\t\t\t\t_loc8_ += _loc11_.coveredDays * (dataSource.data.marketDayLength + 1);\n\t\t\t\t\t_loc9_ += _loc11_.coveredDays;\n\t\t\t\t}\n\t\t\t\telse if (unit)\n\t\t\t\t{\n\t\t\t\t\tunit = dataSource.getEndOfDayDataUnitFor(unit.relativeMinutes);\n\t\t\t\t\t_loc8_ += _loc11_.relativeMinutes - unit.relativeMinutes;\n\t\t\t\t\t_loc9_++;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_loc8_ += dataSource.data.marketDayLength + 1;\n\t\t\t\t\t_loc9_++;\n\t\t\t\t}\n\t\t\t\t_loc11_ = unit;\n\t\t\t}\n\t\t\t_loc8_ = _loc8_ + (param2 - _loc9_) * (dataSource.data.marketDayLength + 1);\n\t\t\treturn _loc8_;\n\t\t}\n\n\t\tmoveListenersByOffsets()\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tif (!mainViewPoint)\n\t\t\t\treturn;\n\n\t\t\tconst sparklineViewPoint = this.displayManager.getSparklineViewPoint();\n\t\t\t//const _loc3_ = _loc2_.dataSource;\n\t\t\tconst width = sparklineViewPoint.getWidth();\n\t\t\tconst _loc5_ = sparklineViewPoint.sparkCount * (mainViewPoint.maxx - mainViewPoint.minx) / mainViewPoint.count;\n\t\t\tconst _loc6_ = sparklineViewPoint.moveSparklineBy_Handler(this.cumulativeXOffset);\n\t\t\tconst _loc7_ = (this.baseXOffset - _loc6_) * _loc5_ / width;\n\t\t\tthis.changeListenersOffset(_loc7_);\n\t\t}\n\n\t\thandleMouseWheel(delta: number)\n\t\t{\n\t\t\tif (delta !== 0)\n\t\t\t{\n\t\t\t\tconst distance = Math.abs(delta);\n\t\t\t\tif (delta > 0)\n\t\t\t\t\tthis.zoomStuff(Directions.FORWARD, this.mouseX, distance);\n\t\t\t\telse if (delta < 0)\n\t\t\t\t\tthis.zoomStuff(Directions.BACKWARD, this.mouseY, distance);\n\n\t\t\t\tclearInterval(this.notifyHtmlIntervalId);\n\t\t\t\tthis.notifyHtmlIntervalId = setInterval(this.listenersNotifyHtml.bind(this), Controller.NOTIFY_TIMEOUT);\n\t\t\t}\n\t\t}\n\n\t\tprivate hitTestInsideBounds(x: number, y: number): boolean\n\t\t{\n\t\t\tfor (const bounds of this.controlledAreaBounds)\n\t\t\t{\n\t\t\t\tif (bounds.containsPoint(x, y))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tcheckSparklinePositioning()\n\t\t{\n\t\t\tconst sparklineViewPoint = this.displayManager.getSparklineViewPoint();\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tif (!sparklineViewPoint || !mainViewPoint)\n\t\t\t\treturn;\n\n\t\t\t//const _loc3_ = _loc2_.minutesOffset;\n\t\t\tif (!sparklineViewPoint.windowLayer)\n\t\t\t\treturn;\n\n\t\t\tconst leftX = sparklineViewPoint.windowLayer.getLeftX();\n\t\t\tconst rightX = sparklineViewPoint.windowLayer.getRightX();\n\t\t\tconst firstDataSource = this.displayManager.layersManager.getFirstDataSource();\n\t\t\tconst sparkLastMinute = sparklineViewPoint.getSparkLastMinute() < 0;\n\t\t\tlet sparkFirstMinute = sparklineViewPoint.getSparkFirstMinute() > sparklineViewPoint.getOldestMinute();\n\t\t\tif (this.currentIntervalLevel !== Intervals.INVALID && firstDataSource)\n\t\t\t{\n\t\t\t\tconst tFirstRelativeMinute = firstDataSource.getFirstRelativeMinute(this.currentIntervalLevel);\n\t\t\t\tsparkFirstMinute = sparklineViewPoint.getSparkFirstMinute() > tFirstRelativeMinute;\n\t\t\t}\n\t\t\tif (sparkFirstMinute && leftX < sparklineViewPoint.minx + this.PAGING_AREA_WIDTH)\n\t\t\t{\n\t\t\t\tsparklineViewPoint.moveSparklineBy_Handler(leftX - (sparklineViewPoint.minx + this.PAGING_AREA_WIDTH));\n\t\t\t\tsparklineViewPoint.commitSparklineOffset_Handler();\n\t\t\t}\n\t\t\telse if (sparkLastMinute && rightX > sparklineViewPoint.maxx - this.PAGING_AREA_WIDTH)\n\t\t\t{\n\t\t\t\tsparklineViewPoint.moveSparklineBy_Handler(rightX - (sparklineViewPoint.maxx - this.PAGING_AREA_WIDTH));\n\t\t\t\tsparklineViewPoint.commitSparklineOffset_Handler();\n\t\t\t}\n\t\t}\n\n\t\tsetNewFinalState(viewPointState: ViewPointState, param2: boolean = false)\n\t\t{\n\t\t\tif (viewPointState.lastMinute === undefined || viewPointState.count === undefined)\n\t\t\t\treturn;\n\n\t\t\tif (this.aniManager.isAnimating())\n\t\t\t{\n\t\t\t\tfor (const listener of this.listeners)\n\t\t\t\t\tlistener.newFinalAnimationState(viewPointState);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.jumpTo(viewPointState.lastMinute, viewPointState.count, param2);\n\t\t\t}\n\t\t}\n\n\t\tanimateTo(lastMinute: number, count: number, param3: number = NaN, param4 = false)\n\t\t{\n\t\t\tconst _loc5_: ((displayObjects: flash.display.DisplayObject, param2: number, param3: boolean) => void)[] = [];\n\t\t\tconst _loc6_: flash.display.DisplayObject[] = [];\n\t\t\tconst context = new Context();\n\t\t\tcontext.lastMinute = lastMinute;\n\t\t\tcontext.count = count;\n\t\t\tfor (let listenerIndex = 0; listenerIndex < this.listeners.length; listenerIndex++)\n\t\t\t{\n\t\t\t\tthis.listeners[listenerIndex].zoomingAnimation_init(context);\n\t\t\t\tconst listener = this.listeners[listenerIndex];\n\t\t\t\t_loc5_[listenerIndex] = listener.zoomingAnimation_ticker.bind(listener);\n\t\t\t\t_loc6_[listenerIndex] = listener;\n\t\t\t}\n\t\t\tconst topBorderLayer = this.displayManager.topBorderLayer;\n\t\t\t_loc5_[this.listeners.length] = topBorderLayer.update.bind(topBorderLayer);\n\t\t\t_loc6_[this.listeners.length] = topBorderLayer;\n\t\t\tthis.aniManager.animate(_loc5_, _loc6_, param3, param4);\n\t\t}\n\n\t\tchartTypeButtonClicked(param1: string)\n\t\t{\n\t\t\tMainManager.jsProxy.setJsChartType(this.chartTypeNameMapping[param1]);\n\t\t}\n\n\t\tonMouseUp(event: Event)\n\t\t{\n\t\t\tthis.mouseUpAction();\n\t\t}\n\n\t\tsyncZoomLevel(param1?: boolean)\n\t\t{\n\t\t\tif (this.state === ControllerStates.SCROLLING)\n\t\t\t\treturn;\n\n\t\t\tif (this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t\treturn;\n\n\t\t\tconst zoomLevelFinalState = this.getZoomLevelFinalState(this.currentZoomLevel);\n\t\t\tif (zoomLevelFinalState)\n\t\t\t\tthis.setNewFinalState(zoomLevelFinalState, param1);\n\t\t}\n\n\t\tprivate createChartTypeButtons()\n\t\t{\n\t\t\tthis.chartTypeText = new flash.text.TextField();\n\t\t\tthis.chartTypeText.x = 5;\n\t\t\tthis.chartTypeText.y = 5;\n\t\t\tthis.chartTypeText.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.chartTypeText.defaultTextFormat = this.windowTitleTextFormat;\n\t\t\tthis.chartTypeText.text = Message.getMsg(Messages.TYPE) + ':';\n\t\t\tthis.chartTypeText.selectable = false;\n\t\t\tthis.chartTypeButtons = new ui.TextButtonsGroup();\n\t\t\tthis.chartTypeButtons.setSpacing(\"\", this.isZh ? 1 : 3);\n\t\t\tthis.chartTypeButtons.setTextFormats(this.buttonTextFormat, this.selectedTextFormat, this.separatorTextFormat);\n\t\t\tthis.chartTypeButtons.x = this.chartTypeText.x + this.chartTypeText.width + this.chartTypeButtons.spacing;\n\t\t\tthis.chartTypeButtons.y = this.chartTypeText.y;\n\t\t\tthis.chartTypeButtons.addButton(Message.getMsg(Messages.LINE));\n\t\t\tthis.chartTypeButtons.addButton(Message.getMsg(Messages.CANDLESTICK), this.promotedButtonTextFormat);\n\t\t\tthis.chartTypeNameMapping = {};\n\t\t\tthis.chartTypeNameMapping[Message.getMsg(Messages.LINE)] = \"IntervalBasedLine\";\n\t\t\tthis.chartTypeNameMapping[Message.getMsg(Messages.CANDLESTICK)] = \"CandleStick\";\n\t\t\tthis.chartTypeButtons.selectButtonByIndex(Const.CHART_STYLE_NAMES.indexOf(Const.DEFAULT_CHART_STYLE_NAME));\n\t\t\tthis.chartTypeButtons.addListener(this.chartTypeButtonClicked, this);\n\t\t\tthis.addChild(this.chartTypeText);\n\t\t\tthis.addChild(this.chartTypeButtons);\n\t\t}\n\n\t\tmouseMoveAction(mouseEvent: MouseEvent)\n\t\t{\n\t\t\tlet _loc10_ = false;\n\t\t\tlet _loc11_ = false;\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tconst sparklineViewPoint = this.displayManager.getSparklineViewPoint();\n\t\t\t//const _loc4_ = this.displayManager.getViewPoint(\"BottomViewPoint\");\n\t\t\t//const _loc5_ = this.mainManager.layersManager;\n\t\t\tswitch (this.state)\n\t\t\t{\n\t\t\t\tcase ControllerStates.SELECTING:\n\t\t\t\t\tthis.drawSquare(this.initialXMouse, this.initialYMouse, this.mouseX, this.mouseY);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.DRAGGING:\n\t\t\t\t\tthis.displayManager.showContextualStaticInfo();\n\t\t\t\t\tthis.changeListenersOffset(this.mouseX - this.initialXMouse);\n\t\t\t\t\tthis.checkSparklinePositioning();\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.NOTHING:\n\t\t\t\t\tif (this.hitTestInsideBounds(this.mouseX, this.mouseY) && !mainViewPoint.isAnimating())\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.displayManager.spaceText.setPointInfo(this.highlightPoints());\n\t\t\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.OPENED_HAND);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (sparklineViewPoint.windowLayer && mouseEvent.target !== sparklineViewPoint.windowLayer.leftHandle.button.element && mouseEvent.target !== sparklineViewPoint.windowLayer.rightHandle.button.element)\n\t\t\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\n\t\t\t\t\tthis.clearAllHighlights();\n\t\t\t\t\tthis.displayManager.showContextualStaticInfo();\n\t\t\t\t\tif (sparklineViewPoint.bg.hitTestPoint(this.mouseX, this.mouseY, false))\n\t\t\t\t\t{\n\t\t\t\t\t\tsparklineViewPoint.toggleHandles(true);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsparklineViewPoint.toggleHandles(false);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.DRAGGING_SPARKLINE:\n\t\t\t\t\tthis.mouseCursor.setCursor(MouseCursors.CLOSED_HAND);\n\t\t\t\t\tsparklineViewPoint.moveSparklineBy_Handler(this.initialXMouse - this.mouseX);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.SCROLLING:\n\t\t\t\t\tthis.displayManager.showContextualStaticInfo();\n\t\t\t\t\t//const _loc6_ = _loc3_.windowLayer.getLeftX();\n\t\t\t\t\t//const _loc7_ = _loc3_.windowLayer.getRightX();\n\t\t\t\t\tlet mouseX = this.mouseX;\n\t\t\t\t\tmouseX = Math.max(mouseX, this.scrollMouseMinX);\n\t\t\t\t\tmouseX = Math.min(mouseX, this.scrollMouseMaxX);\n\t\t\t\t\tthis.baseXOffset = this.initialXMouse - mouseX;\n\t\t\t\t\tconst _loc9_ = this.displayManager.layersManager.getFirstDataSource();\n\t\t\t\t\t_loc10_ = sparklineViewPoint.getSparkLastMinute() < 0;\n\t\t\t\t\t_loc11_ = sparklineViewPoint.getSparkFirstMinute() > sparklineViewPoint.getOldestMinute();\n\t\t\t\t\tif (this.currentIntervalLevel !== Intervals.INVALID && _loc9_)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst firstRelativeMinute = _loc9_.getFirstRelativeMinute(this.currentIntervalLevel);\n\t\t\t\t\t\t_loc11_ = sparklineViewPoint.getSparkFirstMinute() > firstRelativeMinute;\n\t\t\t\t\t}\n\t\t\t\t\tif (mouseX < this.scrollMouseMinX + this.PAGING_AREA_WIDTH && _loc11_)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.pagingAmount = mouseX - (this.scrollMouseMinX + this.PAGING_AREA_WIDTH);\n\t\t\t\t\t\tthis.addXOffset(this, this.pagingAmount);\n\t\t\t\t\t\tclearInterval(this.intId);\n\t\t\t\t\t\tthis.intId = setInterval(() => { this.addXOffset(this, this.pagingAmount); }, 20);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (mouseX >= this.scrollMouseMaxX - this.PAGING_AREA_WIDTH && _loc10_)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.pagingAmount = mouseX - (this.scrollMouseMaxX - this.PAGING_AREA_WIDTH);\n\t\t\t\t\t\tthis.addXOffset(this, this.pagingAmount);\n\t\t\t\t\t\tclearInterval(this.intId);\n\t\t\t\t\t\tthis.intId = setInterval(() => { this.addXOffset(this, this.pagingAmount); }, 20);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.stopContinuousPaging();\n\t\t\t\t\tthis.moveListenersByOffsets();\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.DRAGGING_LEFT_HANDLE:\n\t\t\t\t\tthis.mouseCursor.setCursor(MouseCursors.H_ARROWS);\n\t\t\t\t\tsparklineViewPoint.windowLayer.initialX = this.initialXMouse;\n\t\t\t\t\tsparklineViewPoint.windowLayer.leftHandleXOffset = this.initialXMouse - this.mouseX;\n\t\t\t\t\tsparklineViewPoint.windowLayer.renderLayer();\n\t\t\t\t\tthis.displayManager.spaceText.setTimePeriod(sparklineViewPoint.windowLayer);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.DRAGGING_RIGHT_HANDLE:\n\t\t\t\t\tthis.mouseCursor.setCursor(MouseCursors.H_ARROWS);\n\t\t\t\t\tsparklineViewPoint.windowLayer.initialX = this.initialXMouse;\n\t\t\t\t\tsparklineViewPoint.windowLayer.rightHandleXOffset = this.initialXMouse - this.mouseX;\n\t\t\t\t\tsparklineViewPoint.windowLayer.renderLayer();\n\t\t\t\t\tthis.displayManager.spaceText.setTimePeriod(sparklineViewPoint.windowLayer);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (this.displayManager.topBorderLayer)\n\t\t\t\tthis.displayManager.topBorderLayer.update();\n\t\t}\n\n\t\taddControlListener(viewPoint: IViewPoint, tickPosition: TickPositions = <TickPositions>NaN)\n\t\t{\n\t\t\tif (tickPosition === TickPositions.BOTTOM)\n\t\t\t\tthis.listeners.push(viewPoint);\n\t\t\telse\n\t\t\t\tthis.listeners.splice(0, 0, viewPoint);\n\t\t}\n\n\t\tgetButtonsWidth(): number\n\t\t{\n\t\t\tif (!this.zoomButtons || !this.intervalButtons)\n\t\t\t\treturn 0;\n\n\t\t\treturn Math.max(this.zoomButtons.x + this.zoomButtons.width, this.intervalButtons.x + this.intervalButtons.width);\n\t\t}\n\n\t\tlistenersNotifyHtml()\n\t\t{\n\t\t\tfor (const listener of this.listeners)\n\t\t\t\tlistener.HTMLnotify();\n\n\t\t\tclearInterval(this.notifyHtmlIntervalId);\n\t\t}\n\n\t\tshouldRequestAfterHoursData(param1: boolean, param2: number, param3: number, param4: number): boolean\n\t\t{\n\t\t\tif (!param1)\n\t\t\t\treturn true;\n\n\t\t\tif (param2 <= Const.REALTIME_CHART_POLLING_MARGIN || param2 >= param4 - param3 - Const.REALTIME_CHART_POLLING_MARGIN)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t}\n\n\t\tget mouseCursor(): MouseCursor\n\t\t{\n\t\t\treturn MainManager.mouseCursor;\n\t\t}\n\n\t\tprivate createIntervalButtons()\n\t\t{\n\t\t\tthis.intervalText = new flash.text.TextField();\n\t\t\tthis.intervalText.x = !this.chartTypeButtons ? 5 : this.chartTypeButtons.x + this.chartTypeButtons.width + 5;\n\t\t\tthis.intervalText.y = 5;\n\t\t\tthis.intervalText.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.intervalText.defaultTextFormat = this.windowTitleTextFormat;\n\t\t\tthis.intervalText.text = Message.getMsg(Messages.INTERVAL) + ':';\n\t\t\tthis.intervalText.selectable = false;\n\t\t\tthis.intervalButtons = new ui.TextButtonsGroup();\n\t\t\tthis.intervalButtons.setSpacing(\"\", this.isZh ? 1 : 3);\n\t\t\tthis.intervalButtons.setTextFormats(this.buttonTextFormat, this.selectedTextFormat, this.separatorTextFormat);\n\t\t\tthis.intervalButtons.x = this.intervalText.x + this.intervalText.width + this.intervalButtons.spacing;\n\t\t\tthis.intervalButtons.y = this.intervalText.y;\n\t\t\tconst intervalPeriods = Const.INTERVAL_PERIODS;\n\t\t\tfor (const intervalPeriod of intervalPeriods)\n\t\t\t{\n\t\t\t\tif (intervalPeriod.days >= Const.MIN_DISPLAY_DAYS)\n\t\t\t\t\tthis.intervalButtons.addButton(Message.getMsg(intervalPeriod.text));\n\t\t\t}\n\t\t\tthis.intervalButtons.addListener(this.intervalButtonClicked, this);\n\t\t}\n\n\t\tjumpTo(lastMinute: number, count: number, param3: boolean = false)\n\t\t{\n\t\t\tlet context = new Context();\n\t\t\tcontext.lastMinute = lastMinute;\n\t\t\tcontext.count = count;\n\t\t\tfor (const listener of this.listeners)\n\t\t\t{\n\t\t\t\tcontext = listener.getNewContext(lastMinute, count);\n\t\t\t\tlistener.zoomInMinutes_Handler(context, param3);\n\t\t\t}\n\t\t}\n\n\t\tprivate adjustCountForAfterHours(param1: number, dataSource: DataSource, startInterval: Intervals, endInterval: Intervals): number\n\t\t{\n\t\t\tif (startInterval === Intervals.INTRADAY && endInterval > Intervals.INTRADAY)\n\t\t\t{\n\t\t\t\tfor (let intervalIndex = 0; intervalIndex < dataSource.visibleExtendedHours.length(); intervalIndex++)\n\t\t\t\t{\n\t\t\t\t\tconst interval = dataSource.visibleExtendedHours.getIntervalAt(intervalIndex);\n\t\t\t\t\tconst startUnit = dataSource.afterHoursData.units[interval.start];\n\t\t\t\t\tconst endUnit = dataSource.afterHoursData.units[interval.end];\n\t\t\t\t\tparam1 -= endUnit.dayMinute - startUnit.dayMinute;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (startInterval > Intervals.INTRADAY && endInterval === Intervals.INTRADAY)\n\t\t\t{\n\t\t\t\tfor (let intervalIndex = 0; intervalIndex < dataSource.hiddenExtendedHours.length(); intervalIndex++)\n\t\t\t\t{\n\t\t\t\t\tconst interval = dataSource.hiddenExtendedHours.getIntervalAt(intervalIndex);\n\t\t\t\t\tconst startUnit = dataSource.afterHoursData.units[interval.start];\n\t\t\t\t\tconst endUnit = dataSource.afterHoursData.units[interval.end];\n\t\t\t\t\tparam1 += endUnit.dayMinute - startUnit.dayMinute;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn param1;\n\t\t}\n\n\t\tresetZoomButtons(param1: number)\n\t\t{\n\t\t\tif (!this.zoomButtons)\n\t\t\t\treturn;\n\n\t\t\tthis.zoomButtons.clearSelection();\n\t\t\tthis.zoomButtons.resetButtonsGroup();\n\t\t\tconst scaleIntervals = Const.SCALE_INTERVALS;\n\t\t\tfor (let index = scaleIntervals.length - 1; index >= 0; index--)\n\t\t\t{\n\t\t\t\tif (scaleIntervals[index].days >= param1)\n\t\t\t\t{\n\t\t\t\t\tif (scaleIntervals[index].text !== Const.NO_BUTTON_TEXT)\n\t\t\t\t\t\tthis.zoomButtons.addButton(Message.getMsg(scaleIntervals[index].text));\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.zoomButtons.addListener(this.zoomButtonClicked, this);\n\t\t}\n\n\t\tprivate computeHolderBounds()\n\t\t{\n\t\t\tthis.holderBounds = new Bounds(Number.MAX_VALUE, Number.MAX_VALUE, 0, 0);\n\t\t\tfor (const bounds of this.controlledAreaBounds)\n\t\t\t\tthis.holderBounds.append(bounds);\n\t\t}\n\n\t\tclearCurrentInterval()\n\t\t{\n\t\t\tthis.currentIntervalLevel = Intervals.INVALID;\n\t\t\tthis.intervalButtons.clearSelection();\n\t\t}\n\n\t\tclearCurrentZoom()\n\t\t{\n\t\t\tthis.currentZoomLevel = ScaleTypes.INVALID;\n\t\t\tthis.zoomButtons.clearSelection();\n\t\t}\n\n\t\tprivate initPollingTimer()\n\t\t{\n\t\t\tif (Const.INDICATOR_ENABLED && Const.REALTIME_CHART_ENABLED && this.mainManager.quote.indexOf(\"INDEXDJX\") === -1)\n\t\t\t{\n\t\t\t\tthis.isMarketOpen = Number(MainManager.paramsObj.isMarketOpenState) === 1;\n\t\t\t\tthis.stateRemainingMinutes = MainManager.paramsObj.stateRemainingMinutes >= 0 ? MainManager.paramsObj.stateRemainingMinutes : Number.MAX_VALUE;\n\t\t\t\tthis.delayedMinutes = MainManager.paramsObj.delayedMinutes >= 0 ? MainManager.paramsObj.delayedMinutes : 0;\n\t\t\t\tthis.pollingTimer = new flash.utils.Timer(Const.REALTIME_CHART_POLLING_INTERVAL);\n\t\t\t\tthis.pollingTimer.addEventListener(TimerEvents.TIMER, flash.display.Stage.bind(this.pollingTimerHandler, this));\n\t\t\t\tthis.pollingTimer.start();\n\t\t\t}\n\t\t}\n\n\t\tonMouseLeave(event: Event)\n\t\t{\n\t\t\tMainManager.jsProxy.setChartFocus(false);\n\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\tthis.clearAllHighlights();\n\t\t\tthis.displayManager.showContextualStaticInfo();\n\t\t}\n\n\t\tmouseUpAction()\n\t\t{\n\t\t\t//const _loc1_ = this.displayManager.getMainViewPoint();\n\t\t\tconst sparklineViewPoint = this.displayManager.getSparklineViewPoint();\n\t\t\tswitch (this.state)\n\t\t\t{\n\t\t\t\tcase ControllerStates.SELECTING:\n\t\t\t\t\tconst _loc5_ = Math.min(this.initialXMouse, this.mouseX);\n\t\t\t\t\tconst _loc6_ = Math.max(this.initialXMouse, this.mouseX);\n\t\t\t\t\tfor (const listener of this.listeners)\n\t\t\t\t\t\tlistener.zoomIn_Handler(_loc5_, _loc6_);\n\n\t\t\t\t\tthis.listenersNotifyHtml();\n\t\t\t\t\tthis.graphics.clear();\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.ZOOMING_OUT:\n\t\t\t\tcase ControllerStates.PRESSING_LEFT:\n\t\t\t\tcase ControllerStates.PRESSING_RIGHT:\n\t\t\t\tcase ControllerStates.PRESSING_PAGE_RIGHT:\n\t\t\t\tcase ControllerStates.PRESSING_PAGE_LEFT:\n\t\t\t\t\tclearInterval(this.intId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.DRAGGING:\n\t\t\t\tcase ControllerStates.SCROLLING:\n\t\t\t\t\tclearInterval(this.intId);\n\t\t\t\t\tsparklineViewPoint.moveSparklineBy_Handler(this.cumulativeXOffset + this.pagingAmount);\n\t\t\t\t\tsparklineViewPoint.commitSparklineOffset_Handler();\n\t\t\t\t\tthis.cumulativeXOffset = 0;\n\t\t\t\t\tthis.pagingAmount = 0;\n\t\t\t\t\tthis.commitListenersOffset();\n\t\t\t\t\tif (Math.abs(this.initialXMouse - this.mouseX) >= this.MIN_PIXELS)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (const listener of this.listeners)\n\t\t\t\t\t\t\tlistener.HTMLnotify();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.DRAGGING_LEFT_HANDLE:\n\t\t\t\t\tsparklineViewPoint.windowLayer.handleReleased(sparklineViewPoint.windowLayer.leftHandle);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.DRAGGING_RIGHT_HANDLE:\n\t\t\t\t\tsparklineViewPoint.windowLayer.handleReleased(sparklineViewPoint.windowLayer.rightHandle);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerStates.WINDOW:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\tconst viewPoints = this.displayManager.getViewPoints();\n\t\t\tfor (const viewPoint of viewPoints)\n\t\t\t{\n\t\t\t\tif (viewPoint.bg.hitTestPoint(this.mouseX, this.mouseY, false) && !viewPoint.isAnimating())\n\t\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursor.DRAGGABLE_CURSOR);\n\t\t\t}\n\t\t\tthis.displayManager.topBorderLayer.update();\n\t\t\tthis.state = ControllerStates.NOTHING;\n\t\t\tthis.MOUSE_DOWN = false;\n\t\t}\n\n\t\tprivate clearAllHighlights()\n\t\t{\n\t\t\tconst viewPoints = this.displayManager.getViewPoints();\n\t\t\tfor (const viewPoint of viewPoints)\n\t\t\t\tviewPoint.clearPointInformation();\n\t\t}\n\n\t\tmoveSparkline(param1: number)\n\t\t{\n\t\t\tconst sparklineViewPoint = this.displayManager.getSparklineViewPoint();\n\t\t\tsparklineViewPoint.moveSparklineBy_Handler(param1 * 10);\n\t\t\tsparklineViewPoint.commitSparklineOffset_Handler();\n\t\t\tthis.displayManager.topBorderLayer.update();\n\t\t}\n\n\t\tzoomButtonClicked(param1: string)\n\t\t{\n\t\t\tconst firstDataSource = this.displayManager.layersManager.getFirstDataSource();\n\t\t\tif (!firstDataSource || firstDataSource.isEmpty())\n\t\t\t\treturn;\n\n\t\t\tconst scaleIntervals = Const.SCALE_INTERVALS;\n\t\t\tlet index = scaleIntervals.length - 1;\n\t\t\twhile (index >= 0 && Message.getMsg(scaleIntervals[index].text) !== param1)\n\t\t\t\tindex--;\n\n\t\t\tif (index === -1)\n\t\t\t\treturn;\n\n\t\t\tMainManager.jsProxy.logZoomButtonClick(scaleIntervals[index].logtext);\n\t\t\tthis.animateToLevel(<ScaleTypes>index);\n\t\t}\n\n\t\tprivate addXOffset(controller: Controller, param2: number)\n\t\t{\n\t\t\tconst sparklineViewPoint = notnull(controller.displayManager.getSparklineViewPoint());\n\t\t\tif (sparklineViewPoint.sparklinePagingPossible(param2))\n\t\t\t{\n\t\t\t\tcontroller.cumulativeXOffset += param2;\n\t\t\t\tcontroller.moveListenersByOffsets();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcontroller.stopContinuousPaging();\n\t\t\t}\n\t\t}\n\n\t\tfindBestFitDetailLevel(viewPoint: ViewPoint, dataSource: DataSource | null): Intervals\n\t\t{\n\t\t\tif (!viewPoint || !dataSource)\n\t\t\t\treturn Intervals.INVALID;\n\n\t\t\tconst firstMinute = viewPoint.getFirstMinute();\n\t\t\tconst count = viewPoint.count;\n\t\t\tif (this.isFitDetailLevel(this.lastIntervalLevel, dataSource, firstMinute, count))\n\t\t\t\treturn this.lastIntervalLevel;\n\n\t\t\tfor (let intervalIndex = Intervals.INTRADAY; intervalIndex <= Intervals.WEEKLY; intervalIndex++)\n\t\t\t{\n\t\t\t\tif (this.isFitDetailLevel(intervalIndex, dataSource, firstMinute, count))\n\t\t\t\t\treturn intervalIndex;\n\t\t\t}\n\t\t\treturn Intervals.INVALID;\n\t\t}\n\n\t\tprivate drawSquare(x: number, param2: number, right: number, param4: number)\n\t\t{\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tgr.beginFill(Const.SELECTING_FILL_COLOR, 0.4);\n\t\t\tgr.lineStyle(0, Const.SELECTING_LINE_COLOR, 1);\n\t\t\tgr.drawRect(\n\t\t\t\tx, this.holderBounds.miny,\n\t\t\t\tright - x, this.holderBounds.maxy - this.holderBounds.miny);\n\t\t\t/*\n\t\t\tgr.moveTo(param1, this.holderBounds.miny);\n\t\t\tgr.lineTo(param1, this.holderBounds.maxy);\n\t\t\tgr.lineTo(param3, this.holderBounds.maxy);\n\t\t\tgr.lineTo(param3, this.holderBounds.miny);\n\t\t\t*/\n\t\t\tgr.endFill();\n\t\t}\n\n\t\treplaceBounds(remove: Bounds, add: Bounds)\n\t\t{\n\t\t\tconst boundsIndex = this.getBoundsIndex(remove);\n\t\t\tif (boundsIndex !== -1)\n\t\t\t\tthis.controlledAreaBounds.splice(boundsIndex, 1);\n\n\t\t\tthis.controlledAreaBounds.push(add);\n\t\t\tthis.computeHolderBounds();\n\t\t}\n\n\t\tprivate commitListenersOffset()\n\t\t{\n\t\t\tfor (const listener of this.listeners)\n\t\t\t\tlistener.commitOffset_Handler();\n\t\t}\n\n\t\tgetCustomScaleZoomLevel(dataSource: DataSource, startDate: Date, endDate: Date)\n\t\t{\n\t\t\tif (!startDate || !endDate || startDate >= endDate)\n\t\t\t\treturn null;\n\n\t\t\tconst units = dataSource.data.units;\n\t\t\tconst firstTimeIndex = DataSource.getTimeIndex(startDate.getTime(), units);\n\t\t\tconst lastTimeIndex = DataSource.getTimeIndex(endDate.getTime(), units);\n\t\t\tconst lastRelativeMinute = units[lastTimeIndex].relativeMinutes;\n\t\t\tconst firstRelativeMinute = units[firstTimeIndex].relativeMinutes;\n\t\t\treturn {\n\t\t\t\tlastMinute: lastRelativeMinute,\n\t\t\t\tcount: lastRelativeMinute - firstRelativeMinute\n\t\t\t};\n\t\t}\n\n\t\tsetMinDisplayDays(minDisplayDays: number)\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tif (!mainViewPoint)\n\t\t\t\treturn;\n\t\t\tconst firstMinute = mainViewPoint.getFirstMinute();\n\t\t\tconst lastMinute = mainViewPoint.getLastMinute();\n\t\t\tconst firstDataSource = this.mainManager.layersManager.getFirstDataSource();\n\t\t\tif (!firstDataSource)\n\t\t\t\treturn;\n\t\t\tconst endOfDayDataUnit = firstDataSource.getEndOfDayDataUnitFor(lastMinute);\n\t\t\tconst endOfDayMinute = endOfDayDataUnit.relativeMinutes;\n\t\t\tconst countForDays = this.getCountForDays(firstDataSource, minDisplayDays, endOfDayMinute);\n\t\t\tConst.MIN_DISPLAY_DAYS = minDisplayDays;\n\t\t\tif (countForDays > lastMinute - firstMinute)\n\t\t\t\tthis.animateTo(endOfDayMinute, countForDays);\n\t\t}\n\n\t\tprivate notifyListenersToMove(param1: number)\n\t\t{\n\t\t\tthis.changeListenersOffset(param1);\n\t\t\tthis.checkSparklinePositioning();\n\t\t\tthis.commitListenersOffset();\n\t\t\tthis.displayManager.showContextualStaticInfo();\n\t\t\tthis.displayManager.topBorderLayer.update();\n\t\t\tclearInterval(this.notifyHtmlIntervalId);\n\t\t\tthis.notifyHtmlIntervalId = setInterval(flash.display.Stage.bind(this.listenersNotifyHtml, this), Controller.NOTIFY_TIMEOUT);\n\t\t}\n\n\t\tprivate stopContinuousPaging()\n\t\t{\n\t\t\tclearInterval(this.intId);\n\t\t\tthis.pagingAmount = 0;\n\t\t}\n\n\t\tprivate enableZoomButtons()\n\t\t{\n\t\t\tif (this.contains(this.zoomButtons))\n\t\t\t\treturn;\n\n\t\t\tthis.addChild(this.zoomText);\n\t\t\tthis.addChild(this.zoomButtons);\n\t\t\tif (this.contains(this.intervalButtons))\n\t\t\t{\n\t\t\t\tthis.removeChild(this.intervalButtons);\n\t\t\t\tthis.removeChild(this.intervalText);\n\t\t\t}\n\t\t\tthis.clearCurrentInterval();\n\t\t}\n\n\t\tprivate pollingTimerHandler(timerEvent: flash.utils.TimerEvent)\n\t\t{\n\t\t\tconst firstDataSource = this.displayManager.layersManager.getFirstDataSource();\n\t\t\tif (!firstDataSource || firstDataSource.isEmpty())\n\t\t\t{\n\t\t\t\tthis.pollingTimer.stop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst minutes = firstDataSource.data.marketCloseMinute - firstDataSource.data.marketOpenMinute;\n\t\t\tconst newMarketState = this.getNewMarketState(this.isMarketOpen, this.stateRemainingMinutes, minutes);\n\t\t\tthis.isMarketOpen = newMarketState.isMarketOpen;\n\t\t\tthis.stateRemainingMinutes = newMarketState.stateRemainingMinutes;\n\t\t\tif (firstDataSource.data.hasPointsInIntervalArray(Const.INTRADAY_INTERVAL) && this.shouldRequestRegularMarketData(this.isMarketOpen, this.stateRemainingMinutes, this.delayedMinutes, minutes))\n\t\t\t{\n\t\t\t\tconst event = EventFactory.getEvent(ChartDetailTypes.GET_RT_DATA, firstDataSource.quoteName, ChartEventPriorities.POLLING);\n\t\t\t\tthis.mainManager.dataManager.eventHandler(event);\n\t\t\t}\n\t\t\tif (Boolean(MainManager.paramsObj.hasExtendedHours) && firstDataSource.afterHoursData.hasPointsInIntervalArray(Const.INTRADAY_INTERVAL) && this.shouldRequestAfterHoursData(this.isMarketOpen, this.stateRemainingMinutes, this.delayedMinutes, minutes))\n\t\t\t{\n\t\t\t\tconst event = EventFactory.getEvent(ChartDetailTypes.GET_RT_AH_DATA, firstDataSource.quoteName, ChartEventPriorities.POLLING);\n\t\t\t\tthis.mainManager.dataManager.eventHandler(event);\n\t\t\t}\n\t\t}\n\n\t\tupdateChartSizeChangeButtonPosition()\n\t\t{\n\t\t\tif (this.chartSizeChangeButton)\n\t\t\t\tthis.chartSizeChangeButton.x = this.mainManager.stage.stageWidth - this.chartSizeChangeButton.width - 5;\n\t\t}\n\n\t\ttoggleZoomIntervalButtons(param1: string, param2: string)\n\t\t{\n\t\t\tif (param1 === param2)\n\t\t\t\treturn;\n\n\t\t\tif (this.chartTypeButtons)\n\t\t\t\tthis.chartTypeButtons.selectButtonByIndex(Const.CHART_STYLE_NAMES.indexOf(param2));\n\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tif (param1 === Const.LINE_CHART)\n\t\t\t{\n\t\t\t\tconst firstDataSource = this.displayManager.layersManager.getFirstDataSource();\n\t\t\t\tif (firstDataSource && mainViewPoint.getFirstMinute() < firstDataSource.firstOpenRelativeMinutes)\n\t\t\t\t{\n\t\t\t\t\tthis.applyLastOrDefaultInterval(firstDataSource, mainViewPoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.displayManager.getDetailLevel() < Intervals.DAILY && Boolean(MainManager.paramsObj.displayExtendedHours))\n\t\t\t\t{\n\t\t\t\t\tthis.applyLastOrDefaultInterval(firstDataSource, mainViewPoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst dBestFitDetailLevel = this.findBestFitDetailLevel(mainViewPoint, firstDataSource);\n\t\t\t\tif (dBestFitDetailLevel === Intervals.INVALID)\n\t\t\t\t{\n\t\t\t\t\tthis.applyLastOrDefaultInterval(firstDataSource, mainViewPoint);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.enableIntervalButtons(dBestFitDetailLevel);\n\t\t\t\t\tthis.currentIntervalLevel = dBestFitDetailLevel;\n\t\t\t\t\tmainViewPoint.checkEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (param2 === Const.LINE_CHART)\n\t\t\t{\n\t\t\t\tthis.lastIntervalLevel = this.currentIntervalLevel;\n\t\t\t\tthis.lastCount = mainViewPoint.count;\n\t\t\t\tthis.lastLastMinutes = mainViewPoint.lastMinute;\n\t\t\t\tthis.enableZoomButtons();\n\t\t\t}\n\t\t}\n\n\t\taddBounds(bounds: Bounds)\n\t\t{\n\t\t\tthis.controlledAreaBounds.push(bounds);\n\t\t\tthis.holderBounds.append(bounds);\n\t\t}\n\n\t\tanimateToLevel(currentZoomLevel: ScaleTypes)\n\t\t{\n\t\t\tconst zoomLevelFinalState = this.getZoomLevelFinalState(currentZoomLevel);\n\t\t\tif (zoomLevelFinalState)\n\t\t\t{\n\t\t\t\tthis.currentZoomLevel = currentZoomLevel;\n\t\t\t\tthis.animateTo(zoomLevelFinalState.lastMinute, zoomLevelFinalState.count);\n\t\t\t}\n\t\t}\n\n\t\tprivate createZoomButtons()\n\t\t{\n\t\t\tthis.zoomText = new flash.text.TextField();\n\t\t\tthis.zoomText.x = !this.chartTypeButtons ? 5 : this.chartTypeButtons.x + this.chartTypeButtons.width + 5;\n\t\t\tthis.zoomText.y = 5;\n\t\t\tthis.zoomText.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.zoomText.defaultTextFormat = this.windowTitleTextFormat;\n\t\t\tthis.zoomText.text = Message.getMsg(Messages.ZOOM) + ':';\n\t\t\tthis.zoomText.selectable = false;\n\t\t\tthis.zoomButtons = new ui.TextButtonsGroup();\n\t\t\tthis.zoomButtons.setSpacing(\"\", this.isZh ? 1 : 3);\n\t\t\tthis.zoomButtons.setTextFormats(this.buttonTextFormat, this.selectedTextFormat, this.separatorTextFormat);\n\t\t\tthis.zoomButtons.x = this.zoomText.x + this.zoomText.width + this.zoomButtons.spacing;\n\t\t\tthis.zoomButtons.y = this.zoomText.y;\n\t\t\tthis.resetZoomButtons(Const.MIN_DISPLAY_DAYS);\n\t\t}\n\n\t\tprivate onKeyDown(keyboardEvent: KeyboardEvent)\n\t\t{\n\t\t\tthis.CTRL_DOWN = keyboardEvent.ctrlKey;\n\t\t\tthis.SHIFT_DOWN = keyboardEvent.shiftKey;\n\t\t\tif (keyboardEvent.charCode === \"vVeElLcC\".charCodeAt(0))\n\t\t\t\tMainManager.jsProxy.setParameter(\"displayVolume\", \"false\");\n\t\t\telse if (keyboardEvent.charCode === \"vVeElLcC\".charCodeAt(1))\n\t\t\t\tMainManager.jsProxy.setParameter(\"displayVolume\", \"true\");\n\t\t\telse if (keyboardEvent.charCode === \"vVeElLcC\".charCodeAt(2))\n\t\t\t\tMainManager.jsProxy.setParameter(\"displayExtendedHours\", \"true\");\n\t\t\telse if (keyboardEvent.charCode === \"vVeElLcC\".charCodeAt(3))\n\t\t\t\tMainManager.jsProxy.setParameter(\"displayExtendedHours\", \"false\");\n\t\t\telse if (keyboardEvent.charCode === \"vVeElLcC\".charCodeAt(4))\n\t\t\t\tMainManager.jsProxy.setParameter(\"verticalScaling\", \"Logarithmic\");\n\t\t\telse if (keyboardEvent.charCode === \"vVeElLcC\".charCodeAt(5))\n\t\t\t\tMainManager.jsProxy.setParameter(\"verticalScaling\", \"Linear\");\n\t\t\telse if (keyboardEvent.keyCode === 38)\n\t\t\t\tthis.zoomStuff(Directions.FORWARD, 0, 1);\n\t\t\telse if (keyboardEvent.keyCode === 40)\n\t\t\t\tthis.zoomStuff(Directions.BACKWARD, 0, 1);\n\t\t}\n\n\t\tisFitDetailLevel(detailLevel: Intervals, dataSource: DataSource, param3: number, param4: number): boolean\n\t\t{\n\t\t\tif (!(detailLevel >= Intervals.INTRADAY && detailLevel <= Intervals.WEEKLY))\n\t\t\t\treturn false;\n\n\t\t\tconst interval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst points = dataSource.data.getPointsInIntervalArray(interval);\n\t\t\tconst _loc7_ = dataSource.data.marketDayLength + 1;\n\t\t\treturn points && points.length > 0 && points[0].relativeMinutes <= param3 && param4 <= Const.INTERVAL_PERIODS[detailLevel].maxdays * _loc7_ && param4 >= Const.INTERVAL_PERIODS[detailLevel].mindays * _loc7_;\n\t\t}\n\n\t\tonMouseDown(mouseEvent: MouseEvent)\n\t\t{\n\t\t\tMainManager.jsProxy.setChartFocus(true);\n\t\t\tthis.SHIFT_DOWN = mouseEvent.shiftKey;\n\t\t\tthis.CTRL_DOWN = mouseEvent.ctrlKey;\n\t\t\tif (!this.displayManager.spaceText.isDateFieldClicked(mouseEvent))\n\t\t\t\tthis.displayManager.spaceText.resetInfoText();\n\n\t\t\tthis.mouseDownAction();\n\t\t}\n\n\t\tprivate onKeyUp(keyboardEvent: KeyboardEvent)\n\t\t{\n\t\t\tthis.CTRL_DOWN = keyboardEvent.ctrlKey;\n\t\t\tthis.SHIFT_DOWN = keyboardEvent.shiftKey;\n\t\t\tclearInterval(this.intId);\n\t\t}\n\n\t\tremoveAllBounds()\n\t\t{\n\t\t\tthis.controlledAreaBounds.splice(0);\n\t\t\tthis.computeHolderBounds();\n\t\t}\n\n\t\tshouldRequestRegularMarketData(param1: boolean, param2: number, param3: number, param4: number): boolean\n\t\t{\n\t\t\tif (param1)\n\t\t\t\treturn true;\n\n\t\t\tif (param2 <= Const.REALTIME_CHART_POLLING_MARGIN || param2 >= Const.MIN_PER_DAY - param4 - param3 - Const.REALTIME_CHART_POLLING_MARGIN)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t}\n\n\t\tanimateToCustomLevel(startDate: Date, endDate: Date)\n\t\t{\n\t\t\tthis.customZoomStartDate = startDate;\n\t\t\tthis.customZoomEndDate = endDate;\n\t\t\tthis.animateToLevel(ScaleTypes.SCALE_CUSTOM);\n\t\t}\n\n\t\tintervalButtonClicked(param1: string)\n\t\t{\n\t\t\tconst firstDataSource = this.displayManager.layersManager.getFirstDataSource();\n\t\t\tif (!firstDataSource || firstDataSource.isEmpty())\n\t\t\t\treturn;\n\n\t\t\tconst intervalPeriods = Const.INTERVAL_PERIODS;\n\t\t\tlet intervalIndex = <Intervals>(intervalPeriods.length - 1);\n\t\t\twhile (intervalIndex !== Intervals.INVALID && Message.getMsg(intervalPeriods[intervalIndex].text) !== param1)\n\t\t\t\tintervalIndex--;\n\n\t\t\tif (intervalIndex === Intervals.INVALID)\n\t\t\t\treturn;\n\n\t\t\tMainManager.jsProxy.logIntervalButtonClick(intervalPeriods[intervalIndex].logtext);\n\t\t\tthis.currentIntervalLevel = intervalIndex;\n\t\t\tif (Boolean(MainManager.paramsObj.displayExtendedHours))\n\t\t\t{\n\t\t\t\tif (this.currentIntervalLevel === Intervals.INTRADAY)\n\t\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(true);\n\t\t\t\telse\n\t\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(false);\n\t\t\t}\n\t\t\tthis.animateTo(0, intervalPeriods[intervalIndex].days * (firstDataSource.data.marketDayLength + 1), 1);\n\t\t\tMainManager.jsProxy.setJsCurrentViewParam(\"defaultDisplayInterval\", Const.getDetailLevelInterval(intervalIndex));\n\t\t}\n\n\t\tprivate highlightPoints()\n\t\t{\n\t\t\tconst pointInfo = {};\n\t\t\tconst viewPoints = this.displayManager.getViewPoints();\n\n\t\t\tfor (const viewPoint of viewPoints)\n\t\t\t\tviewPoint.highlightPoint(this.mouseX, pointInfo);\n\n\t\t\treturn pointInfo;\n\t\t}\n\n\t\tgetState(): ControllerStates\n\t\t{\n\t\t\treturn this.state;\n\t\t}\n\n\t\tprivate getZoomLevelFinalState(scaleIntervalIndex: ScaleTypes): ViewPointState | null\n\t\t{\n\t\t\tlet count = NaN;\n\t\t\tconst sparklineViewPoint = this.displayManager.getSparklineViewPoint();\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tconst layersManager = this.mainManager.layersManager;\n\t\t\tconst firstDataSource = layersManager.getFirstDataSource();\n\t\t\tif (!firstDataSource)\n\t\t\t\treturn null;\n\n\t\t\tconst scaleIntervals = Const.SCALE_INTERVALS;\n\t\t\tlet lastMinute = sparklineViewPoint.getLastMinute();\n\t\t\tif (scaleIntervalIndex === ScaleTypes.SCALE_CUSTOM)\n\t\t\t{\n\t\t\t\tconst customScaleZoomLevel = this.getCustomScaleZoomLevel(firstDataSource, this.customZoomStartDate, this.customZoomEndDate);\n\t\t\t\tif (!customScaleZoomLevel)\n\t\t\t\t\treturn null;\n\n\t\t\t\tlastMinute = customScaleZoomLevel.lastMinute;\n\t\t\t\tcount = customScaleZoomLevel.count;\n\t\t\t}\n\t\t\telse if (scaleIntervalIndex === ScaleTypes.SCALE_YTD)\n\t\t\t{\n\t\t\t\tconst date = new Date(firstDataSource.data.units[firstDataSource.data.units.length - 1].time);\n\t\t\t\tdate.setMonth(0);\n\t\t\t\tdate.setDate(1);\n\t\t\t\tconst units = firstDataSource.data.units;\n\t\t\t\tlastMinute = 0;\n\t\t\t\tcount = lastMinute - units[DataSource.getTimeIndex(date.getTime(), units)].relativeMinutes;\n\t\t\t}\n\t\t\telse if (scaleIntervalIndex === ScaleTypes.SCALE_MAX)\n\t\t\t{\n\t\t\t\tlastMinute = mainViewPoint.getNewestMinute();\n\t\t\t\tcount = Math.abs(mainViewPoint.getOldestBaseMinute());\n\t\t\t}\n\t\t\telse if (scaleIntervalIndex !== ScaleTypes.INVALID && scaleIntervalIndex <= ScaleTypes.SCALE_1M)\n\t\t\t{\n\t\t\t\tconst date = new Date(sparklineViewPoint.getLastDataUnit().time);\n\t\t\t\tdate.setMonth(date.getMonth() - scaleIntervals[scaleIntervalIndex].months);\n\t\t\t\tconst units = firstDataSource.data.units;\n\t\t\t\tconst timeIndex = DataSource.getTimeIndex(date.getTime(), units);\n\t\t\t\tcount = sparklineViewPoint.getLastMinute() - units[timeIndex].relativeMinutes;\n\t\t\t}\n\t\t\telse if (scaleIntervalIndex >= 0 && scaleIntervalIndex < scaleIntervals.length)\n\t\t\t{\n\t\t\t\tlastMinute = firstDataSource.getEndOfDayDataUnitFor(mainViewPoint.getLastMinute()).relativeMinutes;\n\t\t\t\tcount = this.getCountForDays(firstDataSource, scaleIntervals[scaleIntervalIndex].days, lastMinute);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst style = this.displayManager.layersManager.getStyle();\n\t\t\tif (style === LayersManager.SINGLE && Boolean(MainManager.paramsObj.displayExtendedHours))\n\t\t\t{\n\t\t\t\tlet startInterval: Intervals;\n\t\t\t\tlet endInterval: Intervals;\n\n\t\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t\t{\n\t\t\t\t\tstartInterval = mainViewPoint.getDetailLevelForTechnicalStyle();\n\t\t\t\t\tendInterval = mainViewPoint.getDetailLevelForTechnicalStyle(count, lastMinute);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstartInterval = mainViewPoint.getDetailLevel();\n\t\t\t\t\tendInterval = mainViewPoint.getDetailLevel(count, lastMinute);\n\t\t\t\t}\n\t\t\t\tcount = this.adjustCountForAfterHours(count, firstDataSource, startInterval, endInterval);\n\t\t\t}\n\t\t\tif (isNaN(count) || isNaN(lastMinute))\n\t\t\t\treturn null;\n\n\t\t\treturn { lastMinute, count };\n\t\t}\n\n\t\tzoomStuff(direction: Directions, param2: number, param3: number = NaN)\n\t\t{\n\t\t\tthis.clearCurrentZoom();\n\n\t\t\tfor (const listener of this.listeners)\n\t\t\t\tlistener.zoomChart_Handler(direction, param3);\n\n\t\t\tthis.displayManager.topBorderLayer.update();\n\t\t\tthis.displayManager.showContextualStaticInfo();\n\t\t}\n\n\t\tprivate getBoundsIndex(bounds: Bounds): number\n\t\t{\n\t\t\tfor (let boundsIndex = 0; boundsIndex < this.controlledAreaBounds.length; boundsIndex++)\n\t\t\t{\n\t\t\t\tif (bounds.equals(this.controlledAreaBounds[boundsIndex]))\n\t\t\t\t\treturn boundsIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tprivate changeListenersOffset(param1: number)\n\t\t{\n\t\t\tfor (const listener of this.listeners)\n\t\t\t\tlistener.moveChartBy_Handler(param1);\n\t\t}\n\n\t\tgetNewMarketState(param1: boolean, param2: number, minutes: number)\n\t\t{\n\t\t\tif (param2 === 0)\n\t\t\t{\n\t\t\t\tparam1 = !param1;\n\t\t\t\tparam2 = param1 ? minutes : Const.MIN_PER_DAY - minutes;\n\t\t\t}\n\t\t\tparam2 -= Const.REALTIME_CHART_POLLING_INTERVAL / Const.MS_PER_MINUTE;\n\t\t\treturn {\n\t\t\t\tisMarketOpen: param1,\n\t\t\t\tstateRemainingMinutes: param2\n\t\t\t};\n\t\t}\n\n\t\tinitEventListeners()\n\t\t{\n\t\t\tif (!this.stage)\n\t\t\t\treturn;\n\n\t\t\tconst stage = this.stage;\n\t\t\t//var stage = document.body;\n\n\t\t\tstage.addEventListener(KeyboardEvents.KEY_DOWN, flash.display.Stage.bind(this.onKeyDown, this));\n\t\t\tstage.addEventListener(KeyboardEvents.KEY_UP, flash.display.Stage.bind(this.onKeyUp, this));\n\t\t\tstage.addEventListener(MouseEvents.MOUSE_MOVE, flash.display.Stage.bind(this.onMouseMove, this));\n\t\t\tstage.addEventListener(MouseEvents.MOUSE_LEAVE, flash.display.Stage.bind(this.onMouseLeave, this));\n\t\t\tstage.addEventListener(MouseEvents.MOUSE_DOWN, flash.display.Stage.bind(this.onMouseDown, this));\n\t\t\tstage.addEventListener(MouseEvents.MOUSE_UP, flash.display.Stage.bind(this.onMouseUp, this));\n\t\t\tthis.initPollingTimer();\n\t\t}\n\n\t\tenableIntervalButtons(detailLevel: Intervals)\n\t\t{\n\t\t\tif (this.contains(this.intervalButtons))\n\t\t\t\treturn;\n\n\t\t\tthis.addChild(this.intervalText);\n\t\t\tthis.addChild(this.intervalButtons);\n\t\t\tthis.intervalButtons.selectButtonByIndex(<number>detailLevel);\n\t\t\tif (this.contains(this.zoomButtons))\n\t\t\t{\n\t\t\t\tthis.removeChild(this.zoomButtons);\n\t\t\t\tthis.removeChild(this.zoomText);\n\t\t\t}\n\t\t\tthis.clearCurrentZoom();\n\t\t}\n\n\t\tmouseDownAction(controllerComponent: ControllerComponents = <ControllerComponents>NaN)\n\t\t{\n\t\t\tconst sparklineViewPoint = this.displayManager.getSparklineViewPoint();\n\t\t\tthis.initialXMouse = this.stage.mouseX;\n\t\t\tthis.initialYMouse = this.stage.mouseY;\n\t\t\tswitch (controllerComponent)\n\t\t\t{\n\t\t\t\tcase ControllerComponents.SCROLL_BAR:\n\t\t\t\t\tthis.state = ControllerStates.SCROLLING;\n\t\t\t\t\tthis.cumulativeXOffset = 0;\n\t\t\t\t\tthis.pagingAmount = 0;\n\t\t\t\t\tconst leftX = sparklineViewPoint.windowLayer.getLeftX();\n\t\t\t\t\tconst rightX = sparklineViewPoint.windowLayer.getRightX();\n\t\t\t\t\tthis.scrollMouseMinX = sparklineViewPoint.minx + this.initialXMouse - leftX;\n\t\t\t\t\tthis.scrollMouseMaxX = sparklineViewPoint.maxx - (rightX - this.initialXMouse);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerComponents.SCROLL_BG:\n\t\t\t\t\tconst scrollSlider = sparklineViewPoint.windowLayer.scrollSlider;\n\t\t\t\t\tif (this.mouseX < scrollSlider.x)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.movePage(Directions.BACKWARD);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.mouseX > scrollSlider.x + scrollSlider.width)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.movePage(Directions.FORWARD);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerComponents.LEFT_BUTTON:\n\t\t\t\t\tthis.state = ControllerStates.PRESSING_LEFT;\n\t\t\t\t\tclearInterval(this.intId);\n\t\t\t\t\tthis.intId = setInterval(() => { this.notifyListenersToMove(Directions.BACKWARD * this.BUTTON_MOVEBY_AMOUNT); }, 20);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerComponents.RIGHT_BUTTON:\n\t\t\t\t\tthis.state = ControllerStates.PRESSING_RIGHT;\n\t\t\t\t\tclearInterval(this.intId);\n\t\t\t\t\tthis.intId = setInterval(() => { this.notifyListenersToMove(Directions.FORWARD * this.BUTTON_MOVEBY_AMOUNT); }, 20);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ControllerComponents.LEFT_HANDLE:\n\t\t\t\t\tthis.state = ControllerStates.DRAGGING_LEFT_HANDLE;\n\t\t\t\t\tthis.MOUSE_DOWN = true;\n\t\t\t\t\tthis.mouseCursor.setCursor(MouseCursors.H_ARROWS);\n\t\t\t\t\treturn;\n\t\t\t\tcase ControllerComponents.RIGHT_HANDLE:\n\t\t\t\t\tthis.state = ControllerStates.DRAGGING_RIGHT_HANDLE;\n\t\t\t\t\tthis.MOUSE_DOWN = true;\n\t\t\t\t\tthis.mouseCursor.setCursor(MouseCursors.H_ARROWS);\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.hitTestInsideBounds(this.mouseX, this.mouseY))\n\t\t\t\treturn;\n\n\t\t\tthis.MOUSE_DOWN = true;\n\t\t\tthis.clearAllHighlights();\n\t\t\tif (this.CTRL_DOWN && this.SHIFT_DOWN)\n\t\t\t{\n\t\t\t\tthis.state = ControllerStates.ZOOMING_OUT;\n\t\t\t\tclearInterval(this.intId);\n\t\t\t\tthis.intId = setInterval(() => { this.zoomStuff(Directions.BACKWARD, this.stage.mouseX); }, 20);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.SHIFT_DOWN)\n\t\t\t{\n\t\t\t\tthis.state = ControllerStates.SELECTING;\n\t\t\t\tthis.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.mouseCursor.setCursor(MouseCursors.CLOSED_HAND);\n\t\t\tthis.state = ControllerStates.DRAGGING;\n\t\t}\n\t}\n}\n","namespace flash.display\n{\n\texport class BitmapData\n\t{\n\t\twidth: number;\n\t\theight: number;\n\t}\n\n\texport class Bitmap extends DisplayObject\n\t{\n\t\tprotected _width: number;\n\t\tprotected _height: number;\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(document.createElement(\"img\"));\n\t\t\t(<HTMLImageElement>this.element).onload = () =>\n\t\t\t{\n\t\t\t\tif (!this.element.style.width)\n\t\t\t\t\tthis.element.style.width = (<HTMLImageElement>this.element).naturalWidth + \"px\";\n\t\t\t\tif (!this.element.style.height)\n\t\t\t\t\tthis.element.style.height = (<HTMLImageElement>this.element).naturalHeight + \"px\";\n\t\t\t};\n\t\t\t//console.log(getClassName(this) + \".png\");\n\t\t\t(<HTMLImageElement>this.element).src = \"images/\" + getClassName(this) + \".png\";\n\t\t}\n\n\t\tget width() { return this._width || this.element.scrollWidth; }\n\t\tset width(value: number) { this.element.style.width = value + \"px\"; }\n\n\t\tget height() { return this._height || this.element.scrollHeight; }\n\t\tset height(value: number) { this.element.style.height = value + \"px\"; }\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class Controller_ExpandIcon extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class Controller_ShrinkIcon extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\texport class DataManager\n\t{\n\t\t//private intId: number;\n\n\t\treadonly dataSources: Map<DataSource> = {};\n\n\t\tconstructor(public readonly mainManager: MainManager, private startTime = NaN, private endTime = NaN)\n\t\t{\n\t\t}\n\n\t\taddObject(object: any)\n\t\t{\n\t\t\tif (this.dataSources[object._quote])\n\t\t\t\tthis.dataSources[object._quote].addObject(object);\n\t\t}\n\n\t\texpectEvent(chartEvent: ChartEvent | null)\n\t\t{\n\t\t\tif (!chartEvent)\n\t\t\t\treturn;\n\t\t\tthis.checkDataSourceExistance(chartEvent.quote);\n\t\t\tthis.dataSources[chartEvent.quote].markEvent(chartEvent, ChartEventPriorities.EXPECTED);\n\t\t}\n\n\t\tsyncDataSources(dataSource: DataSource, displayManager: DisplayManager)\n\t\t{\n\t\t\tconst otherDataSources: DataSource[] = [];\n\t\t\tfor (const dataSourceName of Object.keys(this.dataSources))\n\t\t\t{\n\t\t\t\tconst hasPendingEvents = this.dataSources[dataSourceName].hasPendingEvents();\n\t\t\t\tif (dataSourceName !== dataSource.quoteName && !hasPendingEvents)\n\t\t\t\t\totherDataSources.push(this.dataSources[dataSourceName]);\n\t\t\t}\n\t\t\tif (otherDataSources.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst data = dataSource.data;\n\t\t\tconst otherData = otherDataSources[0].data;\n\t\t\tlet numDays = data.days.length - 1;\n\t\t\tlet numOtherDays = otherData.days.length - 1;\n\t\t\tlet _loc11_ = false;\n\t\t\tlet _loc12_ = false;\n\t\t\twhile (numDays > 0 && numOtherDays > 0)\n\t\t\t{\n\t\t\t\tconst unit = data.units[data.days[numDays]];\n\t\t\t\tconst otherUnits = otherData.units[otherData.days[numOtherDays]];\n\t\t\t\tconst _loc16_ = Utils.compareUtcDates(unit.exchangeDateInUTC, otherUnits.exchangeDateInUTC);\n\t\t\t\tif (_loc16_ < 0)\n\t\t\t\t{\n\t\t\t\t\tconst _loc3_ = this.cloneDataUnitForTargetExchange(otherUnits, unit, Const.DAILY_INTERVAL);\n\t\t\t\t\tdata.units.splice(data.days[numDays] + 1, 0, _loc3_);\n\t\t\t\t\tnumOtherDays--;\n\t\t\t\t\t_loc12_ = true;\n\t\t\t\t}\n\t\t\t\telse if (_loc16_ > 0)\n\t\t\t\t{\n\t\t\t\t\tfor (const otherDataSource of otherDataSources)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst data2 = otherDataSource.data;\n\t\t\t\t\t\tif (data2.days.length > otherData.days.length - numOtherDays)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst day = data2.days[data2.days.length - (otherData.days.length - numOtherDays)];\n\t\t\t\t\t\t\tconst _loc3_ = this.cloneDataUnitForTargetExchange(unit, data2.units[day], Const.DAILY_INTERVAL);\n\t\t\t\t\t\t\tdata2.units.splice(day + 1, 0, _loc3_);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t_loc11_ = true;\n\t\t\t\t\tnumDays--;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tnumDays--;\n\t\t\t\t\tnumOtherDays--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (_loc12_)\n\t\t\t{\n\t\t\t\tdataSource.preCalculate(dataSource.data);\n\t\t\t\tdisplayManager.computeRelativeTimes(dataSource);\n\t\t\t}\n\t\t\tif (_loc11_)\n\t\t\t{\n\t\t\t\tfor (const otherDataSource of otherDataSources)\n\t\t\t\t{\n\t\t\t\t\totherDataSource.preCalculate(otherDataSource.data);\n\t\t\t\t\tdisplayManager.computeRelativeTimes(otherDataSource);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsortObjects(ticker: string, param2: string)\n\t\t{\n\t\t\tif (this.dataSources[ticker])\n\t\t\t\tthis.dataSources[ticker].sortObjects(param2);\n\t\t}\n\n\t\teventHandler(chartEvent: ChartEvent | null, param2 = true)\n\t\t{\n\t\t\tif (!chartEvent)\n\t\t\t\treturn;\n\n\t\t\tthis.checkDataSourceExistance(chartEvent.quote);\n\t\t\tif (chartEvent.type !== ChartEventTypes.GET_RT_DATA && chartEvent.type !== ChartEventTypes.GET_RT_AH_DATA && this.dataSources[chartEvent.quote].markEvent(chartEvent, chartEvent.priority) === false)\n\t\t\t\treturn;\n\n\t\t\tswitch (chartEvent.type)\n\t\t\t{\n\t\t\t\tcase ChartEventTypes.GET_DATA:\n\t\t\t\tcase ChartEventTypes.GET_AH_DATA:\n\t\t\t\tcase ChartEventTypes.GET_MUTF_DATA:\n\t\t\t\tcase ChartEventTypes.GET_RT_DATA:\n\t\t\t\tcase ChartEventTypes.GET_RT_AH_DATA:\n\t\t\t\t\tthis.getQuoteData(this.mainManager.url, this.mainManager.stickyArgs, chartEvent, param2);\n\t\t\t}\n\t\t}\n\n\t\tselectObject(ticker: string, param2: string, param3: number, param4?: string)\n\t\t{\n\t\t\treturn this.dataSources[ticker].selectObject(param2, param3, param4);\n\t\t}\n\n\t\tprivate getQuoteData(param1: string, param2: string, chartEvent: ChartEvent, param4: boolean)\n\t\t{\n\t\t\tconst quoteSymbol = Utils.getSymbolFromTicker(chartEvent.quote);\n\t\t\tif (MainManager.paramsObj[quoteSymbol + \"_data_\" + chartEvent.period] === \"javascript\")\n\t\t\t{\n\t\t\t\tMainManager.jsProxy.getData(chartEvent.quote, chartEvent.period);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!(Const.INDICATOR_ENABLED && param4))\n\t\t\t{\n\t\t\t\tif (MainManager.paramsObj[quoteSymbol + \"_data_\" + chartEvent.period] !== undefined && chartEvent.type !== ChartEventTypes.GET_AH_DATA)\n\t\t\t\t{\n\t\t\t\t\tthis.addData(chartEvent, decodeURIComponent(MainManager.paramsObj[quoteSymbol + \"_data_\" + chartEvent.period]));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (MainManager.paramsObj[quoteSymbol + \"_data_ah\"] !== undefined && chartEvent.type === ChartEventTypes.GET_AH_DATA)\n\t\t\t\t{\n\t\t\t\t\tthis.addData(chartEvent, decodeURIComponent(MainManager.paramsObj[quoteSymbol + \"_data_ah\"]));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst urlString = this.getUrlString(param1, param2, chartEvent);\n\t\t\t/*const _loc7_ =*/ new DataRequestHandler(this, urlString, chartEvent);\n\t\t}\n\n\t\tclearAllObjects(ticker: string, param2: string)\n\t\t{\n\t\t\tthis.dataSources[ticker].clearAllObjects(param2);\n\t\t}\n\n\t\tremoveObject(ticker: string, id: number, objectType: string)\n\t\t{\n\t\t\t// TODO: is param2 always a number?\n\t\t\tthis.dataSources[ticker].removeObject(objectType, id);\n\t\t}\n\n\t\tprivate hasDataSource(ticker: string): boolean\n\t\t{\n\t\t\treturn !!this.dataSources[ticker];\n\t\t}\n\n\t\taddData(chartEvent: ChartEvent, param2: string)\n\t\t{\n\t\t\tconst result = this.dataSources[chartEvent.quote].addStream(param2, chartEvent);\n\t\t\tthis.mainManager.dataIsHere(this.dataSources[chartEvent.quote], result);\n\t\t}\n\n\t\tdataUnavailableOnServer(ticker: string): boolean\n\t\t{\n\t\t\tconst dataSource = this.dataSources[ticker];\n\t\t\tif (!dataSource)\n\t\t\t\treturn false;\n\t\t\treturn dataSource.dataUnavailableOnServer;\n\t\t}\n\n\t\tprivate getUrlString(param1: string, param2: string, chartEvent: ChartEvent): string\n\t\t{\n\t\t\tlet symbolFromTicker = Utils.getSymbolFromTicker(chartEvent.quote);\n\t\t\tlet exchangeFromTicker = Utils.getExchangeFromTicker(chartEvent.quote);\n\t\t\tlet _loc6_ = \"\";\n\t\t\tif (symbolFromTicker.indexOf('@') !== -1)\n\t\t\t{\n\t\t\t\tconst _loc8_ = symbolFromTicker.split('@');\n\t\t\t\tsymbolFromTicker = _loc8_[0];\n\t\t\t\t_loc6_ = _loc8_[1];\n\t\t\t}\n\t\t\texchangeFromTicker = exchangeFromTicker === \"NASDAQ\" ? \"NASD\" : exchangeFromTicker;\n\t\t\tlet urlString = \"\";\n\t\t\tif (_loc6_ === \"\")\n\t\t\t{\n\t\t\t\turlString = param1 + '?' + \"q=\" + symbolFromTicker;\n\t\t\t\tif (exchangeFromTicker !== \"\")\n\t\t\t\t\turlString += \"&x=\" + exchangeFromTicker;\n\n\t\t\t\turlString += \"&i=\" + chartEvent.interval;\n\t\t\t\tif (chartEvent.type === ChartEventTypes.GET_AH_DATA || chartEvent.type === ChartEventTypes.GET_RT_AH_DATA)\n\t\t\t\t\turlString += \"&sessions=ext_hours\";\n\n\t\t\t\tif (!isNaN(this.startTime) && !isNaN(this.endTime))\n\t\t\t\t\turlString += \"&se=\" + this.startTime + \"&ee=\" + this.endTime;\n\t\t\t\telse\n\t\t\t\t\turlString += \"&p=\" + chartEvent.period;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\turlString = param1.substr(0, param1.indexOf(\"getprices\")) + \"gettechnicals\";\n\t\t\t\turlString += \"?symbol=\" + symbolFromTicker;\n\t\t\t\turlString += \"&technicals=\" + _loc6_;\n\t\t\t\tif (exchangeFromTicker !== \"\")\n\t\t\t\t\turlString += \"&exchange=\" + exchangeFromTicker;\n\n\t\t\t\turlString += \"&interval=\" + chartEvent.interval + \"&period=\" + chartEvent.period;\n\t\t\t}\n\t\t\turlString += \"&f=\" + chartEvent.columns + \"&df=cpct\";\n\t\t\turlString += \"&auto=1\";\n\t\t\turlString += \"&ts=\" + new Date().getTime();\n\t\t\turlString += param2;\n\t\t\treturn urlString;\n\t\t}\n\n\t\tcloneDataUnitForTargetExchange(dataUnit1: DataUnit, dataUnit2: DataUnit, param3: number): DataUnit\n\t\t{\n\t\t\tconst dataUnit = new DataUnit(dataUnit2.close, NaN, NaN, NaN);\t// TODO\n\t\t\tconst time = Date.UTC(dataUnit1.exchangeDateInUTC.fullYearUTC, dataUnit1.exchangeDateInUTC.monthUTC, dataUnit1.exchangeDateInUTC.dateUTC, dataUnit2.dayMinute / 60, dataUnit2.dayMinute % 60);\n\t\t\tdataUnit.setExchangeDateInUTC(time, dataUnit2.timezoneOffset);\n\t\t\tdataUnit.coveredDays = dataUnit1.coveredDays;\n\t\t\tdataUnit.volumes[param3] = 0;\n\t\t\tdataUnit.intervals[0] = param3;\n\t\t\treturn dataUnit;\n\t\t}\n\n\t\tcheckDataSourceExistance(ticker: string, displayName?: string)\n\t\t{\n\t\t\tif (!this.hasDataSource(ticker))\n\t\t\t{\n\t\t\t\tconst _loc3_ = this.mainManager ? this.mainManager.weekdayBitmap : Const.DEFAULT_WEEKDAY_BITMAP;\n\t\t\t\tthis.dataSources[ticker] = new DataSource(ticker, _loc3_, displayName);\n\t\t\t}\n\t\t\telse if (!this.dataSources[ticker].displayName && displayName)\n\t\t\t{\n\t\t\t\tthis.dataSources[ticker].displayName = displayName;\n\t\t\t}\n\t\t}\n\n\t\thasNonEmptyDataSource(ticker: string): boolean\n\t\t{\n\t\t\treturn this.dataSources[ticker] && !this.dataSources[ticker].isEmpty();\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.net.URLLoader;\n\t// import flash.events.IOErrorEvent;\n\t// import flash.events.Event;\n\t// import flash.utils.clearInterval;\n\t// import flash.net.URLRequest;\n\t// import flash.utils.setInterval;\n\t// import flash.events.SecurityErrorEvent;\n\n\texport class DataRequestHandler\n\t{\n\t\tprivate intervalId: number;\n\t\tprivate readonly urlLoader = new flash.net.URLLoader();\n\t\tprivate tries: number = 0;\n\n\t\tconstructor(private readonly dataManager: DataManager, private readonly url: string, private readonly event: ChartEvent)\n\t\t{\n\t\t\tthis.initListeners();\n\t\t\tif (url)\n\t\t\t{\n\t\t\t\tMainManager.console.dataLoading();\n\t\t\t\tthis.urlLoader.load(new flash.net.URLRequest(/*\"https://finance.google.com\" +*/ url));\n\t\t\t}\n\t\t}\n\n\t\tprivate ioErrorHandler(event: Event)\n\t\t{\n\t\t\tthis.setUpDataReload();\n\t\t\tconsole.log(\"ioErrorHandler: \" + event);\n\t\t}\n\n\t\tprivate securityErrorHandler(event: Event)\n\t\t{\n\t\t\tthis.setUpDataReload();\n\t\t\tconsole.log(\"security error: \" + event);\n\t\t}\n\n\t\tprivate dataReload()\n\t\t{\n\t\t\tif (this.tries === 0)\n\t\t\t\tMainManager.console.dataLoading();\n\n\t\t\tclearInterval(this.intervalId);\n\t\t\tthis.urlLoader.load(new flash.net.URLRequest(this.url));\n\t\t}\n\n\t\tprotected configReloadInterval(fn: () => void, timeout: number)\n\t\t{\n\t\t\tthis.intervalId = setInterval(fn, timeout);\n\t\t}\n\n\t\tprivate completeHandler(event: Event)\n\t\t{\n\t\t\t//const _loc2_ = this.event.target as flash.net.URLLoader;\n\t\t\tclearInterval(this.intervalId);\n\t\t\tconst dataSources = this.dataManager.dataSources;\n\t\t\tconst result = dataSources[this.event.quote].addStream(decodeURIComponent(this.urlLoader.data), this.event);\n\t\t\tswitch (result)\n\t\t\t{\n\t\t\t\tcase AddStreamResults.ERROR:\n\t\t\t\t\tthis.setUpDataReload();\n\t\t\t\t\tbreak;\n\t\t\t\tcase AddStreamResults.NOTHING:\n\t\t\t\t\tMainManager.console.dataLoaded();\n\t\t\t\t\tdataSources[this.event.quote].dataUnavailableOnServer = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase AddStreamResults.FIRST_DATA:\n\t\t\t\tcase AddStreamResults.ADDED_DATA:\n\t\t\t\t\tMainManager.console.dataLoaded();\n\t\t\t\t\tthis.dataManager.mainManager.dataIsHere(dataSources[this.event.quote], result);\n\t\t\t\t\tif (this.event.callbacks)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (const callback of this.event.callbacks)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcallback.func.apply(this, callback.param);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tflash.display.Graphics.cleanupPending();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tprivate initListeners()\n\t\t{\n\t\t\tthis.urlLoader.addEventListener(Events.COMPLETE, this.completeHandler.bind(this));\n\t\t\tthis.urlLoader.addEventListener(SecurityErrorEvents.SECURITY_ERROR, this.securityErrorHandler.bind(this));\n\t\t\tthis.urlLoader.addEventListener(IOErrorEvents.IO_ERROR, this.ioErrorHandler.bind(this));\n\t\t}\n\n\t\tprotected setUpDataReload()\n\t\t{\n\t\t\tif (this.event.type === ChartEventTypes.GET_RT_DATA || this.event.type === ChartEventTypes.GET_RT_AH_DATA)\n\t\t\t\treturn;\n\n\t\t\tif (this.tries < Const.MAX_RELOAD_TRIES)\n\t\t\t{\n\t\t\t\tthis.configReloadInterval(this.dataReload.bind(this), 5000);\n\t\t\t\tthis.tries++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tMainManager.console.dataLoaded();\n\t\t\t\tthis.configReloadInterval(this.dataReload.bind(this), 50000);\n\t\t\t\tthis.tries = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class DataSeries\n\t{\n\t\tprivate readonly noPointsInIntervals: { [key: number]: boolean } = {};\n\t\tprivate readonly pointsInIntervals: { [key: number]: DataUnit[] } = {};\n\t\tprivate currentSessionIndex: number = 0;\n\n\t\treadonly intradayRegions: StartEndPair[] = [];\n\t\tcoalescedChildren: { [key: number]: DataSeries } = {};\n\t\treadonly firsts: number[] = [];\n\t\tinterval = -1;\n\t\tmarketDayLength: number;\n\t\tmarketCloseMinute: number;\n\t\treadonly years: number[] = [];\n\t\treadonly days: number[] = [];\n\t\tmarketOpenMinute: number;\n\t\treadonly intervalBounds: { [key: number]: IntervalSet } = {};\n\t\tpoints: indicator.IndicatorPoint[] = [];\n\t\tunits: DataUnit[];\n\t\tdataSessions = new IntervalSet();\n\t\treadonly fridays: number[] = [];\n\n\t\tconstructor()\n\t\t{\n\t\t\tthis.units = <any>this.points;\n\t\t}\n\n\t\tstatic compareUnitAndRelativeMinute(dataUnit: DataUnit, relativeMinute: number): number\n\t\t{\n\t\t\tif (dataUnit.relativeMinutes < relativeMinute)\n\t\t\t\treturn -1;\n\n\t\t\tif (dataUnit.relativeMinutes > relativeMinute)\n\t\t\t\treturn 1;\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tgetDayContainingTime(time: number): DataUnit | null\n\t\t{\n\t\t\tconst _loc2_ = 1 + Utils.binarySearch(this.days, time, this.compareIndexWithTime, this);\n\t\t\tif (_loc2_ >= this.days.length)\n\t\t\t\treturn null;\n\n\t\t\tconst unit = this.units[this.days[_loc2_]];\n\t\t\tif ((unit.time - time) / Const.MS_PER_MINUTE < unit.dayMinute)\n\t\t\t\treturn unit;\n\n\t\t\treturn null;\n\t\t}\n\n\t\tgetRelativeMinuteIndex(minute: number, dataUnits?: DataUnit[]): number\n\t\t{\n\t\t\tconst units = !dataUnits ? this.units : dataUnits;\n\t\t\tconst index = Utils.binarySearch(units, minute, DataSeries.compareUnitAndRelativeMinute, this);\n\t\t\treturn index === -1 ? 0 : index;\n\t\t}\n\n\t\tprintFridays()\n\t\t{\n\t\t\tfor (const friday of this.fridays)\n\t\t\t{\n\t\t\t\tif (this.units[friday])\n\t\t\t\t\tconsole.log(this.units[friday]);\n\t\t\t\telse\n\t\t\t\t\tconsole.log(this.points[friday].point + ' ' + (<indicator.VolumeIndicatorPoint>this.points[friday]).volume);\n\t\t\t}\n\t\t}\n\n\t\tgetCoalescedDataSeries(interval: number): DataSeries\n\t\t{\n\t\t\tlet _loc2_ = this.coalescedChildren[interval];\n\t\t\tif (!_loc2_)\n\t\t\t{\n\t\t\t\tif (interval < Const.DAILY_INTERVAL)\n\t\t\t\t\t_loc2_ = this.createCoalescedIntradayDataSeries(interval);\n\t\t\t\telse if (interval < Const.WEEKLY_INTERVAL)\n\t\t\t\t\t_loc2_ = this.createCoalescedDailyDataSeries(interval);\n\t\t\t\telse\n\t\t\t\t\t_loc2_ = this.createCoalescedWeeklyDataSeries(interval);\n\n\t\t\t\t_loc2_.interval = interval;\n\t\t\t\tthis.coalescedChildren[interval] = _loc2_;\n\t\t\t}\n\t\t\treturn _loc2_;\n\t\t}\n\n\t\tsetNoPointsInIntervalArray(interval: number)\n\t\t{\n\t\t\tthis.noPointsInIntervals[interval] = true;\n\t\t}\n\n\t\tgetPointsInIntervals()\n\t\t{\n\t\t\treturn this.pointsInIntervals;\n\t\t}\n\n\t\thasPointsInIntervalArray(interval: number): boolean\n\t\t{\n\t\t\tconst points = this.pointsInIntervals[interval];\n\t\t\treturn points && points.length > 0;\n\t\t}\n\n\t\tcompareRefPointAndRelativeMinute(indicatorPoint: indicator.IndicatorPoint, param2: number): number\n\t\t{\n\t\t\treturn DataSeries.compareUnitAndRelativeMinute(indicatorPoint.point, param2);\n\t\t}\n\n\t\tgetReferencePointIndex(param1: number): number\n\t\t{\n\t\t\tconst index = Utils.binarySearch(this.points, param1, this.compareRefPointAndRelativeMinute, this);\n\t\t\treturn index === -1 ? 0 : index;\n\t\t}\n\n\t\tgetLastWeeklyWeekIndex(): number\n\t\t{\n\t\t\tlet index = this.fridays.length - 1;\n\t\t\twhile (index > 0 && this.fridays[index] !== this.fridays[index - 1] + 1 || index === 0 && this.fridays[index] > 0)\n\t\t\t\tindex--;\n\n\t\t\treturn index;\n\t\t}\n\n\t\tgetFirstRelativeMinute(): number\n\t\t{\n\t\t\tif (this.units.length > 0)\n\t\t\t\treturn this.units[0].relativeMinutes;\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tgetNextWeekEnd(param1: number): number\n\t\t{\n\t\t\tlet _loc2_ = this.fridays.length - 1;\n\t\t\twhile (this.fridays[_loc2_] > param1 && _loc2_ >= 0)\n\t\t\t\t_loc2_--;\n\n\t\t\tif (_loc2_ >= this.fridays.length - 1)\n\t\t\t\treturn this.fridays.length - 1;\n\n\t\t\treturn _loc2_ + 1;\n\t\t}\n\n\t\tminuteIsEndOfDataSession(end: number): boolean\n\t\t{\n\t\t\tif (isNaN(end))\n\t\t\t\treturn false;\n\n\t\t\tconst closestEarlierInterval = this.dataSessions.getClosestEarlierIntervalForValue(end);\n\t\t\treturn notnull(closestEarlierInterval).end === end;\n\t\t}\n\n\t\tgetIntradaySessionsString(param1: string): string\n\t\t{\n\t\t\tparam1 += \": \";\n\n\t\t\tfor (const intradayRegion of this.intradayRegions)\n\t\t\t{\n\t\t\t\tparam1 += '[' + intradayRegion.start + \", \" + intradayRegion.end + \"] \";\n\t\t\t\tparam1 += this.units[intradayRegion.end].dayMinute + \"\\n\";\n\t\t\t}\n\t\t\treturn param1;\n\t\t}\n\n\t\tgetLastDailyDayIndex(): number\n\t\t{\n\t\t\tlet index = this.days.length - 1;\n\t\t\twhile (index > 0 && this.days[index] !== this.days[index - 1] + 1 || index === 0 && this.days[index] > 0)\n\t\t\t\tindex--;\n\n\t\t\treturn index;\n\t\t}\n\n\t\tgetFirstReferencePoint(): DataUnit | null\n\t\t{\n\t\t\tif (this.units.length > 0)\n\t\t\t\treturn this.points[0].point;\n\n\t\t\treturn null;\n\t\t}\n\n\t\tcompareUnitAndTimestamp(dataUnit: DataUnit, param2: number): number\n\t\t{\n\t\t\tif (dataUnit.time < param2)\n\t\t\t\treturn -1;\n\n\t\t\tif (dataUnit.time > param2)\n\t\t\t\treturn 1;\n\n\t\t\treturn 0;\n\t\t}\n\n\t\taddDataSession(param1: number, param2: number, param3: string)\n\t\t{\n\t\t\tthis.dataSessions.addPair(new MarketSessionPair(param1, param2, param3));\n\t\t}\n\n\t\trelativeMinuteMetaIndex(param1: number, param2: number[]): number\n\t\t{\n\t\t\tconst index = Utils.binarySearch(param2, param1, this.compareIndexAndRelativeMinute, this);\n\t\t\treturn index === -1 ? 0 : index;\n\t\t}\n\n\t\tgetNextDayStart(param1: number): number\n\t\t{\n\t\t\tif (this.days.length === 1)\n\t\t\t\treturn 0;\n\n\t\t\tif (param1 > this.days[this.days.length - 1])\n\t\t\t\treturn this.days.length - 1;\n\n\t\t\treturn this.getPrevDayStart(param1) + 1;\n\t\t}\n\n\t\tgetLastReferencePoint(): DataUnit | null\n\t\t{\n\t\t\tif (this.units.length > 0)\n\t\t\t\treturn this.points[this.units.length - 1].point;\n\t\t\treturn null;\n\t\t}\n\n\t\tintervalDataContainsTime(time: number, interval1: number, interval2 = NaN): boolean\n\t\t{\n\t\t\tconst bounds1 = this.intervalBounds[this.intervalHashKey(interval1)];\n\t\t\tif (bounds1 && bounds1.containsValue(time))\n\t\t\t\treturn true;\n\n\t\t\tif (!isNaN(interval2)) {\n\t\t\t\tconst bounds2 = this.intervalBounds[this.intervalHashKey(interval2)];\n\t\t\t\tif (bounds2 && bounds2.containsValue(time))\n\t\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tgetSessionForMinute(param1: number): MarketSessionPair | null\n\t\t{\n\t\t\tif (isNaN(param1))\n\t\t\t\treturn null;\t// throw?\n\n\t\t\treturn <MarketSessionPair>this.dataSessions.getClosestEarlierIntervalForValue(param1);\n\t\t}\n\n\t\tgetDaysString(): string\n\t\t{\n\t\t\tconst _loc1_: string[] = [];\n\n\t\t\tfor (const day of this.days)\n\t\t\t\t_loc1_.push(this.units[day].toString());\n\n\t\t\treturn _loc1_.join(\"\\n\");\n\t\t}\n\n\t\tprivate createCoalescedIntradayDataSeries(param1: number): DataSeries\n\t\t{\n\t\t\tconst dataSeries = new DataSeries();\n\t\t\tdataSeries.copyMarketTimesFrom(this);\n\t\t\tlet _loc4_ = 0;\n\t\t\tconst _loc5_ = param1 / Const.INTRADAY_INTERVAL;\n\t\t\t//const _loc6_ = param1 % Const.INTRADAY_INTERVAL;\n\t\t\tfor (let dayIndex = this.getLastDailyDayIndex(); dayIndex < this.days.length - 1; dayIndex++)\n\t\t\t{\n\t\t\t\tconst _loc7_ = (dayIndex === this.days.length - 1) ? this.units.length - 1 : this.days[dayIndex + 1];\n\t\t\t\tlet _loc8_ = this.days[dayIndex] + 1;\n\t\t\t\twhile (_loc8_ <= _loc7_)\n\t\t\t\t{\n\t\t\t\t\tconst dataUnit = new DataUnit(\n\t\t\t\t\t\tNaN,\n\t\t\t\t\t\tNumber.MIN_VALUE,\n\t\t\t\t\t\tNumber.MAX_VALUE,\n\t\t\t\t\t\tthis.units[_loc8_].open\n\t\t\t\t\t);\n\t\t\t\t\tdataUnit.fake = true;\n\n\t\t\t\t\tfor (let index = 0; index < _loc5_; index++)\n\t\t\t\t\t{\n\t\t\t\t\t\tdataUnit.high = Math.max(dataUnit.high, this.units[_loc8_].high);\n\t\t\t\t\t\tdataUnit.low = Math.min(dataUnit.low, this.units[_loc8_].low);\n\t\t\t\t\t\tdataUnit.close = this.units[_loc8_].close;\n\t\t\t\t\t\tif (!this.units[_loc8_].fake)\n\t\t\t\t\t\t\tdataUnit.fake = false;\n\n\t\t\t\t\t\t_loc8_++;\n\t\t\t\t\t}\n\t\t\t\t\tdataUnit.exchangeDateInUTC = this.units[_loc8_ - 1].exchangeDateInUTC;\n\t\t\t\t\tdataUnit.dayMinute = this.units[_loc8_ - 1].dayMinute;\n\t\t\t\t\tdataUnit.time = this.units[_loc8_ - 1].time;\n\t\t\t\t\tdataUnit.relativeMinutes = this.units[_loc8_ - 1].relativeMinutes;\n\t\t\t\t\tdataUnit.coveredDays = 0;\n\t\t\t\t\tif (_loc8_ >= _loc7_)\n\t\t\t\t\t{\n\t\t\t\t\t\tdataSeries.days.push(dataSeries.points.length);\n\t\t\t\t\t\t_loc4_++;\n\t\t\t\t\t}\n\t\t\t\t\tdataSeries.units.push(dataUnit);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dataSeries;\n\t\t}\n\n\t\tgetLastRelativeMinute(): number\n\t\t{\n\t\t\tif (this.units.length > 0)\n\t\t\t\treturn this.units[this.units.length - 1].relativeMinutes;\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tcompareIndexWithTime(index: number, time: number): number\n\t\t{\n\t\t\tif (this.units[index].time < time)\n\t\t\t\treturn -1;\n\n\t\t\tif (this.units[index].time > time)\n\t\t\t\treturn 1;\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tprivate createCoalescedWeeklyDataSeries(param1: number): DataSeries\n\t\t{\n\t\t\tconst dataSeries = new DataSeries();\n\t\t\tdataSeries.copyMarketTimesFrom(this);\n\n\t\t\tfor (const friday of this.fridays)\n\t\t\t{\n\t\t\t\tconst _loc4_ = friday;\n\t\t\t\tconst dataUnit = new DataUnit(\n\t\t\t\t\tthis.units[_loc4_].close,\n\t\t\t\t\tthis.units[_loc4_].high,\n\t\t\t\t\tthis.units[_loc4_].low,\n\t\t\t\t\tthis.units[_loc4_].open\n\t\t\t\t);\n\t\t\t\tdataUnit.exchangeDateInUTC = this.units[_loc4_].exchangeDateInUTC;\n\t\t\t\tdataUnit.dayMinute = this.units[_loc4_].dayMinute;\n\t\t\t\tdataUnit.time = this.units[_loc4_].time;\n\t\t\t\tdataUnit.relativeMinutes = this.units[_loc4_].relativeMinutes;\n\t\t\t\tdataUnit.coveredDays = this.units[_loc4_].coveredDays;\n\t\t\t\tdataSeries.fridays.push(dataSeries.points.length);\n\t\t\t\tdataSeries.units.push(dataUnit);\n\t\t\t}\n\t\t\treturn dataSeries;\n\t\t}\n\n\t\tcompareIndexAndRelativeMinute(param1: number, param2: number): number\n\t\t{\n\t\t\treturn DataSeries.compareUnitAndRelativeMinute(this.units[param1], param2);\n\t\t}\n\n\t\tgetSessionIndex(param1: number): number\n\t\t{\n\t\t\tif (isNaN(param1))\n\t\t\t\treturn -1;\n\n\t\t\tconst numSessions = this.dataSessions.length();\n\t\t\tfor (let sessionIndex = 0; sessionIndex < numSessions; sessionIndex++)\n\t\t\t{\n\t\t\t\tconst interval = this.dataSessions.getIntervalAt(sessionIndex);\n\t\t\t\tif (param1 >= interval.start && param1 <= interval.end)\n\t\t\t\t\treturn sessionIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tgetFirstDailyIndex(): number\n\t\t{\n\t\t\tlet index: number;\n\t\t\tfor (index = 0; index < this.units.length && this.units[index].coveredDays > 1; index++)\n\t\t\t{\n\t\t\t\t//const _loc2_ = this.units[_loc1_];\n\t\t\t}\n\t\t\treturn index;\n\t\t}\n\n\t\thasNoPointsInIntervalArray(param1: number): boolean\n\t\t{\n\t\t\treturn this.noPointsInIntervals[param1];\n\t\t}\n\n\t\tgetTimestampIndex(timestamp: number, dataUnits: DataUnit[]): number\n\t\t{\n\t\t\tconst units = !dataUnits ? this.units : dataUnits;\n\t\t\tconst index = Utils.binarySearch(units, timestamp, this.compareUnitAndTimestamp, this);\n\t\t\treturn index === -1 ? 0 : index;\n\t\t}\n\n\t\taddIntervalBounds(param1: number, param2: number, param3: number)\n\t\t{\n\t\t\tconst key = this.intervalHashKey(param1);\n\t\t\tif (!this.intervalBounds[key])\n\t\t\t\tthis.intervalBounds[key] = new IntervalSet();\n\t\t\tconst bounds = this.intervalBounds[key];\n\t\t\tbounds.addInterval(param2, param3);\n\t\t}\n\n\t\tprivate getDataSession(name: string): MarketSessionPair | null\n\t\t{\n\t\t\tconst numSessions = this.dataSessions.length();\n\t\t\tfor (let sessionIndex = 0; sessionIndex < numSessions; sessionIndex++)\n\t\t\t{\n\t\t\t\tconst pair = <MarketSessionPair>this.dataSessions.getIntervalAt(sessionIndex);\n\t\t\t\tif (pair.name === name)\n\t\t\t\t\treturn pair;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tgetSessionDisplayNameForMinute(param1: number): string\n\t\t{\n\t\t\tconst sessionForMinute = this.getSessionForMinute(param1);\n\t\t\tif (sessionForMinute)\n\t\t\t{\n\t\t\t\tswitch (sessionForMinute.name)\n\t\t\t\t{\n\t\t\t\t\tcase Const.AFTER_HOURS_NAME:\n\t\t\t\t\t\treturn Const.AFTER_HOURS_DISPLAY_NAME;\n\t\t\t\t\tcase Const.PRE_MARKET_NAME:\n\t\t\t\t\t\treturn Const.PRE_MARKET_DISPLAY_NAME;\n\t\t\t\t\tcase Const.REGULAR_MARKET_NAME:\n\t\t\t\t\t\treturn Const.REGULAR_MARKET_DISPLAY_NAME;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\n\t\tsetPointsInIntervalArray(param1: number, dataUnits: DataUnit[])\n\t\t{\n\t\t\tthis.pointsInIntervals[param1] = dataUnits;\n\t\t}\n\n\t\tallSessionsLength(): number\n\t\t{\n\t\t\treturn this.dataSessions.allIntervalsLength();\n\t\t}\n\n\t\tgetPointsInIntervalArray(param1: number): DataUnit[]\n\t\t{\n\t\t\treturn this.pointsInIntervals[param1];\n\t\t}\n\n\t\tgetSessionLength(param1: string): number\n\t\t{\n\t\t\tconst dataSession = this.getDataSession(param1);\n\t\t\tif (dataSession)\n\t\t\t\treturn dataSession.end - dataSession.start;\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tintervalDataPreceedsTime(param1: number, param2: number): boolean\n\t\t{\n\t\t\tconst key = this.intervalHashKey(param2);\n\t\t\tif (this.intervalBounds[key])\n\t\t\t{\n\t\t\t\tconst earliestInterval = this.intervalBounds[key].getEarliestInterval();\n\t\t\t\tif (earliestInterval && param1 > earliestInterval.start)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate intervalHashKey(param1: number): number\n\t\t{\n\t\t\treturn param1;\n\t\t}\n\n\t\tclearCoalescedChildren()\n\t\t{\n\t\t\tthis.coalescedChildren = {};\n\t\t}\n\n\t\tprintPoints(param1: string)\n\t\t{\n\t\t\tfor (const unit of this.units)\n\t\t\t{\n\t\t\t\tif (param1)\n\t\t\t\t{\n\t\t\t\t\tconst o: any = unit;\n\t\t\t\t\tconsole.log(unit.relativeMinutes + ' ' + o[param1]);\n\t\t\t\t}\n\t\t\t\telse if (unit instanceof DataUnit)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(unit);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconsole.log(Utils.appendObjectMembersAsStrings(\"\", unit));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tminuteIsStartOfDataSession(start: number): boolean\n\t\t{\n\t\t\tif (isNaN(start))\n\t\t\t\treturn false;\n\n\t\t\tconst closestEarlierInterval = notnull(this.dataSessions.getClosestEarlierIntervalForValue(start));\n\t\t\treturn closestEarlierInterval.start === start;\n\t\t}\n\n\t\tgetFirstDailyDayIndex(): number\n\t\t{\n\t\t\tlet index = 0;\n\t\t\tconst firstDailyIndex = this.getFirstDailyIndex();\n\t\t\twhile (index < this.days.length && this.days[index] < firstDailyIndex)\n\t\t\t{\n\t\t\t\t//const _loc3_ = this.units[this.days[_loc1_]];\n\t\t\t\tindex++;\n\t\t\t}\n\t\t\treturn index;\n\t\t}\n\n\t\tgetPrevDayStart(param1: number): number\n\t\t{\n\t\t\tconst index = Utils.binarySearch(this.days, param1, Utils.compareNumbers, this);\n\t\t\treturn this.days[index] === param1 ? index - 1 : index;\n\t\t}\n\n\t\tprivate createCoalescedDailyDataSeries(param1: number): DataSeries\n\t\t{\n\t\t\tconst dataSeries = new DataSeries();\n\t\t\tdataSeries.copyMarketTimesFrom(this);\n\t\t\tconst firstDailyDayIndex = this.getFirstDailyDayIndex();\n\t\t\tfor (let _loc4_ = firstDailyDayIndex; _loc4_ < this.days.length; _loc4_++)\n\t\t\t{\n\t\t\t\tconst originalUnit = this.units[this.days[_loc4_]];\n\t\t\t\tconst dataUnit = new DataUnit(\n\t\t\t\t\toriginalUnit.close,\n\t\t\t\t\toriginalUnit.high,\n\t\t\t\t\toriginalUnit.low,\n\t\t\t\t\toriginalUnit.open\n\t\t\t\t);\n\n\t\t\t\tdataUnit.exchangeDateInUTC = originalUnit.exchangeDateInUTC;\n\t\t\t\tdataUnit.dayMinute = originalUnit.dayMinute;\n\t\t\t\tdataUnit.time = originalUnit.time;\n\t\t\t\tdataUnit.relativeMinutes = originalUnit.relativeMinutes;\n\t\t\t\tdataUnit.coveredDays = originalUnit.coveredDays;\n\t\t\t\tdataSeries.days.push(dataSeries.points.length);\n\t\t\t\tdataSeries.units.push(dataUnit);\n\t\t\t}\n\t\t\treturn dataSeries;\n\t\t}\n\n\t\tcopyMarketTimesFrom(dataSeries: DataSeries)\n\t\t{\n\t\t\tthis.dataSessions = dataSeries.dataSessions;\n\t\t\tthis.currentSessionIndex = 0;\n\t\t\tthis.marketOpenMinute = dataSeries.marketOpenMinute;\n\t\t\tthis.marketCloseMinute = dataSeries.marketCloseMinute;\n\t\t\tthis.marketDayLength = dataSeries.marketDayLength;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class SeriesPosition\n\t{\n\t\tposition: number;\n\t\tconstructor(public refDataSeries: DataSeries|null, public pos: number, public dayPos: number | null = null)\n\t\t{\n\t\t}\n\t}\n\n\texport class ObjectPositions\n\t{\n\t\texchangeTimezoneOffset: number;\n\t\tclosePrice: number;\n\t\tposInInterval: SeriesPosition[];\n\t}\n\n\tenum ColumnTypes\n\t{\n\t\tCOL_DATE_TYPE = 1,\n\t\tCOL_CLOSE_TYPE = 2,\n\t\tCOL_HIGH_TYPE = 3,\n\t\tCOL_LOW_TYPE = 4,\n\t\tCOL_OPEN_TYPE = 5,\n\t\tCOL_VOLUME_TYPE = 6,\n\t\tCOL_CDAYS_TYPE = 7,\n\t}\n\n\texport class DataSource\n\t{\n\t\tprivate static readonly COLUMNS_STR = \"COLUMNS\";\n\t\tprivate static readonly INTERVAL_STR = \"INTERVAL\";\n\t\tprivate static readonly MARKET_CLOSE_MINUTE_STR = \"MARKET_CLOSE_MINUTE\";\n\t\tprivate static readonly DATA_SESSIONS_STR = \"DATA_SESSIONS\";\n\t\tprivate static readonly TIMEZONE_OFFSET_STR = \"TIMEZONE_OFFSET\";\n\t\tprivate static readonly EXCHANGE_STR = \"EXCHANGE\";\n\t\tprivate static readonly MARKET_OPEN_MINUTE_STR = \"MARKET_OPEN_MINUTE\";\n\t\tprivate static readonly DATA_STR = \"DATA\";\n\t\t/*\n\t\tprivate static readonly SESSIONS_STR = \"SESSIONS\";\n\t\tprivate static readonly DATE_FORMAT_STR = \"DATE_FORMAT\";\n\t\tprivate static readonly ABSOLUTE_DATE_CHAR = 'a';\n\t\t*/\n\n\t\tstatic readonly RELATIVE_MINUTES_NOT_READY = 0;\n\t\tstatic readonly DMS_RELATIVE_MINUTES_READY = 2;\n\t\tstatic readonly RELATIVE_MINUTES_READY = 1;\n\n\t\tprivate columnNames = [\"DATE\", \"CLOSE\", \"HIGH\", \"LOW\", \"OPEN\", \"VOLUME\", \"CDAYS\"];\n\t\tprivate baseMinutesInterval: number;\n\t\tprivate baseInterval: number;\n\t\tprivate quoteType: QuoteTypes;\n\t\tprivate allowedOffset = 10;\n\t\tprivate relativeMinutesState = DataSource.RELATIVE_MINUTES_NOT_READY;\n\t\tprivate lastAbsTime: number;\n\t\tprivate timezoneOffset: number;\n\n\t\tprivate readonly events: Map<ChartEventPriorities> = {};\n\n\t\tvisibleExtendedHours = new IntervalSet();\n\t\treadonly objects: Map<StockAssociatedObject[]> = {};\n\t\treadonly data = new DataSeries();\n\t\ttickerName: string;\n\t\treadonly indicators: Map<Indicator> = {};\n\t\thiddenExtendedHours = new IntervalSet();\n\t\treadonly afterHoursData = new DataSeries();\n\t\ttechnicalsName: string;\n\t\tdataUnavailableOnServer: boolean = false;\n\t\tintradayMinutesInterval = Const.INTRADAY_INTERVAL / Const.SEC_PER_MINUTE;\n\t\tfirstOpenRelativeMinutes = 0;\n\n\t\tconstructor(public readonly quoteName: string, private readonly weekdayBitmap = 62, public displayName?: string)\n\t\t{\n\t\t\tthis.quoteType = Const.getQuoteType(quoteName);\n\t\t\tif (quoteName.indexOf('@') !== -1)\n\t\t\t{\n\t\t\t\tconst _loc4_ = quoteName.split('@');\n\t\t\t\tthis.tickerName = _loc4_[0];\n\t\t\t\tthis.technicalsName = _loc4_[1];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.tickerName = quoteName;\n\t\t\t\tthis.technicalsName = \"\";\n\t\t\t}\n\t\t}\n\n\t\tprivate static unitsInDifferentDays(dataUnit1: DataUnit, dataUnit2: DataUnit | null): boolean\n\t\t{\n\t\t\tif (!dataUnit2 || !dataUnit1)\n\t\t\t\treturn true;\n\n\t\t\tif (dataUnit1.exchangeDateInUTC.getUTCDay() !== dataUnit2.exchangeDateInUTC.getUTCDay())\n\t\t\t\treturn true;\n\n\t\t\tif (Math.abs(dataUnit1.time - dataUnit2.time) > Const.MS_PER_DAY)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t}\n\n\t\tstatic getMinuteMetaIndex(minute: number, param2: number[], dataUnits: DataUnit[]): number\n\t\t{\n\t\t\tif (isNaN(minute) || !dataUnits || dataUnits.length === 0 || param2.length === 0)\n\t\t\t\treturn -1;\n\n\t\t\tlet _loc4_ = 0;\n\t\t\tlet _loc5_ = param2.length - 1;\n\t\t\t// tslint:disable-next-line\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tconst _loc6_ = Math.round((_loc4_ + _loc5_) / 2);\n\t\t\t\tif (_loc6_ === 0 && dataUnits[param2[0]].relativeMinutes > minute)\n\t\t\t\t\tbreak;\n\n\t\t\t\tif (_loc6_ === param2.length - 1 && dataUnits[param2[_loc6_]].relativeMinutes < minute)\n\t\t\t\t\treturn param2.length - 1;\n\n\t\t\t\tif (dataUnits[param2[_loc6_]].relativeMinutes === minute)\n\t\t\t\t\treturn _loc6_;\n\n\t\t\t\tif (_loc4_ >= _loc5_ - 1)\n\t\t\t\t\treturn _loc4_;\n\n\t\t\t\tif (dataUnits[param2[_loc6_]].relativeMinutes < minute)\n\t\t\t\t\t_loc4_ = _loc6_;\n\t\t\t\telse\n\t\t\t\t\t_loc5_ = _loc6_;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tstatic getTimeIndex(time: number, dataUnits: DataUnit[]): number\n\t\t{\n\t\t\tlet _loc5_ = 0;\n\t\t\tif (isNaN(time) || !dataUnits || dataUnits.length === 0)\n\t\t\t\treturn -1;\n\n\t\t\tlet _loc3_ = 0;\n\t\t\tlet _loc4_ = dataUnits.length - 1;\n\t\t\t// tslint:disable-next-line\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\t_loc5_ = Math.round((_loc3_ + _loc4_) / 2);\n\t\t\t\tif (_loc5_ === 0 && dataUnits[0].time > time)\n\t\t\t\t\tbreak;\n\n\t\t\t\tif (_loc5_ === dataUnits.length - 1 && dataUnits[_loc5_].time < time)\n\t\t\t\t\treturn dataUnits.length - 1;\n\n\t\t\t\tif (dataUnits[_loc5_].time === time)\n\t\t\t\t\treturn _loc5_;\n\n\t\t\t\tif (_loc3_ >= _loc4_ - 1)\n\t\t\t\t\treturn _loc3_;\n\n\t\t\t\tif (dataUnits[_loc5_].time < time)\n\t\t\t\t\t_loc3_ = _loc5_;\n\t\t\t\telse\n\t\t\t\t\t_loc4_ = _loc5_;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tcomputeStarts(dataSeries: DataSeries)\n\t\t{\n\t\t\tlet _loc3_ = -1;\n\t\t\tdataSeries.years.length = 0;\n\t\t\tdataSeries.firsts.length = 0;\n\t\t\tdataSeries.fridays.length = 0;\n\t\t\tdataSeries.days.length = 0;\n\t\t\tconst units = dataSeries.units;\n\t\t\tlet session = notnull(dataSeries.getSessionForMinute(units[0].dayMinute));\n\t\t\tconst lastDayOfWeek = Utils.getLastDayOfWeek(this.weekdayBitmap);\n\t\t\tfor (let unitIndex = 0; unitIndex < units.length; unitIndex++)\n\t\t\t{\n\t\t\t\tconst unit = units[unitIndex];\n\t\t\t\tconst _loc9_ = unitIndex === units.length - 1 ? null : units[unitIndex + 1];\n\t\t\t\tif (unit.dayMinute === session.end)\n\t\t\t\t{\n\t\t\t\t\tif (DataSource.unitsInDifferentDays(unit, _loc9_))\n\t\t\t\t\t{\n\t\t\t\t\t\tdataSeries.days.push(unitIndex);\n\t\t\t\t\t\tif (unit.exchangeDateInUTC.getUTCMonth() !== _loc3_)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdataSeries.firsts.push(unitIndex);\n\t\t\t\t\t\t\t_loc3_ = unit.exchangeDateInUTC.getUTCMonth();\n\t\t\t\t\t\t\tif (_loc3_ === 0)\n\t\t\t\t\t\t\t\tdataSeries.years.push(unitIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst day = unit.exchangeDateInUTC.getUTCDay();\n\t\t\t\t\t\tlet _loc11_ = Number.POSITIVE_INFINITY;\n\t\t\t\t\t\tif (_loc9_)\n\t\t\t\t\t\t\t_loc11_ = _loc9_.exchangeDateInUTC.getUTCDay();\n\n\t\t\t\t\t\tif (day === lastDayOfWeek || unit.coveredDays > 1 || unitIndex < units.length - 1 && day > _loc11_)\n\t\t\t\t\t\t\tdataSeries.fridays.push(unitIndex);\n\t\t\t\t\t}\n\t\t\t\t\tif (_loc9_)\n\t\t\t\t\t\tsession = notnull(dataSeries.getSessionForMinute(_loc9_.dayMinute));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\taddStream(stream: string, chartEvent: ChartEvent): AddStreamResults\n\t\t{\n\t\t\tconst hasData = this.data.points.length !== 0;\n\t\t\tthis.clearAllIndicatorsOnAddData(Number(chartEvent.interval));\n\t\t\tthis.clearCoalescedChildren();\n\t\t\tif (stream.indexOf(DataSource.EXCHANGE_STR) !== 0)\n\t\t\t\treturn AddStreamResults.ERROR;\n\n\t\t\tconst lines = stream.split(\"\\n\");\n\t\t\tlet data = this.data;\n\t\t\tswitch (chartEvent.type)\n\t\t\t{\n\t\t\t\tcase ChartEventTypes.GET_AH_DATA:\n\t\t\t\tcase ChartEventTypes.GET_RT_AH_DATA:\n\t\t\t\t\tdata = this.afterHoursData;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst map = this.parseHeader(lines, chartEvent);\n\t\t\tif (!map)\n\t\t\t\treturn AddStreamResults.ERROR;\n\n\t\t\tthis.checkHeaderSanity(map, data);\n\t\t\tconst _loc7_ = Utils.assocArrayLength(map) + 1;\n\t\t\tthis.baseInterval = Number(map[DataSource.INTERVAL_STR]);\n\t\t\tif (chartEvent.detailType !== ChartDetailTypes.GET_RT_DATA && chartEvent.detailType !== ChartDetailTypes.GET_RT_AH_DATA)\n\t\t\t{\n\t\t\t\tconst columnNames = map[DataSource.COLUMNS_STR].split(',');\n\t\t\t\tif (columnNames.indexOf(this.columnNames[ColumnTypes.COL_OPEN_TYPE]) !== -1 && columnNames.indexOf(this.columnNames[ColumnTypes.COL_HIGH_TYPE]) !== -1 && columnNames.indexOf(this.columnNames[ColumnTypes.COL_LOW_TYPE]) !== -1)\n\t\t\t\t\tthis.eventOhlcDone(chartEvent.getEventName());\n\t\t\t\telse\n\t\t\t\t\tthis.eventDone(chartEvent.getEventName());\n\t\t\t}\n\t\t\tconst units = data.units;\n\t\t\tconst _loc9_ = this.parseStream(lines.slice(_loc7_), map, data);\n\t\t\tif (!_loc9_)\n\t\t\t\treturn AddStreamResults.ERROR;\n\n\t\t\tif (_loc9_.length === 0)\n\t\t\t{\n\t\t\t\tdata.setNoPointsInIntervalArray(this.baseInterval);\n\t\t\t\treturn AddStreamResults.ADDED_DATA;\n\t\t\t}\n\n\t\t\tconst lastRealPointIndex = Utils.getLastRealPointIndex(_loc9_);\n\t\t\tlet _loc11_ = false;\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tswitch (chartEvent.detailType)\n\t\t\t\t{\n\t\t\t\t\tcase ChartDetailTypes.GET_10D_DATA:\n\t\t\t\t\tcase ChartDetailTypes.GET_30D_DATA:\n\t\t\t\t\t\tthis.addStreamForPointsInIntervals(this.baseInterval, _loc9_);\n\t\t\t\t\t\treturn AddStreamResults.ADDED_DATA;\n\t\t\t\t\tcase ChartDetailTypes.GET_5D_DATA:\n\t\t\t\t\tcase ChartDetailTypes.GET_1Y_DATA:\n\t\t\t\t\tcase ChartDetailTypes.GET_5Y_DATA:\n\t\t\t\t\tcase ChartDetailTypes.GET_40Y_DATA:\n\t\t\t\t\t\tthis.addStreamForPointsInIntervals(this.baseInterval, _loc9_);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_AH_DATA:\n\t\t\t\t\t\tthis.addAHStreamForPointsInIntervals(_loc9_);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_RT_DATA:\n\t\t\t\t\t\t_loc11_ = true;\n\t\t\t\t\t\tconst points1 = this.data.getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\t\t\t\tthis.addStreamForPointsInIntervals(this.baseInterval, this.mergePoints(_loc9_, points1, _loc11_, lastRealPointIndex));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_RT_AH_DATA:\n\t\t\t\t\t\t_loc11_ = true;\n\t\t\t\t\t\tconst points2 = this.afterHoursData.getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\t\t\t\tthis.addAHStreamForPointsInIntervals(this.mergePoints(_loc9_, points2, _loc11_, lastRealPointIndex));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst _loc12_ = this.mergePoints(_loc9_, units, _loc11_, lastRealPointIndex);\n\t\t\tdata.units = _loc12_;\n\t\t\tdata.points = <any>_loc12_;\n\t\t\tconst time = _loc9_[0].time;\n\t\t\tconst _loc14_ = _loc9_[_loc9_.length - 1].time;\n\t\t\tdata.addIntervalBounds(this.baseInterval, time, _loc14_);\n\t\t\tthis.preCalculate(data);\n\t\t\tif (data === this.afterHoursData)\n\t\t\t{\n\t\t\t\tif (this.hiddenExtendedHours.length() > 0)\n\t\t\t\t{\n\t\t\t\t\tthis.hiddenExtendedHours = new IntervalSet();\n\t\t\t\t\tthis.extractAfterHoursSessions(this.hiddenExtendedHours);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (this.visibleExtendedHours.length() > 0)\n\t\t\t\t\t\tthis.visibleExtendedHours = new IntervalSet();\n\n\t\t\t\t\tthis.extractAfterHoursSessions(this.visibleExtendedHours);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasData)\n\t\t\t\treturn AddStreamResults.ADDED_DATA;\n\n\t\t\tif (_loc9_.length === 0)\n\t\t\t\treturn AddStreamResults.NOTHING;\n\n\t\t\treturn AddStreamResults.FIRST_DATA;\n\t\t}\n\n\t\tpreCalculate(dataSeries: DataSeries)\n\t\t{\n\t\t\tthis.computeStarts(dataSeries);\n\t\t\tthis.computeIntradaySessions(dataSeries);\n\t\t\tthis.computeObjectPositions();\n\t\t}\n\n\t\tgetClosestDataUnitLessThen(param1: number): DataUnit | null\n\t\t{\n\t\t\tconst afterHoursUnit = this.afterHoursData.units[this.afterHoursData.getRelativeMinuteIndex(param1)];\n\t\t\tconst unit = this.data.units[this.data.getRelativeMinuteIndex(param1)];\n\t\t\tif (param1 < afterHoursUnit.relativeMinutes && param1 < unit.relativeMinutes)\n\t\t\t\treturn null;\n\n\t\t\tif (afterHoursUnit.relativeMinutes > param1)\n\t\t\t\treturn unit;\n\n\t\t\tif (unit.relativeMinutes > param1)\n\t\t\t\treturn afterHoursUnit;\n\n\t\t\tif (param1 - unit.relativeMinutes < param1 - afterHoursUnit.relativeMinutes)\n\t\t\t\treturn unit;\n\n\t\t\treturn afterHoursUnit;\n\t\t}\n\n\t\tgetAllDataSessions(param1: number, param2: number): IntervalSet\n\t\t{\n\t\t\tconst intervalSet = new IntervalSet();\n\n\t\t\tfor (let sessionIndex = 0; sessionIndex < this.data.dataSessions.length(); sessionIndex++)\n\t\t\t\tintervalSet.addPair(this.data.dataSessions.getIntervalAt(sessionIndex));\n\n\t\t\tif (param1 < this.data.marketOpenMinute)\n\t\t\t\tintervalSet.addInterval(param1, this.data.marketOpenMinute);\n\n\t\t\tif (param2 > this.data.marketCloseMinute)\n\t\t\t\tintervalSet.addInterval(this.data.marketCloseMinute, param2);\n\n\t\t\treturn intervalSet;\n\t\t}\n\n\t\tcountEvents(chartEventPriority: ChartEventPriorities): number\n\t\t{\n\t\t\tlet count = 0;\n\t\t\tfor (const eventName of Object.keys(this.events))\n\t\t\t{\n\t\t\t\tif (this.events[eventName] === chartEventPriority)\n\t\t\t\t\tcount++;\n\t\t\t}\n\t\t\treturn count;\n\t\t}\n\n\t\tprivate getColumnTypes(param1: string): ColumnTypes[]\n\t\t{\n\t\t\tconst columnTypes: ColumnTypes[] = [];\n\t\t\tconst columnNames = param1.split(',');\n\t\t\tfor (let columnNameIndex1 = 0; columnNameIndex1 < columnNames.length; columnNameIndex1++)\n\t\t\t{\n\t\t\t\tfor (let columnNameIndex2 = 0; columnNameIndex2 < this.columnNames.length; columnNameIndex2++)\n\t\t\t\t{\n\t\t\t\t\tif (columnNames[columnNameIndex1] === this.columnNames[columnNameIndex2])\n\t\t\t\t\t\tcolumnTypes[columnNameIndex1] = <ColumnTypes>(columnNameIndex2 + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn columnTypes;\n\t\t}\n\n\t\teventOhlcDone(eventIndex: string)\n\t\t{\n\t\t\tthis.events[eventIndex] = ChartEventPriorities.OHLC_DONE;\n\t\t}\n\n\t\thasEventHappened(chartEvent: ChartEvent): boolean\n\t\t{\n\t\t\tconst eventName = chartEvent.getEventName();\n\t\t\treturn !!this.events[eventName];\n\t\t}\n\n\t\tparseStream(param1: string[], param2: Map<string>, dataSeries: DataSeries): DataUnit[]\n\t\t{\n\t\t\tlet _loc20_ = 0;\n\t\t\tlet _loc4_ = 0;\n\t\t\tthis.baseInterval = Number(param2[DataSource.INTERVAL_STR]);\n\t\t\tthis.baseMinutesInterval = this.baseInterval / Const.SEC_PER_MINUTE;\n\t\t\tif (!param1 || param1.length === 0)\n\t\t\t\treturn [];\n\n\t\t\tconst columnTypes = this.getColumnTypes(param2[DataSource.COLUMNS_STR]);\n\t\t\tconst dataUnits: DataUnit[] = [];\n\t\t\tlet index = 0;\n\t\t\tthis.timezoneOffset = 0;\n\t\t\tthis.lastAbsTime = 0;\n\t\t\tconst _loc8_ = DataSource.TIMEZONE_OFFSET_STR.charCodeAt(0);\n\t\t\tlet _loc10_: MarketSessionPair | null = null;\n\t\t\tlet _loc12_: MarketSessionPair | null = null;\n\t\t\tlet _loc13_ = 0;\n\n\t\t\tdo\n\t\t\t{\n\t\t\t\tconst _loc14_ = param1[index++];\n\t\t\t\tif (_loc14_.charCodeAt(0) === _loc8_)\n\t\t\t\t{\n\t\t\t\t\tthis.timezoneOffset = Number(_loc14_.split('=')[1]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconst _loc15_ = _loc14_.split(Const.DATA_DELIMITER);\n\t\t\t\t\tif (!(_loc15_.length !== columnTypes.length || _loc15_[0].charAt(0) === '&'))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst dataUnit = this.getDataUnitNoValidation(_loc15_, columnTypes, param2);\n\t\t\t\t\t\tdataUnit.duplicate = dataSeries.minuteIsStartOfDataSession(dataUnit.dayMinute);\n\t\t\t\t\t\tif (Const.INDICATOR_ENABLED && !isNaN(dataUnit.open))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (dataUnit.open === 0)\n\t\t\t\t\t\t\t\tdataUnit.open = dataUnit.close;\n\n\t\t\t\t\t\t\tdataUnit.high = Math.max(dataUnit.high, Math.max(dataUnit.open, dataUnit.close));\n\t\t\t\t\t\t\tconst _loc18_ = Math.min(dataUnit.open, dataUnit.close);\n\t\t\t\t\t\t\tif (dataUnit.low === 0 || dataUnit.low > _loc18_)\n\t\t\t\t\t\t\t\tdataUnit.low = _loc18_;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (dataUnits.length === 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc12_ = notnull(dataSeries.getSessionForMinute(dataUnit.dayMinute));\n\t\t\t\t\t\t\t_loc13_ = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.baseInterval < Const.DAILY_INTERVAL && dataUnits.length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc19_ = (dataUnit.time - dataUnits[dataUnits.length - 1].time) / Const.MS_PER_MINUTE;\n\t\t\t\t\t\t\tif (_loc19_ > this.baseMinutesInterval && _loc19_ - (notnull(_loc12_).end - _loc4_) > this.allowedOffset && _loc13_ > 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst session = notnull(dataSeries.getSessionForMinute(dataUnit.dayMinute));\n\t\t\t\t\t\t\t\tif (dataUnit.dayMinute >= session.start)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t_loc10_ = _loc12_;\n\t\t\t\t\t\t\t\t\t_loc12_ = session;\n\t\t\t\t\t\t\t\t\t_loc13_ = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (dataUnit.dayMinute >= notnull(_loc12_).start)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (this.quoteType === QuoteTypes.CURRENCY)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (this.baseInterval === Const.WEEKLY_INTERVAL)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (dataUnit.exchangeDateInUTC.getUTCDay() === 6)\n\t\t\t\t\t\t\t\t\t\tdataUnit.setDate(dataUnit.time - Const.MS_PER_DAY, dataUnit.timezoneOffset);\n\t\t\t\t\t\t\t\t\telse if (dataUnit.exchangeDateInUTC.getUTCDay() === 0)\n\t\t\t\t\t\t\t\t\t\tdataUnit.setDate(dataUnit.time - 2 * Const.MS_PER_DAY, dataUnit.timezoneOffset);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (dataUnit.exchangeDateInUTC.getUTCDay() === 0 || dataUnit.exchangeDateInUTC.getUTCDay() === 6)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.baseInterval < Const.DAILY_INTERVAL && dataUnit.dayMinute > notnull(_loc12_).end)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.addAfterHoursUnitToLastMinute(dataUnit, dataUnits, notnull(_loc12_), dataSeries);\n\t\t\t\t\t\t\t\t_loc13_++;\n\t\t\t\t\t\t\t\t_loc4_ = notnull(_loc12_).end;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (!isNaN(dataUnit.close))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (dataUnit.volumes[Number(param2[DataSource.INTERVAL_STR])] >= 0)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (this.quoteType === QuoteTypes.COMPANY && dataUnits.length > 0)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif (!this.isTradeHaltedInterday(dataUnit, dataUnits[dataUnits.length - 1], this.baseInterval))\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (!(dataUnits.length > 0 && dataUnit.time === dataUnits[dataUnits.length - 1].time))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.regularSanityCheck(dataUnits, dataUnit, _loc10_, notnull(_loc12_), _loc4_, dataSeries);\n\t\t\t\t\t\t\t\t\t\t_loc13_++;\n\t\t\t\t\t\t\t\t\t\tdataUnits.push(dataUnit);\n\t\t\t\t\t\t\t\t\t\t_loc4_ = dataUnit.dayMinute;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (index < param1.length);\n\n\t\t\tif (dataUnits.length !== 0 && _loc12_ && Number(param2[DataSource.INTERVAL_STR]) < Const.DAILY_INTERVAL && _loc4_ !== _loc12_.end)\n\t\t\t{\n\t\t\t\t_loc20_ = (_loc12_.end - _loc4_) / this.baseMinutesInterval;\n\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc20_, Directions.FORWARD);\n\t\t\t\t_loc4_ = _loc12_.end;\n\t\t\t}\n\n\t\t\tif (dataUnits.length !== 0 && _loc12_ && Number(param2[DataSource.INTERVAL_STR]) < Const.DAILY_INTERVAL && _loc4_ !== dataSeries.marketCloseMinute)\n\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, dataSeries.getSessionIndex(_loc4_) + 1, dataSeries.dataSessions.length(), Directions.FORWARD);\n\n\t\t\treturn dataUnits;\n\t\t}\n\n\t\tsortObjects(objectType: string)\n\t\t{\n\t\t\tif (!objectType)\n\t\t\t\tobjectType = \"newspin\";\n\n\t\t\tthis.objects[objectType].sort(StockAssociatedObject.compare);\n\t\t}\n\n\t\tprivate addFakeDataUnitsForSessions(dataUnits: DataUnit[], dataUnit: DataUnit, dataSeries: DataSeries, param4: number, param5: number, direction: Directions)\n\t\t{\n\t\t\tlet _loc10_ = 0;\n\t\t\tif (dataSeries !== this.data)\n\t\t\t\treturn;\n\n\t\t\tfor (let _loc7_ = param4; _loc7_ < param5; _loc7_++)\n\t\t\t{\n\t\t\t\tconst interval = dataSeries.dataSessions.getIntervalAt(_loc7_);\n\t\t\t\tswitch (direction)\n\t\t\t\t{\n\t\t\t\t\tcase Directions.BACKWARD:\n\t\t\t\t\t\t_loc10_ = interval.end - dataUnit.dayMinute + this.baseMinutesInterval;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Directions.FORWARD:\n\t\t\t\t\t\t_loc10_ = interval.start - dataUnit.dayMinute - this.baseMinutesInterval;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tconst _loc9_ = Math.floor((interval.end - interval.start) / this.baseMinutesInterval) + 1;\n\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnit, dataSeries, _loc9_, direction, _loc10_);\n\t\t\t}\n\t\t}\n\n\t\tgetFirstRelativeMinute(detailLevel: Intervals): number\n\t\t{\n\t\t\tconst interval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst points = this.data.getPointsInIntervalArray(interval);\n\t\t\tif (!points || points.length === 0)\n\t\t\t\treturn 0;\n\n\t\t\treturn points[0].relativeMinutes;\n\t\t}\n\n\t\thasPendingEvents(): boolean\n\t\t{\n\t\t\tfor (const eventName of Object.keys(this.events))\n\t\t\t{\n\t\t\t\tif (this.events[eventName] !== ChartEventPriorities.DONE && this.events[eventName] !== ChartEventPriorities.OHLC_DONE)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate regularSanityCheck(dataUnits: DataUnit[], dataUnit: DataUnit, startInterval: StartEndPair|null, endInterval: StartEndPair, end: number, dataSeries: DataSeries)\n\t\t{\n\t\t\tlet _loc7_ = 0;\n\t\t\tif (this.baseInterval < Const.DAILY_INTERVAL)\n\t\t\t{\n\t\t\t\tconst sessionIndex = dataSeries.getSessionIndex(endInterval.start);\n\t\t\t\tconst _loc9_ = !startInterval ? -1 : dataSeries.getSessionIndex(startInterval.start);\n\t\t\t\tif (dataUnit.dayMinute === endInterval.start)\n\t\t\t\t{\n\t\t\t\t\tif (startInterval && end !== startInterval.end)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc7_ = Math.floor((startInterval.end - end) / this.baseMinutesInterval);\n\t\t\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc7_, Directions.FORWARD);\n\t\t\t\t\t}\n\t\t\t\t\tif (!startInterval)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnit, dataSeries, 0, sessionIndex, Directions.BACKWARD);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!DataSource.unitsInDifferentDays(dataUnits[dataUnits.length - 1], dataUnit))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc9_ + 1, sessionIndex, Directions.FORWARD);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc9_ + 1, dataSeries.dataSessions.length(), Directions.FORWARD);\n\t\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnit, dataSeries, 0, sessionIndex, Directions.BACKWARD);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (dataUnits.length === 0 || dataUnit.time - dataUnits[dataUnits.length - 1].time !== this.baseMinutesInterval * Const.MS_PER_MINUTE)\n\t\t\t\t{\n\t\t\t\t\tif (dataUnits.length === 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnit, dataSeries, 0, sessionIndex, Directions.BACKWARD);\n\t\t\t\t\t\tif (dataSeries === this.data || dataUnit.dayMinute !== endInterval.end)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc7_ = Math.floor((dataUnit.dayMinute - endInterval.start) / this.baseMinutesInterval);\n\t\t\t\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnit, dataSeries, _loc7_, Directions.BACKWARD);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (dataUnit.time - dataUnits[dataUnits.length - 1].time <= (dataUnit.dayMinute - endInterval.start) * Const.MS_PER_MINUTE)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc7_ = Math.floor((dataUnit.dayMinute - end) / this.baseMinutesInterval) - 1;\n\t\t\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc7_, Directions.FORWARD);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc7_ = Math.floor((notnull(startInterval).end - end) / this.baseMinutesInterval);\n\t\t\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc7_, Directions.FORWARD);\n\t\t\t\t\t\tif (!DataSource.unitsInDifferentDays(dataUnits[dataUnits.length - 1], dataUnit) && dataSeries === this.data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc9_ + 1, sessionIndex, Directions.FORWARD);\n\t\t\t\t\t\t\t_loc7_ = Math.floor((dataUnit.dayMinute - endInterval.start) / this.baseMinutesInterval);\n\t\t\t\t\t\t\tconst _loc10_ = endInterval.start - dataUnits[dataUnits.length - 1].dayMinute - this.baseMinutesInterval;\n\t\t\t\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc7_, Directions.FORWARD, _loc10_);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc9_ + 1, dataSeries.dataSessions.length(), Directions.FORWARD);\n\t\t\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnit, dataSeries, 0, sessionIndex, Directions.BACKWARD);\n\t\t\t\t\t\t\t_loc7_ = Math.floor((dataUnit.dayMinute - endInterval.start) / this.baseMinutesInterval);\n\t\t\t\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnit, dataSeries, _loc7_, Directions.BACKWARD);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ((this.baseInterval === Const.DAILY_INTERVAL || this.baseInterval === Const.WEEKLY_INTERVAL) && dataUnit.dayMinute !== dataSeries.marketCloseMinute)\n\t\t\t{\n\t\t\t\tlet _loc11_ = (dataSeries.marketCloseMinute - dataUnit.dayMinute) * Const.MS_PER_MINUTE;\n\t\t\t\t_loc11_ -= dataUnit.exchangeDateInUTC.getUTCSeconds() * 1000;\n\t\t\t\tdataUnit.setDate(dataUnit.time + _loc11_, dataUnit.timezoneOffset);\n\t\t\t}\n\t\t}\n\n\t\tgetObjectPositionsInInterval(param1: number)\n\t\t{\n\t\t\tconst objectPositions = new ObjectPositions();\n\t\t\tconst seriesPosition: SeriesPosition[] = [];\n\t\t\tfor (let detailLevelIndex = Const.DETAIL_LEVELS.length - 1; detailLevelIndex >= 0; detailLevelIndex--)\n\t\t\t{\n\t\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(Const.DETAIL_LEVELS[detailLevelIndex]);\n\t\t\t\tconst points = this.data.getPointsInIntervalArray(detailLevelInterval);\n\t\t\t\tif (points && points.length > 0)\n\t\t\t\t{\n\t\t\t\t\tlet timeIndex = DataSource.getTimeIndex(param1, points);\n\t\t\t\t\tif (timeIndex === 0 && points[0].time > param1)\n\t\t\t\t\t{\n\t\t\t\t\t\tobjectPositions.exchangeTimezoneOffset = points[timeIndex].timezoneOffset;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (points[timeIndex].time < param1)\n\t\t\t\t\t\t\ttimeIndex = Math.min(timeIndex + 1, points.length - 1);\n\n\t\t\t\t\t\tseriesPosition[detailLevelInterval] = new SeriesPosition(this.data, timeIndex);\n\t\t\t\t\t\tobjectPositions.exchangeTimezoneOffset = points[timeIndex].timezoneOffset;\n\t\t\t\t\t\tobjectPositions.closePrice = points[timeIndex].close;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst points2 = this.afterHoursData.getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\tif (points2 && points2.length > 0 && this.visibleExtendedHours.length())\n\t\t\t{\n\t\t\t\tlet timeIndex = DataSource.getTimeIndex(param1, points2);\n\t\t\t\tif (timeIndex !== 0 || points2[0].time <= param1)\n\t\t\t\t{\n\t\t\t\t\tif (points2[timeIndex].time < param1)\n\t\t\t\t\t\ttimeIndex = Math.min(timeIndex + 1, points2.length - 1);\n\n\t\t\t\t\tif (seriesPosition[Const.INTRADAY_INTERVAL])\n\t\t\t\t\t{\n\t\t\t\t\t\tconst units = this.data.getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\t\t\t\tconst unitTime = units[seriesPosition[Const.INTRADAY_INTERVAL].position].time;\n\t\t\t\t\t\tconst pointTime = points2[timeIndex].time;\n\t\t\t\t\t\tif (unitTime >= param1 && pointTime >= param1 && pointTime < unitTime || unitTime < param1 && pointTime > unitTime)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tseriesPosition[Const.INTRADAY_INTERVAL] = new SeriesPosition(this.afterHoursData, timeIndex);\n\t\t\t\t\t\t\tobjectPositions.exchangeTimezoneOffset = points2[timeIndex].timezoneOffset;\n\t\t\t\t\t\t\tobjectPositions.closePrice = points2[timeIndex].close;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tseriesPosition[Const.INTRADAY_INTERVAL] = new SeriesPosition(this.afterHoursData, timeIndex);\n\t\t\t\t\t\tobjectPositions.exchangeTimezoneOffset = points2[timeIndex].timezoneOffset;\n\t\t\t\t\t\tobjectPositions.closePrice = points2[timeIndex].close;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tobjectPositions.exchangeTimezoneOffset = points2[timeIndex].timezoneOffset;\n\t\t\t\t}\n\t\t\t}\n\t\t\tobjectPositions.posInInterval = seriesPosition;\n\t\t\treturn objectPositions;\n\t\t}\n\n\t\tprivate parseHeader(lines: string[], chartEvent: ChartEvent)\n\t\t{\n\t\t\tconst map: Map<string> = {};\n\t\t\tfor (const pair of lines)\n\t\t\t{\n\t\t\t\tconst parts = pair.split('=');\n\t\t\t\tif (parts.length <= 1)\n\t\t\t\t\treturn null;\n\n\t\t\t\tif (parts[0] === DataSource.DATA_STR)\n\t\t\t\t\treturn map;\n\n\t\t\t\tmap[parts[0]] = parts[1];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomputeIntradaySessions(dataSeries: DataSeries)\n\t\t{\n\t\t\tconst intradayInterval = Const.INTRADAY_INTERVAL;\n\t\t\tdataSeries.intradayRegions.length = 0;\n\t\t\tlet _loc3_ = 0;\n\t\t\tlet _loc4_ = 0;\n\t\t\tfor (let unitIndex = 1; unitIndex < dataSeries.units.length; unitIndex++)\n\t\t\t{\n\t\t\t\tconst unit = dataSeries.units[unitIndex];\n\t\t\t\tconst previousUnit = dataSeries.units[unitIndex - 1];\n\t\t\t\tif ((unit.time - previousUnit.time) / 1000 !== intradayInterval)\n\t\t\t\t{\n\t\t\t\t\tif (_loc4_ > 0)\n\t\t\t\t\t\tdataSeries.intradayRegions.push(new StartEndPair(_loc3_, unitIndex - 1));\n\n\t\t\t\t\t_loc3_ = unitIndex;\n\t\t\t\t\t_loc4_ = 0;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_loc4_++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (_loc4_ > 0)\n\t\t\t\tdataSeries.intradayRegions.push(new StartEndPair(_loc3_, dataSeries.points.length - 1));\n\t\t}\n\n\t\tprivate addStreamForPointsInIntervals(viewpointName: number, dataUnits: DataUnit[])\n\t\t{\n\t\t\tthis.data.setPointsInIntervalArray(viewpointName, dataUnits);\n\t\t}\n\n\t\tprivate makeDataUnitEndOfDay(dataUnit: DataUnit, dataUnits: DataUnit[], startEndPair: StartEndPair, dataSeries: DataSeries)\n\t\t{\n\t\t\tconst _loc5_ = startEndPair.end - startEndPair.start;\n\t\t\tconst _loc6_ = dataUnit.dayMinute - startEndPair.end;\n\t\t\tlet _loc7_ = -_loc6_ * 60 * 1000;\n\t\t\t_loc7_ -= dataUnit.exchangeDateInUTC.getUTCSeconds() * 1000;\n\t\t\tdataUnit.setDate(dataUnit.time + _loc7_, dataUnit.timezoneOffset);\n\t\t\tif (this.baseInterval < Const.DAILY_INTERVAL)\n\t\t\t\tthis.addFakeDataUnits(dataUnits, dataUnit, dataSeries, _loc5_ / this.baseMinutesInterval, Directions.BACKWARD);\n\n\t\t\tdataUnits.push(dataUnit);\n\t\t}\n\n\t\t/*\n\t\tprivate alignDataSeries(ds1: DataSeries, ds2: DataSeries)\n\t\t{\n\t\t\tif (ds1.units.length === 0 || ds2.units.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst _loc3_ = ds1.units[0].time;\n\t\t\tconst _loc4_ = DataSource.getTimeIndex(_loc3_, ds2.units);\n\t\t\tconst _loc5_ = ds2.units[_loc4_].relativeMinutes;\n\t\t\tconst _loc6_ = ds1.units[0].relativeMinutes;\n\t\t\tfor (let _loc7_ = 0; _loc7_ < ds1.units.length; _loc7_++)\n\t\t\t{\n\t\t\t\tconst _loc8_ = ds1.units[_loc7_].relativeMinutes - _loc6_;\n\t\t\t\tds1.units[_loc7_].relativeMinutes = _loc5_ + _loc8_;\n\t\t\t}\n\t\t}\n\t\t*/\n\n\t\tselectObject(objectType: string, id: number, letter?: string): StockAssociatedObject | null\n\t\t{\n\t\t\tlet selectedObject: StockAssociatedObject | null = null;\n\t\t\tif (this.objects[objectType] === undefined)\n\t\t\t\treturn null;\n\n\t\t\tfor (const object of this.objects[objectType])\n\t\t\t{\n\t\t\t\tobject.active = false;\n\t\t\t\tif (objectType === \"newspin\")\n\t\t\t\t\t(<PinPoint>object).forceExpandInGroup = false;\n\n\t\t\t\tif (object.id === id && (!letter || (<PinPoint>object).letter === letter))\n\t\t\t\t{\n\t\t\t\t\tobject.active = true;\n\t\t\t\t\tselectedObject = object;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn selectedObject;\n\t\t}\n\n\t\tprivate objectInTheFuture(stockAssociatedObject: StockAssociatedObject, dataSeries: DataSeries): boolean\n\t\t{\n\t\t\tlet unit: DataUnit;\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tconst points = dataSeries.getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\t\tconst _loc7_ = notnull(stockAssociatedObject.posInInterval)[Const.INTRADAY_INTERVAL];\n\t\t\t\tif (!points || points.length === 0 || !_loc7_ || _loc7_.position !== points.length - 1)\n\t\t\t\t\treturn false;\n\n\t\t\t\tunit = points[points.length - 1];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst numUnits = dataSeries.units.length;\n\t\t\t\tif (stockAssociatedObject.pos !== numUnits - 1)\n\t\t\t\t\treturn false;\n\n\t\t\t\tunit = dataSeries.units[numUnits - 1];\n\t\t\t}\n\t\t\tconst exchangeDateInUTC = unit.exchangeDateInUTC;\n\t\t\tconst date = new Date(stockAssociatedObject.time + unit.timezoneOffset);\n\t\t\tif (date.getUTCFullYear() < exchangeDateInUTC.getUTCFullYear())\n\t\t\t\treturn false;\n\n\t\t\tif (date.getUTCFullYear() > exchangeDateInUTC.getUTCFullYear())\n\t\t\t\treturn true;\n\n\t\t\tif (date.getUTCMonth() < exchangeDateInUTC.getUTCMonth())\n\t\t\t\treturn false;\n\n\t\t\tif (date.getUTCMonth() < exchangeDateInUTC.getUTCMonth())\n\t\t\t\treturn true;\n\n\t\t\tif (date.getUTCDate() < exchangeDateInUTC.getUTCDate())\n\t\t\t\treturn false;\n\n\t\t\tif (date.getUTCDate() > exchangeDateInUTC.getUTCDate())\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate extractAfterHoursSessions(intervalSet: IntervalSet)\n\t\t{\n\t\t\tif (this.afterHoursData.units.length === 0)\n\t\t\t\treturn;\n\n\t\t\tlet _loc2_ = this.afterHoursData.units[0];\n\t\t\tlet session = notnull(this.afterHoursData.getSessionForMinute(_loc2_.dayMinute));\n\t\t\tlet _loc4_ = 0;\n\t\t\tlet _loc5_ = 0;\n\t\t\tfor (let unitIndex = 0; unitIndex < this.afterHoursData.units.length; unitIndex++)\n\t\t\t{\n\t\t\t\t_loc2_ = this.afterHoursData.units[unitIndex];\n\t\t\t\tif (_loc2_.dayMinute === session.start)\n\t\t\t\t{\n\t\t\t\t\t_loc4_ = unitIndex;\n\t\t\t\t}\n\t\t\t\telse if (_loc2_.dayMinute === session.end)\n\t\t\t\t{\n\t\t\t\t\t_loc5_ = unitIndex;\n\t\t\t\t\tintervalSet.addInterval(_loc4_, _loc5_);\n\t\t\t\t\tif (unitIndex < this.afterHoursData.units.length - 1)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc2_ = this.afterHoursData.units[unitIndex + 1];\n\t\t\t\t\t\tsession = notnull(this.afterHoursData.getSessionForMinute(_loc2_.dayMinute));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomputeObjectPositions()\n\t\t{\n\t\t\tlet closePrice = NaN;\n\t\t\tfor (const objectType of Object.keys(this.objects))\n\t\t\t{\n\t\t\t\tconst objects = this.objects[objectType];\n\t\t\t\tfor (let objectIndex = objects.length - 1; objectIndex >= 0; objectIndex--)\n\t\t\t\t{\n\t\t\t\t\tconst object = objects[objectIndex];\n\t\t\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst objectPositions = this.getObjectPositionsInInterval(objects[objectIndex].time);\n\t\t\t\t\t\tobject.posInInterval = objectPositions.posInInterval;\n\t\t\t\t\t\tclosePrice = objectPositions.closePrice;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconst seriesPosition = this.getObjectPositions(objects[objectIndex].time, this.data);\n\t\t\t\t\t\tif (seriesPosition.pos >= 0 && seriesPosition.pos < notnull(seriesPosition.refDataSeries).units.length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobject.pos = seriesPosition.pos;\n\t\t\t\t\t\t\tobject.dayPos = seriesPosition.dayPos;\n\t\t\t\t\t\t\tobject.refDataSeries = seriesPosition.refDataSeries;\n\t\t\t\t\t\t\tclosePrice = notnull(seriesPosition.refDataSeries).units[seriesPosition.pos].close;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (objectType === \"dividend\")\n\t\t\t\t\t{\n\t\t\t\t\t\tconst dividand = <Dividend>object;\n\t\t\t\t\t\tdividand.yield = dividand.amount / closePrice;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tobjects.sort(StockAssociatedObject.compare);\n\t\t\t}\n\t\t}\n\n\t\tgetRelativeMinutesState(): number\n\t\t{\n\t\t\treturn this.relativeMinutesState;\n\t\t}\n\n\t\thasEvent(param1: string): boolean\n\t\t{\n\t\t\treturn !!this.events[param1];\n\t\t}\n\n\t\tmergePoints(dataUnits1: DataUnit[], dataUnits2: DataUnit[], param3: boolean, param4: number): DataUnit[]\n\t\t{\n\t\t\tconst dataUnits: DataUnit[] = [];\n\t\t\tlet count1 = 0;\n\t\t\tlet count2 = 0;\n\t\t\twhile (count1 < dataUnits1.length || count2 < dataUnits2.length)\n\t\t\t{\n\t\t\t\tif (count1 === dataUnits1.length)\n\t\t\t\t{\n\t\t\t\t\twhile (count2 < dataUnits2.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tdataUnits.push(dataUnits2[count2]);\n\t\t\t\t\t\tcount2++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (count2 === dataUnits2.length)\n\t\t\t\t{\n\t\t\t\t\twhile (count1 < dataUnits1.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tdataUnits.push(dataUnits1[count1]);\n\t\t\t\t\t\tcount1++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (dataUnits1[count1].time < dataUnits2[count2].time)\n\t\t\t\t{\n\t\t\t\t\tdataUnits.push(dataUnits1[count1++]);\n\t\t\t\t}\n\t\t\t\telse if (dataUnits1[count1].time === dataUnits2[count2].time)\n\t\t\t\t{\n\t\t\t\t\tlet unit: DataUnit;\n\t\t\t\t\tif (param3 && dataUnits1[count1].fake || dataUnits2[count2].realtime && param4 <= count1 || dataUnits2[count2].coveredDays < dataUnits1[count1].coveredDays)\n\t\t\t\t\t\tunit = dataUnits2[count2];\n\t\t\t\t\telse\n\t\t\t\t\t\tunit = dataUnits1[count1];\n\n\t\t\t\t\tdataUnits.push(unit);\n\t\t\t\t\tunit.addVolumeInfo(dataUnits1[count1]);\n\t\t\t\t\tunit.addVolumeInfo(dataUnits2[count2]);\n\t\t\t\t\tcount1++;\n\t\t\t\t\tcount2++;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdataUnits.push(dataUnits2[count2++]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dataUnits;\n\t\t}\n\n\t\tprivate extractSessions(param1: string, dataSeries: DataSeries)\n\t\t{\n\t\t\tparam1 = param1.slice(1, param1.length - 1);\n\t\t\tconst sessionParts = param1.split(\"],[\");\n\t\t\tfor (const sessionPart of sessionParts)\n\t\t\t{\n\t\t\t\tconst _loc5_ = sessionPart.split(',');\n\t\t\t\tdataSeries.addDataSession(Number(_loc5_[1]), Number(_loc5_[2]), _loc5_[0]);\n\t\t\t}\n\t\t}\n\n\t\tgetClosestDataUnitAfterMinute(minute: number): DataUnit | null\n\t\t{\n\t\t\tconst _loc2_ = this.afterHoursData.getRelativeMinuteIndex(minute);\n\t\t\tconst _loc3_ = this.afterHoursData.units[_loc2_ + 1];\n\t\t\tconst _loc4_ = this.data.getRelativeMinuteIndex(minute);\n\t\t\tconst _loc5_ = this.data.units[_loc4_ + 1];\n\t\t\tif (!_loc3_ && !_loc5_)\n\t\t\t\treturn null;\n\n\t\t\tif (!_loc3_)\n\t\t\t\treturn _loc5_;\n\n\t\t\tif (!_loc5_)\n\t\t\t\treturn _loc3_;\n\n\t\t\tif (minute > _loc5_.relativeMinutes && minute > _loc3_.relativeMinutes)\n\t\t\t\treturn null;\n\n\t\t\tif (this.visibleExtendedHours.length() === 0 || isNaN(_loc3_.relativeMinutes) || _loc3_.relativeMinutes < minute)\n\t\t\t\treturn _loc5_;\n\n\t\t\tif (_loc5_.relativeMinutes < minute)\n\t\t\t\treturn _loc3_;\n\n\t\t\tif (_loc5_.relativeMinutes - minute < _loc3_.relativeMinutes - minute)\n\t\t\t\treturn _loc5_;\n\n\t\t\treturn _loc3_;\n\t\t}\n\n\t\taddObject(object: any)\n\t\t{\n\t\t\tif (!object)\n\t\t\t\treturn;\n\n\t\t\tconst objectType = object._type ? object._type : \"newspin\";\n\t\t\tif (!this.objects[objectType])\n\t\t\t\tthis.objects[objectType] = [];\n\n\t\t\tlet _loc3_;\n\t\t\tif (object._date instanceof Date)\n\t\t\t\t_loc3_ = object._date.getTime();\n\t\t\telse if (!isNaN(object._date))\n\t\t\t\t_loc3_ = Number(object._date) * 1000;\n\t\t\telse\n\t\t\t\treturn;\n\n\t\t\tlet pos = NaN;\n\t\t\tlet dayPos = NaN;\n\n\t\t\tlet refDataSeries: DataSeries | null;\n\t\t\tlet seriesPositions: SeriesPosition[] | null;\n\t\t\tlet close: number;\n\t\t\tlet timezomeOffset: number;\n\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tconst objectPositions = this.getObjectPositionsInInterval(_loc3_);\n\t\t\t\tif (isNaN(objectPositions.exchangeTimezoneOffset))\n\t\t\t\t\treturn;\n\n\t\t\t\ttimezomeOffset = objectPositions.exchangeTimezoneOffset;\n\t\t\t\tclose = objectPositions.closePrice;\n\t\t\t\tseriesPositions = objectPositions.posInInterval;\n\t\t\t\trefDataSeries = null;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst objectPositions = this.getObjectPositions(_loc3_, this.data);\n\t\t\t\tconst dataSeries = notnull(objectPositions.refDataSeries);\n\t\t\t\tif (objectPositions.pos < 0 || objectPositions.pos >= dataSeries.units.length)\n\t\t\t\t\treturn;\n\n\t\t\t\ttimezomeOffset = dataSeries.units[objectPositions.pos].timezoneOffset;\n\t\t\t\tclose = dataSeries.units[objectPositions.pos].close;\n\t\t\t\tpos = objectPositions.pos;\n\t\t\t\tdayPos = notnull(objectPositions.dayPos);\n\t\t\t\trefDataSeries = objectPositions.refDataSeries;\n\t\t\t\tseriesPositions = null;\n\t\t\t}\n\t\t\tconst _loc12_ = Utils.newDateInTimezone(new Date(_loc3_), timezomeOffset);\n\t\t\tlet newObject: StockAssociatedObject;\n\t\t\tswitch (objectType)\n\t\t\t{\n\t\t\t\tcase \"newspin\":\n\t\t\t\t\tnewObject = new PinPoint(pos, dayPos, seriesPositions, _loc3_, _loc12_, object._id, this.quoteName, object._letter);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"split\":\n\t\t\t\t\tnewObject = new Split(pos, dayPos, seriesPositions, _loc3_, _loc12_, object._id, this.quoteName, object._old_shares, object._new_shares);\n\t\t\t\t\tif (this.objectInTheFuture(newObject, this.data))\n\t\t\t\t\t\treturn;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"dividend\":\n\t\t\t\t\tnewObject = new Dividend(pos, dayPos, seriesPositions, _loc3_, _loc12_, object._id, this.quoteName, object._amount, object._amount_currency, close);\n\t\t\t\t\tif (this.objectInTheFuture(newObject, this.data))\n\t\t\t\t\t\treturn;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"stock_dividend\":\n\t\t\t\t\tnewObject = new StockDividend(pos, dayPos, seriesPositions, _loc3_, _loc12_, object._id, this.quoteName, object._ticker, object._adjustment_factor);\n\t\t\t\t\tif (this.objectInTheFuture(newObject, this.data))\n\t\t\t\t\t\treturn;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tnewObject = new StockAssociatedObject(pos, dayPos, seriesPositions, _loc3_, _loc12_, object._id, this.quoteName);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tnewObject.originalObject = object;\n\t\t\tnewObject.refDataSeries = refDataSeries;\n\t\t\tthis.objects[objectType].push(newObject);\n\t\t}\n\n\t\teventDone(param1: string)\n\t\t{\n\t\t\tthis.events[param1] = ChartEventPriorities.DONE;\n\t\t}\n\n\t\tprivate addAHStreamForPointsInIntervals(dataUnits: DataUnit[])\n\t\t{\n\t\t\tthis.afterHoursData.setPointsInIntervalArray(Const.INTRADAY_INTERVAL, dataUnits);\n\t\t}\n\n\t\tdayIndexHasVisibleExtendedHours(numDays: number): boolean\n\t\t{\n\t\t\tif (this.visibleExtendedHours.length() === 0)\n\t\t\t\treturn false;\n\n\t\t\tconst unit = this.data.units[this.data.days[numDays]];\n\t\t\tif (numDays === this.data.days.length - 1)\n\t\t\t\treturn unit.relativeMinutes !== 0;\n\n\t\t\tconst nextUnit = this.data.units[this.data.days[numDays] + 1];\n\t\t\tif (this.data.minuteIsEndOfDataSession(unit.dayMinute) && this.data.minuteIsEndOfDataSession(nextUnit.dayMinute))\n\t\t\t\treturn false;\n\n\t\t\treturn nextUnit.relativeMinutes - unit.relativeMinutes !== 1;\n\t\t}\n\n\t\tisEmpty(): boolean\n\t\t{\n\t\t\treturn this.data.points.length === 0;\n\t\t}\n\n\t\tgetVisibleDataUnitForMinute(param1: number): DataUnit\n\t\t{\n\t\t\tif (this.visibleExtendedHours.length() > 0)\n\t\t\t\treturn notnull(this.getClosestDataUnitLessThen(param1));\n\n\t\t\tconst relativeMinuteIndex = this.data.getRelativeMinuteIndex(param1);\n\t\t\treturn this.data.units[relativeMinuteIndex];\n\t\t}\n\n\t\tprivate getObjectPositions(param1: number, dataSeries: DataSeries): SeriesPosition\n\t\t{\n\t\t\tlet _loc3_: number;\n\t\t\tconst units = dataSeries.units;\n\t\t\tconst days = dataSeries.days;\n\t\t\tlet timeIndex = DataSource.getTimeIndex(param1, units);\n\t\t\tif (timeIndex === -1)\n\t\t\t\treturn new SeriesPosition(null, -1, -1);\n\n\t\t\tif (timeIndex === 0 && param1 < units[0].time)\n\t\t\t\treturn new SeriesPosition(dataSeries, 0, 0);\n\n\t\t\tconst date = new Date(param1);\n\t\t\tif (units[timeIndex].dayMinute === dataSeries.marketCloseMinute)\n\t\t\t{\n\t\t\t\tlet unitDate = new Date(units[timeIndex].time);\n\t\t\t\tconst dateInTimezone1 = Utils.getDateInTimezone(unitDate, units[timeIndex].timezoneOffset);\n\t\t\t\tconst dateInTimezone2 = Utils.getDateInTimezone(date, units[timeIndex].timezoneOffset);\n\t\t\t\tif (dateInTimezone1 < dateInTimezone2)\n\t\t\t\t{\n\t\t\t\t\tlet _loc14_: number;\n\t\t\t\t\tif (timeIndex < units.length - 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tunitDate = new Date(units[timeIndex + 1].time);\n\t\t\t\t\t\t_loc14_ = Utils.getDateInTimezone(unitDate, units[timeIndex].timezoneOffset);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc14_ = dateInTimezone1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_loc14_ === dateInTimezone2)\n\t\t\t\t\t\t_loc3_ = days[dataSeries.getNextDayStart(timeIndex + 1)];\n\t\t\t\t\telse\n\t\t\t\t\t\t_loc3_ = timeIndex;\n\n\t\t\t\t\tif (timeIndex < units.length - 1 && units[timeIndex + 1].dayMinute === dataSeries.marketCloseMinute)\n\t\t\t\t\t\ttimeIndex = _loc3_;\n\t\t\t\t}\n\t\t\t\telse if (dateInTimezone1 > dateInTimezone2)\n\t\t\t\t{\n\t\t\t\t\tlet _loc15_: number;\n\t\t\t\t\tlet _loc16_: number;\n\t\t\t\t\tif (timeIndex > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc16_ = dataSeries.getPrevDayStart(timeIndex);\n\t\t\t\t\t\tunitDate = new Date(units[_loc16_].time);\n\t\t\t\t\t\t_loc15_ = Utils.getDateInTimezone(unitDate, units[timeIndex].timezoneOffset);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc16_ = timeIndex;\n\t\t\t\t\t\t_loc15_ = dateInTimezone1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_loc15_ === dateInTimezone2)\n\t\t\t\t\t\t_loc3_ = days[dataSeries.getPrevDayStart(timeIndex)];\n\t\t\t\t\telse\n\t\t\t\t\t\t_loc3_ = timeIndex;\n\n\t\t\t\t\tif (timeIndex === 0 || units[timeIndex - 1].dayMinute === dataSeries.marketCloseMinute)\n\t\t\t\t\t\ttimeIndex = _loc3_;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_loc3_ = timeIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_loc3_ = days[dataSeries.getNextDayStart(timeIndex)];\n\t\t\t}\n\t\t\tconst unit = units[timeIndex];\n\t\t\tlet nextUnit: DataUnit | null = null;\n\t\t\tif (timeIndex < units.length - 1)\n\t\t\t\tnextUnit = units[timeIndex + 1];\n\n\t\t\tlet _loc10_ = dataSeries;\n\t\t\tif (!nextUnit && unit.relativeMinutes !== 0 || nextUnit && unit.dayMinute === dataSeries.marketCloseMinute && nextUnit.dayMinute === dataSeries.marketOpenMinute && nextUnit.relativeMinutes - unit.relativeMinutes > 1)\n\t\t\t{\n\t\t\t\tif (this.afterHoursData.units.length !== 0)\n\t\t\t\t{\n\t\t\t\t\tif (!nextUnit)\n\t\t\t\t\t{\n\t\t\t\t\t\ttimeIndex = this.afterHoursData.units.length - 1;\n\t\t\t\t\t\tnextUnit = this.afterHoursData.units[timeIndex];\n\t\t\t\t\t}\n\t\t\t\t\ttimeIndex = DataSource.getTimeIndex(param1, this.afterHoursData.units);\n\t\t\t\t\t_loc3_ = DataSource.getTimeIndex(nextUnit.time, this.afterHoursData.units);\n\t\t\t\t\t_loc10_ = this.afterHoursData;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new SeriesPosition(_loc10_, timeIndex, _loc3_);\n\t\t}\n\n\t\tobjectsToString(): string\n\t\t{\n\t\t\tlet value = \"\";\n\t\t\tfor (const objectType of Object.keys(this.objects))\n\t\t\t\tvalue += \", \" + this.objects[objectType].toString();\n\t\t\treturn value;\n\t\t}\n\n\t\tmarkEvent(chartEvent: ChartEvent, chartEventPriority: ChartEventPriorities): boolean\n\t\t{\n\t\t\tconst eventName = chartEvent.getEventName();\n\t\t\tif (chartEvent.period === \"5Y\")\n\t\t\t{\n\t\t\t\tif (this.hasEvent(chartEvent.getEventName(\"40Y\")))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.hasEvent(eventName))\n\t\t\t{\n\t\t\t\tif (this.events[eventName] < chartEventPriority)\n\t\t\t\t{\n\t\t\t\t\tthis.events[eventName] = chartEventPriority;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.events[eventName] = chartEventPriority;\n\t\t\treturn true;\n\t\t}\n\n\t\tclearAllObjects(objectType: string)\n\t\t{\n\t\t\tthis.objects[objectType] = [];\n\t\t}\n\n\t\tgetEndOfDayDataUnitFor(minute: number): DataUnit\n\t\t{\n\t\t\tlet minuteMetaIndex = DataSource.getMinuteMetaIndex(minute, this.data.days, this.data.units);\n\t\t\tif (minuteMetaIndex === -1)\n\t\t\t\treturn this.data.units[this.data.days[0]];\n\n\t\t\tlet _loc3_ = this.data.days[minuteMetaIndex];\n\t\t\tif (_loc3_ + 1 < this.data.units.length && this.data.minuteIsEndOfDataSession(this.data.units[_loc3_ + 1].dayMinute))\n\t\t\t{\n\t\t\t\tif (minute === this.data.units[_loc3_].relativeMinutes)\n\t\t\t\t\treturn this.data.units[_loc3_];\n\n\t\t\t\treturn this.data.units[_loc3_ + 1];\n\t\t\t}\n\t\t\tif (_loc3_ + 1 < this.data.units.length && minute >= this.data.units[_loc3_ + 1].relativeMinutes)\n\t\t\t{\n\t\t\t\tminuteMetaIndex++;\n\t\t\t\t_loc3_ = this.data.days[minuteMetaIndex];\n\t\t\t}\n\t\t\tif (!this.dayIndexHasVisibleExtendedHours(minuteMetaIndex))\n\t\t\t{\n\t\t\t\t_loc3_ = this.data.days[minuteMetaIndex];\n\t\t\t\treturn this.data.units[_loc3_];\n\t\t\t}\n\t\t\tconst _loc4_ = DataSource.getMinuteMetaIndex(minute, this.afterHoursData.days, this.afterHoursData.units);\n\t\t\tlet _loc5_ = this.afterHoursData.days[_loc4_];\n\t\t\tif (minute > this.afterHoursData.units[_loc5_].relativeMinutes && _loc4_ + 1 < this.afterHoursData.days.length)\n\t\t\t\t_loc5_ = this.afterHoursData.days[_loc4_ + 1];\n\n\t\t\tconst _loc6_ = this.afterHoursData.units[_loc5_];\n\t\t\tlet _loc7_ = this.data.units[_loc3_];\n\t\t\tif (minute > _loc7_.relativeMinutes && minuteMetaIndex + 1 < this.data.days.length)\n\t\t\t{\n\t\t\t\t_loc3_ = this.data.days[minuteMetaIndex + 1];\n\t\t\t\t_loc7_ = this.data.units[_loc3_];\n\t\t\t}\n\t\t\tconst closestDataUnit = this.getClosestDataUnitLessThen(minute);\n\t\t\tif (!closestDataUnit)\n\t\t\t\treturn _loc7_;\n\n\t\t\tif (Utils.compareUtcDates(closestDataUnit.exchangeDateInUTC, _loc7_.exchangeDateInUTC) === 0 && Utils.compareUtcDates(closestDataUnit.exchangeDateInUTC, _loc6_.exchangeDateInUTC) === 0)\n\t\t\t{\n\t\t\t\tif (_loc6_.time > _loc7_.time)\n\t\t\t\t\treturn _loc6_;\n\n\t\t\t\treturn _loc7_;\n\t\t\t}\n\t\t\tif (Utils.compareUtcDates(closestDataUnit.exchangeDateInUTC, _loc6_.exchangeDateInUTC) === 0)\n\t\t\t\treturn _loc6_;\n\n\t\t\tif (Utils.compareUtcDates(closestDataUnit.exchangeDateInUTC, _loc7_.exchangeDateInUTC) === 0)\n\t\t\t\treturn _loc7_;\n\n\t\t\treturn _loc7_;\n\t\t}\n\n\t\tprivate checkHeaderSanity(map: Map<string>, dataSeries: DataSeries)\n\t\t{\n\t\t\tconst closeMinute = map[DataSource.MARKET_CLOSE_MINUTE_STR];\n\t\t\tconst openMinute = map[DataSource.MARKET_OPEN_MINUTE_STR];\n\t\t\tif (openMinute)\n\t\t\t\tdataSeries.marketOpenMinute = Number(openMinute);\n\n\t\t\tif (closeMinute)\n\t\t\t{\n\t\t\t\tdataSeries.marketCloseMinute = Number(closeMinute);\n\t\t\t\tif (this.quoteName.indexOf(\"CURRENCY\") >= 0)\n\t\t\t\t\tdataSeries.marketCloseMinute -= (dataSeries.marketCloseMinute - dataSeries.marketOpenMinute) % this.intradayMinutesInterval;\n\t\t\t}\n\t\t\tif (Number(closeMinute) - Number(openMinute) < 30)\n\t\t\t{\n\t\t\t\tdataSeries.marketCloseMinute = Const.MARKET_CLOSE_MINUTE;\n\t\t\t\tdataSeries.marketOpenMinute = Const.MARKET_OPEN_MINUTE;\n\t\t\t}\n\n\t\t\tif (map[DataSource.DATA_SESSIONS_STR])\n\t\t\t\tthis.extractSessions(map[DataSource.DATA_SESSIONS_STR], dataSeries);\n\t\t\telse\n\t\t\t\tdataSeries.addDataSession(dataSeries.marketOpenMinute, dataSeries.marketCloseMinute, Const.REGULAR_MARKET_NAME);\n\n\t\t\tdataSeries.marketDayLength = dataSeries.allSessionsLength();\n\t\t}\n\n\t\tsetRelativeMinutesState(state: number)\n\t\t{\n\t\t\tthis.relativeMinutesState = state;\n\t\t}\n\n\t\tprivate getObjPos(objectType: string, id: number): number\n\t\t{\n\t\t\tif (this.objects[objectType] === undefined)\n\t\t\t\treturn -1;\n\n\t\t\tfor (let objectIndex = this.objects[objectType].length - 1; objectIndex >= 0; objectIndex--)\n\t\t\t{\n\t\t\t\tif (this.objects[objectType][objectIndex].id === id)\n\t\t\t\t\treturn objectIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tprivate addFakeDataUnits(dataUnits: DataUnit[], dataUnit: DataUnit, dataSeries: DataSeries, param4: number, direction: Directions, param6 = 0)\n\t\t{\n\t\t\tif (param4 === 0)\n\t\t\t\treturn;\n\n\t\t\tfor (let _loc8_ = param4; _loc8_ > 0; _loc8_--)\n\t\t\t{\n\t\t\t\tconst fakeDataUnit = new DataUnit(dataUnit.close, dataUnit.high, dataUnit.low, dataUnit.open);\n\t\t\t\tfakeDataUnit.volumes[this.baseInterval] = 0;\n\t\t\t\tfakeDataUnit.intervals[0] = this.baseInterval;\n\t\t\t\tlet time = param6 * Const.MS_PER_MINUTE;\n\t\t\t\tswitch (direction)\n\t\t\t\t{\n\t\t\t\t\tcase Directions.BACKWARD:\n\t\t\t\t\t\ttime += dataUnit.time - _loc8_ * this.baseInterval * 1000;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Directions.FORWARD:\n\t\t\t\t\t\ttime += dataUnit.time + (param4 - _loc8_ + 1) * this.baseInterval * 1000;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfakeDataUnit.setDate(time, dataUnit.timezoneOffset);\n\t\t\t\tfakeDataUnit.fake = true;\n\t\t\t\tfakeDataUnit.duplicate = dataSeries.minuteIsStartOfDataSession(fakeDataUnit.dayMinute);\n\t\t\t\tdataUnits.push(fakeDataUnit);\n\t\t\t}\n\t\t}\n\n\t\tclearAllIndicatorsOnAddData(param1: number)\n\t\t{\n\t\t\tfor (const indicatorKey of Object.keys(this.indicators))\n\t\t\t{\n\t\t\t\tif (this.indicators[indicatorKey].clearAllOnAddData)\n\t\t\t\t\tthis.indicators[indicatorKey].clear();\n\t\t\t\telse\n\t\t\t\t\tthis.indicators[indicatorKey].clear(param1);\n\t\t\t}\n\t\t}\n\n\t\tclearCoalescedChildren()\n\t\t{\n\t\t\tthis.data.clearCoalescedChildren();\n\t\t}\n\n\t\tclearAllIndicators()\n\t\t{\n\t\t\tfor (const indicatorKey of Object.keys(this.indicators))\n\t\t\t\tthis.indicators[indicatorKey].clear();\n\t\t}\n\n\t\tisTradeHaltedInterday(dataUnit1: DataUnit, dataUnit2: DataUnit, param3: number): boolean\n\t\t{\n\t\t\tif (param3 < Const.DAILY_INTERVAL)\n\t\t\t\treturn false;\n\n\t\t\tif (dataUnit1.volumes[param3] > 0)\n\t\t\t\treturn false;\n\n\t\t\treturn dataUnit2.close === dataUnit1.close && (isNaN(dataUnit1.open) || dataUnit1.open === dataUnit1.close) && (isNaN(dataUnit1.high) || dataUnit1.high === dataUnit1.close) && (isNaN(dataUnit1.low) || dataUnit1.low === dataUnit1.close);\n\t\t}\n\n\t\tremoveObject(objectType: string, id: number)\n\t\t{\n\t\t\tconst objPos = this.getObjPos(objectType, id);\n\t\t\tif (objPos !== -1)\n\t\t\t\tthis.objects[objectType].splice(objPos, 1);\n\t\t}\n\n\t\tprivate addAfterHoursUnitToLastMinute(dataUnit: DataUnit, dataUnits: DataUnit[], startEndPair: StartEndPair | undefined, dataSeries: DataSeries)\n\t\t{\n\t\t\tlet _loc5_ = 0;\n\t\t\tif (!startEndPair)\n\t\t\t\treturn;\n\n\t\t\tconst sessionIndex = dataSeries.getSessionIndex(startEndPair.start);\n\t\t\tif (dataUnits.length === 0)\n\t\t\t{\n\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnit, dataSeries, 0, sessionIndex, Directions.BACKWARD);\n\t\t\t\tthis.makeDataUnitEndOfDay(dataUnit, dataUnits, startEndPair, dataSeries);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet lastUnit = dataUnits[dataUnits.length - 1];\n\t\t\tconst _loc8_ = notnull(dataSeries.getSessionForMinute(lastUnit.dayMinute));\n\t\t\tconst _loc9_ = dataSeries.getSessionIndex(lastUnit.dayMinute);\n\t\t\tif (lastUnit && lastUnit.dayMinute < _loc8_.end)\n\t\t\t{\n\t\t\t\t_loc5_ = (_loc8_.end - lastUnit.dayMinute) / this.baseMinutesInterval;\n\t\t\t\tthis.addFakeDataUnits(dataUnits, lastUnit, dataSeries, _loc5_, Directions.FORWARD);\n\t\t\t\tlastUnit = dataUnits[dataUnits.length - 1];\n\t\t\t}\n\t\t\tconst _loc10_ = (dataUnit.time - lastUnit.time) / Const.MS_PER_MINUTE;\n\t\t\tconst _loc11_ = startEndPair.end - startEndPair.start;\n\t\t\tconst _loc12_ = dataUnit.dayMinute - startEndPair.end;\n\t\t\tif (_loc10_ > _loc12_ + _loc11_)\n\t\t\t{\n\t\t\t\tif (!DataSource.unitsInDifferentDays(lastUnit, dataUnit))\n\t\t\t\t{\n\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc9_ + 1, sessionIndex, Directions.FORWARD);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnits[dataUnits.length - 1], dataSeries, _loc9_ + 1, dataSeries.dataSessions.length(), Directions.FORWARD);\n\t\t\t\t\tthis.addFakeDataUnitsForSessions(dataUnits, dataUnit, dataSeries, 0, sessionIndex, Directions.BACKWARD);\n\t\t\t\t}\n\t\t\t\tthis.makeDataUnitEndOfDay(dataUnit, dataUnits, startEndPair, dataSeries);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlastUnit.close = dataUnit.close;\n\t\t\t\tif (!isNaN(lastUnit.high) && lastUnit.high < lastUnit.close)\n\t\t\t\t\tlastUnit.high = lastUnit.close;\n\n\t\t\t\tif (!isNaN(lastUnit.low) && lastUnit.low > lastUnit.close)\n\t\t\t\t\tlastUnit.low = lastUnit.close;\n\n\t\t\t\tconst _loc13_ = dataUnit.intervals[0];\n\t\t\t\tlastUnit.volumes[_loc13_] += dataUnit.volumes[_loc13_];\n\t\t\t}\n\t\t}\n\n\t\tprivate getDataUnitNoValidation(param1: string[], columnTypes: ColumnTypes[], param3: Map<string>): DataUnit\n\t\t{\n\t\t\tconst dataUnit = new DataUnit(NaN, NaN, NaN, NaN);\n\t\t\tfor (let columnTypeIndex = 0; columnTypeIndex < columnTypes.length; columnTypeIndex++)\n\t\t\t{\n\t\t\t\tif (columnTypes[columnTypeIndex] === ColumnTypes.COL_DATE_TYPE)\n\t\t\t\t{\n\t\t\t\t\tlet time: number;\n\t\t\t\t\tif (isNaN(Number(param1[columnTypeIndex])))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.lastAbsTime = Number(param1[columnTypeIndex].substr(1));\n\t\t\t\t\t\ttime = this.lastAbsTime * 1000;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ttime = (this.lastAbsTime + Number(param1[columnTypeIndex]) * this.baseInterval) * 1000;\n\t\t\t\t\t}\n\t\t\t\t\tdataUnit.setDate(time, this.timezoneOffset);\n\t\t\t\t}\n\t\t\t\telse if (columnTypes[columnTypeIndex] === ColumnTypes.COL_CLOSE_TYPE)\n\t\t\t\t{\n\t\t\t\t\tdataUnit.close = Number(param1[columnTypeIndex]);\n\t\t\t\t}\n\t\t\t\telse if (columnTypes[columnTypeIndex] === ColumnTypes.COL_OPEN_TYPE)\n\t\t\t\t{\n\t\t\t\t\tdataUnit.open = Number(param1[columnTypeIndex]);\n\t\t\t\t}\n\t\t\t\telse if (columnTypes[columnTypeIndex] === ColumnTypes.COL_LOW_TYPE)\n\t\t\t\t{\n\t\t\t\t\tdataUnit.low = Number(param1[columnTypeIndex]);\n\t\t\t\t}\n\t\t\t\telse if (columnTypes[columnTypeIndex] === ColumnTypes.COL_HIGH_TYPE)\n\t\t\t\t{\n\t\t\t\t\tdataUnit.high = Number(param1[columnTypeIndex]);\n\t\t\t\t}\n\t\t\t\telse if (columnTypes[columnTypeIndex] === ColumnTypes.COL_VOLUME_TYPE)\n\t\t\t\t{\n\t\t\t\t\t// TODO\n\t\t\t\t\tdataUnit.volumes[Number(param3[DataSource.INTERVAL_STR])] = Number(param1[columnTypeIndex]);\n\t\t\t\t\tdataUnit.intervals.push(this.baseInterval);\n\t\t\t\t}\n\t\t\t\telse if (columnTypes[columnTypeIndex] === ColumnTypes.COL_CDAYS_TYPE)\n\t\t\t\t{\n\t\t\t\t\tdataUnit.coveredDays = Number(param1[columnTypeIndex]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dataUnit;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class DataUnit\n\t{\n\t\tlogHigh: number;\n\t\tduplicate = false;\n\t\ttime: number;\n\t\treadonly intervals: number[] = [];\n\t\tdayMinute: number;\n\t\tlogClose: number;\n\t\texchangeDateInUTC: Date;\n\t\treadonly volumes: { [key: number]: number } = {};\n\t\tfake = false;\n\t\tcoveredDays: number = 0;\n\t\ttimezoneOffset: number;\n\t\tlogOpen: number;\n\t\trelativeMinutes: number;\n\t\tweeklyXPos: number;\n\t\tlogLow: number;\n\t\trealtime = false;\n\n\t\tconstructor(public close: number, public high: number, public low: number, public open: number)\n\t\t{\n\t\t}\n\n\t\ttoString(): string\n\t\t{\n\t\t\tconst exchangeDateInUTC = this.exchangeDateInUTC;\n\t\t\tlet dateString = Utils.utcDateToString(exchangeDateInUTC);\n\t\t\tif (!isNaN(this.relativeMinutes))\n\t\t\t\tdateString += \"[relMin:\" + this.relativeMinutes + ']';\n\n\t\t\treturn this.time + ' ' + this.dayMinute + ' ' + dateString + ' ' + close;\n\t\t}\n\n\t\tgetHighLogValue(scaleType: string): number\n\t\t{\n\t\t\tif (scaleType === Const.LOG_VSCALE || scaleType === Const.NEW_LOG_VSCALE)\n\t\t\t\treturn this.logHigh || (this.logHigh = Utils.logTransform(this.high));\n\n\t\t\treturn this.high;\n\t\t}\n\n\t\tgetLowLogValue(scaleType: string): number\n\t\t{\n\t\t\tif (scaleType === Const.LOG_VSCALE || scaleType === Const.NEW_LOG_VSCALE)\n\t\t\t\treturn this.logLow || (this.logLow = Utils.logTransform(this.low));\n\n\t\t\treturn this.low;\n\t\t}\n\n\t\tsetExchangeDateInUTC(time: number, timezoneOffset: number)\n\t\t{\n\t\t\tthis.timezoneOffset = timezoneOffset;\n\t\t\tthis.time = time - timezoneOffset * Const.MS_PER_MINUTE;\n\t\t\tthis.exchangeDateInUTC = new Date(time);\n\t\t\tthis.dayMinute = this.exchangeDateInUTC.getUTCHours() * 60 + this.exchangeDateInUTC.getUTCMinutes();\n\t\t\tassert(!isNaN(this.dayMinute));\n\t\t}\n\n\t\taddVolumeInfo(dataUnit: DataUnit)\n\t\t{\n\t\t\tfor (const interval of dataUnit.intervals)\n\t\t\t{\n\t\t\t\tif (this.volumes[interval] === undefined)\n\t\t\t\t{\n\t\t\t\t\tthis.volumes[interval] = dataUnit.volumes[interval];\n\t\t\t\t\tthis.intervals.push(interval);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgetOpenLogValue(scaleType: string): number\n\t\t{\n\t\t\tif (scaleType === Const.LOG_VSCALE || scaleType === Const.NEW_LOG_VSCALE)\n\t\t\t\treturn this.logOpen || (this.logOpen = Utils.logTransform(this.open));\n\n\t\t\treturn this.open;\n\t\t}\n\n\t\tsetData(param1: string, param2: string): boolean\n\t\t{\n\t\t\tif (isNaN(Number(param2)))\n\t\t\t\treturn false;\n\n\t\t\t(<any>this)[param1] = Number(param2);\n\t\t\treturn true;\n\t\t}\n\n\t\tgetCloseLogValue(scaleType: string): number\n\t\t{\n\t\t\tif (scaleType === Const.LOG_VSCALE || scaleType === Const.NEW_LOG_VSCALE)\n\t\t\t\treturn this.logClose || (this.logClose = Utils.logTransform(this.close));\n\n\t\t\treturn this.close;\n\t\t}\n\n\t\tsetDate(time: number, timezoneOffset: number)\n\t\t{\n\t\t\tthis.timezoneOffset = timezoneOffset;\n\t\t\tthis.time = time;\n\t\t\tthis.exchangeDateInUTC = new Date(time + timezoneOffset * 60000);\n\t\t\tthis.dayMinute = this.exchangeDateInUTC.getUTCHours() * 60 + this.exchangeDateInUTC.getUTCMinutes();\n\t\t\tassert(!isNaN(this.dayMinute));\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import com.google.i18n.locale.DateTimeLocale;\n\t// import flash.display.Sprite;\n\n\texport class DayVisibility\n\t{\n\t\tdataUnit: DataUnit;\n\t\tstartMinute: number;\n\t\tcoveredMinutes: number;\n\t}\n\n\texport class DateLinesLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tprivate static readonly HOUR_INTERVALS: ReadonlyArray<number> = [60, 2 * 60, 4 * 60];\n\t\tprivate static readonly WEEK_TEXT_MIN_DAYS = 3;\n\t\tprivate static readonly MONTH_TEXT_MIN_PIXELS = 55;\n\t\tprivate static readonly FULL_YEAR_TEXT_MAX_WIDTH = 40;\n\t\tprivate static readonly DISPLAY_HOURS_MIN_DAY_WIDTH = 180;\n\n\t\tstatic readonly DAY_START_TEXT_MAX_WIDTH = 65;\n\n\t\ttopMargin = 0;\n\t\ttickPosition = TickPositions.TOP;\n\n\t\tgetDayPixel(viewPoint: ViewPoint, dataSeries: DataSeries, param3: number): number\n\t\t{\n\t\t\treturn (viewPoint.getDisplayManager().isDifferentMarketSessionComparison() ? 1 : (dataSeries.marketDayLength + param3)) * viewPoint.minutePix;\n\t\t}\n\n\t\tprivate getHourTextFromUtcDate(date: Date): string\n\t\t{\n\t\t\t//const _loc2_ = param1.getUTCHours();\n\t\t\tconst minutes = date.getUTCMinutes();\n\t\t\tlet pattern = \"HH:mm\";\n\t\t\tif (minutes === 0 && !Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\tpattern = \"h a\";\n\n\t\t\treturn i18n.locale.DateTimeLocale.formatDateTime(pattern, date, true).toLowerCase();\n\t\t}\n\n\t\tprivate adjustVisibleDaysWithAfterHours(dayVisibilities: DayVisibility[])\n\t\t{\n\t\t\tconst afterHoursData = this.dataSource.afterHoursData;\n\t\t\tconst visibleExtendedHours = this.dataSource.visibleExtendedHours;\n\n\t\t\tfor (let intervalIndex = 0; intervalIndex < visibleExtendedHours.length(); intervalIndex++)\n\t\t\t{\n\t\t\t\tconst interval = visibleExtendedHours.getIntervalAt(intervalIndex);\n\t\t\t\tconst end = interval.end;\n\t\t\t\tconst start = interval.start;\n\t\t\t\tconst startTime = afterHoursData.units[start].time;\n\t\t\t\tconst totalMinutes = afterHoursData.units[end].dayMinute - afterHoursData.units[start].dayMinute;\n\t\t\t\tconst index = Utils.binarySearch(dayVisibilities, startTime, this.compareVisibleDayPairWithTime, this);\n\t\t\t\tif (index !== -1)\n\t\t\t\t{\n\t\t\t\t\tif (index < dayVisibilities.length && dayVisibilities[index].dataUnit.time === startTime)\n\t\t\t\t\t{\n\t\t\t\t\t\tdayVisibilities[index].coveredMinutes += totalMinutes;\n\t\t\t\t\t\tdayVisibilities[index].dataUnit = afterHoursData.units[end];\n\t\t\t\t\t}\n\t\t\t\t\telse if (index + 1 < dayVisibilities.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tdayVisibilities[index + 1].startMinute = dayVisibilities[index + 1].startMinute - totalMinutes;\n\t\t\t\t\t\tdayVisibilities[index + 1].coveredMinutes = dayVisibilities[index + 1].coveredMinutes + totalMinutes;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate drawVerticalLines(context: Context)\n\t\t{\n\t\t\tconst data = this.dataSource.data;\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tif (!data || this.dataSource.isEmpty())\n\t\t\t\treturn;\n\n\t\t\tthis.graphics.clear();\n\t\t\tconst relativeMinuteIndex = data.getRelativeMinuteIndex(viewPoint.getLastMinute());\n\t\t\tconst dayPixel = this.getDayPixel(viewPoint, data, 0);\n\t\t\tconst _loc7_ = !!Const.INDICATOR_ENABLED ? viewPoint.getDetailLevelForTechnicalStyle() : viewPoint.getDetailLevel();\n\t\t\tif (!viewPoint.getDisplayManager().isDifferentMarketSessionComparison() && dayPixel > Const.MIN_DAY_WIDTH_FOR_INTRADAY && _loc7_ <= Intervals.DAILY)\n\t\t\t{\n\t\t\t\tthis.drawDayStarts(this, this.textCanvas, this.getVisibleDaysArray(context), _loc7_);\n\t\t\t}\n\t\t\telse if (dayPixel > 15)\n\t\t\t{\n\t\t\t\tthis.drawWeekStarts(this, this.textCanvas, 1, relativeMinuteIndex);\n\t\t\t}\n\t\t\telse if (dayPixel > 2)\n\t\t\t{\n\t\t\t\tthis.drawMonthStarts(this, this.textCanvas, 1, relativeMinuteIndex);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.drawYearStarts(this, this.textCanvas, 1, relativeMinuteIndex);\n\t\t\t}\n\t\t}\n\n\t\tprivate getMinutesSkip(): number\n\t\t{\n\t\t\tconst _loc1_ = this.viewPoint.count * ViewPoint.MIN_DISTANCE_BETWEEN_V_LINES / (this.viewPoint.maxx - this.viewPoint.minx);\n\t\t\tlet _loc2_ = DateLinesLayer.HOUR_INTERVALS.length - 1;\n\t\t\twhile (DateLinesLayer.HOUR_INTERVALS[_loc2_] >= _loc1_ && _loc2_ > 0)\n\t\t\t\t_loc2_--;\n\n\t\t\treturn DateLinesLayer.HOUR_INTERVALS[_loc2_];\n\t\t}\n\n\t\tprivate drawWeekStarts(displayObject: flash.display.DisplayObject, sprite: flash.display.Sprite, param3: number, param4: number)\n\t\t{\n\t\t\tconst data = this.dataSource.data;\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tlet _loc8_ = data.days.length - 1;\n\t\t\twhile (_loc8_ > 0 && data.days[_loc8_] > param4)\n\t\t\t\t_loc8_ -= param3;\n\n\t\t\t_loc8_ += param3;\n\t\t\tif (_loc8_ > data.days.length - 1)\n\t\t\t\t_loc8_ = data.days.length - 1;\n\n\t\t\tlet _loc9_ = data.fridays.length - 1;\n\t\t\twhile (_loc9_ >= 0 && data.fridays[_loc9_] > data.days[_loc8_])\n\t\t\t\t_loc9_ -= param3;\n\n\t\t\tconst dayPixel = this.getDayPixel(viewPoint, data, 2);\n\t\t\tlet xPos = viewPoint.getXPos(data.units[data.days[_loc8_]]);\n\t\t\tconst _loc12_ = viewPoint.maxy - ViewPoint.TEXT_VERTICAL_OFFSET - ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tlet _loc13_ = Number.MAX_VALUE;\n\t\t\tdo\n\t\t\t{\n\t\t\t\tif (data.days[_loc8_] === data.fridays[_loc9_])\n\t\t\t\t{\n\t\t\t\t\txPos = viewPoint.getXPos(data.units[data.days[_loc8_]]);\n\t\t\t\t\tconst _loc14_ = viewPoint.miny + this.topMargin;\n\t\t\t\t\tconst _loc15_ = viewPoint.maxy - viewPoint.bottomTextHeight;\n\t\t\t\t\tAbstractLayer.drawVerticalLine(displayObject, xPos, Const.DAY_LINE_COLOR, Const.DAY_LINE_ALPHA, _loc14_, _loc15_, ViewPoint.TICK_SIZE_BIG, this.tickPosition);\n\t\t\t\t\tif (viewPoint.bottomTextHeight > 0 && _loc8_ >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst exchangeDateInUTC = data.units[data.days[_loc8_]].exchangeDateInUTC;\n\t\t\t\t\t\tconst weekStartDateFormat = this.getWeekStartDateFormat();\n\t\t\t\t\t\tconst _loc18_ = i18n.locale.DateTimeLocale.formatDateTime(weekStartDateFormat, exchangeDateInUTC, true);\n\t\t\t\t\t\tconst _loc5_ = xPos - ViewPoint.TEXT_FIELD_WIDTH / 2;\n\t\t\t\t\t\tconst _loc21_ = ViewPoint.addTextField(sprite, _loc18_, _loc5_, _loc12_, ViewPoint.TEXT_FIELD_WIDTH, ViewPoint.TEXT_FIELD_HEIGHT, \"center\", viewPoint.hourTextFormat);\n\t\t\t\t\t\tif (_loc13_ - _loc8_ >= DateLinesLayer.WEEK_TEXT_MIN_DAYS)\n\t\t\t\t\t\t\t_loc13_ = _loc8_;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsprite.removeChild(_loc21_);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconst _loc14_ = viewPoint.miny + this.topMargin;\n\t\t\t\t\tconst _loc15_ = viewPoint.maxy - viewPoint.bottomTextHeight;\n\t\t\t\t\tAbstractLayer.drawVerticalLine(displayObject, xPos, Const.DAY_LINE_COLOR, 0, _loc14_, _loc15_, ViewPoint.TICK_SIZE_SMALL, this.tickPosition);\n\t\t\t\t}\n\t\t\t\t_loc8_ -= param3;\n\t\t\t\tif (data.fridays[_loc9_] > data.days[_loc8_])\n\t\t\t\t\t_loc9_--;\n\n\t\t\t\txPos -= dayPixel;\n\t\t\t}\n\t\t\twhile (xPos >= viewPoint.minx && _loc8_ > 0);\n\t\t}\n\n\t\tprivate drawYearStarts(displayObject: flash.display.DisplayObject, sprite: flash.display.Sprite, param3: number, param4: number)\n\t\t{\n\t\t\tconst data = this.dataSource.data;\n\t\t\tif (data.years.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tlet _loc7_ = data.years.length - 1;\n\t\t\tconst dayPixel = this.getDayPixel(viewPoint, data, 1);\n\t\t\tlet xPos = viewPoint.getXPos(data.units[data.years[_loc7_]]);\n\t\t\tlet _loc10_ = xPos + 250 * dayPixel;\n\t\t\tconst _loc12_ = viewPoint.maxy - ViewPoint.TEXT_VERTICAL_OFFSET - ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tdo\n\t\t\t{\n\t\t\t\txPos = viewPoint.getXPos(data.units[data.years[_loc7_]]);\n\t\t\t\tconst _loc13_ = viewPoint.miny + this.topMargin;\n\t\t\t\tconst _loc14_ = viewPoint.maxy - viewPoint.bottomTextHeight;\n\t\t\t\tAbstractLayer.drawVerticalLine(displayObject, xPos - dayPixel, Const.DAY_LINE_COLOR, Const.DAY_LINE_ALPHA, _loc13_, _loc14_, ViewPoint.TICK_SIZE_BIG, this.tickPosition);\n\t\t\t\tif (viewPoint.bottomTextHeight > 0 && _loc7_ >= 0)\n\t\t\t\t{\n\t\t\t\t\tlet fullYear = data.units[data.years[_loc7_]].exchangeDateInUTC.getUTCFullYear().toString();\n\t\t\t\t\tif (_loc10_ - xPos < DateLinesLayer.FULL_YEAR_TEXT_MAX_WIDTH)\n\t\t\t\t\t\tfullYear = \"\\'\" + fullYear.substr(2, 2);\n\n\t\t\t\t\tViewPoint.addTextField(sprite, fullYear, xPos, _loc12_, _loc10_ - xPos, ViewPoint.TEXT_FIELD_HEIGHT, \"center\", viewPoint.dateTextFormat);\n\t\t\t\t}\n\t\t\t\t_loc7_ -= param3;\n\t\t\t\t_loc10_ = xPos;\n\t\t\t}\n\t\t\twhile (xPos > viewPoint.minx && _loc7_ >= 0);\n\t\t}\n\n\t\tprivate drawMonthStarts(displayObject: flash.display.DisplayObject, sprite: flash.display.Sprite, param3: number, param4: number)\n\t\t{\n\t\t\tconst data = this.dataSource.data;\n\t\t\tif (data.firsts.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tlet _loc7_ = data.firsts.length - 1;\n\t\t\twhile (data.firsts[_loc7_] > param4)\n\t\t\t\t_loc7_ -= param3;\n\n\t\t\tconst dayPixel = this.getDayPixel(viewPoint, data, 0);\n\t\t\tlet xPos = viewPoint.getXPos(data.units[data.firsts[_loc7_]]);\n\t\t\tlet _loc10_ = xPos + 20 * dayPixel;\n\t\t\tlet _loc11_ = _loc10_;\n\t\t\tconst _loc13_ = viewPoint.maxy - ViewPoint.TEXT_VERTICAL_OFFSET - ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tconst _loc14_ = dayPixel * 20 < 70;\n\t\t\tdo\n\t\t\t{\n\t\t\t\txPos = viewPoint.getXPos(data.units[data.firsts[_loc7_]]);\n\t\t\t\tconst _loc15_ = viewPoint.miny + this.topMargin;\n\t\t\t\tconst _loc16_ = viewPoint.maxy - viewPoint.bottomTextHeight;\n\t\t\t\tAbstractLayer.drawVerticalLine(displayObject, xPos - dayPixel, Const.DAY_LINE_COLOR, Const.DAY_LINE_ALPHA, _loc15_, _loc16_, ViewPoint.TICK_SIZE_BIG, this.tickPosition);\n\t\t\t\tif (viewPoint.bottomTextHeight > 0 && _loc7_ >= 0)\n\t\t\t\t{\n\t\t\t\t\tconst exchangeDateInUTC = data.units[data.firsts[_loc7_]].exchangeDateInUTC;\n\t\t\t\t\tconst monthStartDateFormat = this.getMonthStartDateFormat(dayPixel * 20);\n\t\t\t\t\tconst _loc19_ = i18n.locale.DateTimeLocale.formatDateTime(monthStartDateFormat, exchangeDateInUTC, true);\n\t\t\t\t\tconst _loc20_ = _loc10_ - xPos;\n\t\t\t\t\tlet _loc12_ = xPos;\n\t\t\t\t\tif (_loc11_ - xPos > DateLinesLayer.MONTH_TEXT_MIN_PIXELS)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (_loc14_)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (exchangeDateInUTC.getUTCMonth() % 3 === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_loc12_ -= _loc20_ / 2;\n\t\t\t\t\t\t\t\tViewPoint.addTextField(sprite, _loc19_, _loc12_, _loc13_, _loc20_, ViewPoint.TEXT_FIELD_HEIGHT, \"center\", viewPoint.dateTextFormat);\n\t\t\t\t\t\t\t\t_loc11_ = xPos;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tViewPoint.addTextField(sprite, _loc19_, _loc12_, _loc13_, _loc20_, ViewPoint.TEXT_FIELD_HEIGHT, \"center\", viewPoint.dateTextFormat);\n\t\t\t\t\t\t\t_loc11_ = xPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_loc7_ -= param3;\n\t\t\t\t_loc10_ = xPos;\n\t\t\t}\n\t\t\twhile (xPos > viewPoint.minx && _loc7_ >= 0);\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.drawVerticalLines(context);\n\t\t}\n\n\t\tcompareVisibleDayPairWithTime(dayVisibility: DayVisibility, param2: number): number\n\t\t{\n\t\t\tif (dayVisibility.dataUnit.time < param2)\n\t\t\t\treturn -1;\n\n\t\t\tif (dayVisibility.dataUnit.time > param2)\n\t\t\t\treturn 1;\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tprivate getMonthStartDateFormat(param1: number): string\n\t\t{\n\t\t\tlet format = \"\";\n\t\t\tif (param1 > 90)\n\t\t\t{\n\t\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\t\tformat = \"yyyy年MMMMM\";\n\t\t\t\telse\n\t\t\t\t\tformat = \"MMM yyyy\";\n\t\t\t}\n\t\t\telse if (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\tformat = \"yy年MMMMM\";\n\t\t\telse\n\t\t\t\tformat = \"MMM\\'yy\";\n\n\t\t\treturn format;\n\t\t}\n\n\t\tprivate drawHoursForDay(displayObject: flash.display.DisplayObject, sprite: flash.display.Sprite, dayVisibility: DayVisibility, param4: number)\n\t\t{\n\t\t\tconst dataUnit = dayVisibility.dataUnit;\n\t\t\tconst startMinute = dayVisibility.startMinute;\n\t\t\tlet coveredMinutes = dayVisibility.coveredMinutes;\n\t\t\tconst minutesSkip = this.getMinutesSkip();\n\t\t\tconst intervalLength = this.viewPoint.getIntervalLength(minutesSkip);\n\t\t\tlet xPos = this.viewPoint.getXPos(dataUnit) - intervalLength;\n\t\t\tconst _loc11_ = this.viewPoint.miny + this.topMargin;\n\t\t\tconst _loc12_ = this.viewPoint.maxy - this.viewPoint.bottomTextHeight;\n\t\t\tconst _loc13_ = this.viewPoint.maxy - ViewPoint.TEXT_VERTICAL_OFFSET - ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tconst _loc14_ = intervalLength;\n\t\t\tconst textFieldHeight = ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tconst allDataSessions = this.dataSource.getAllDataSessions(startMinute, dataUnit.dayMinute);\n\t\t\tlet _loc17_ = allDataSessions.length() - 1;\n\t\t\tlet interval = allDataSessions.getIntervalAt(_loc17_);\n\t\t\tlet dayMinute = dataUnit.dayMinute;\n\t\t\tconst date = new Date(dataUnit.exchangeDateInUTC.getTime());\n\t\t\twhile (dayMinute > startMinute)\n\t\t\t{\n\t\t\t\tconst _loc21_ = dayMinute;\n\t\t\t\tlet _loc22_ = Number(minutesSkip);\n\t\t\t\twhile (_loc22_ > 0)\n\t\t\t\t{\n\t\t\t\t\tconst _loc25_ = dayMinute - interval.start;\n\t\t\t\t\tif (_loc25_ >= _loc22_)\n\t\t\t\t\t{\n\t\t\t\t\t\tdayMinute -= _loc22_;\n\t\t\t\t\t\t_loc22_ = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc22_ = Number(_loc22_ - _loc25_);\n\t\t\t\t\t\t_loc17_--;\n\t\t\t\t\t\tif (_loc17_ < 0)\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\tinterval = allDataSessions.getIntervalAt(_loc17_);\n\t\t\t\t\t\tdayMinute = interval.end;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdate.setTime(date.getTime() - (_loc21_ - dayMinute) * Const.MS_PER_MINUTE);\n\t\t\t\tif (dayMinute <= startMinute)\n\t\t\t\t\treturn;\n\n\t\t\t\tcoveredMinutes -= minutesSkip;\n\t\t\t\tif (this.viewPoint.getIntervalLength(coveredMinutes) < DateLinesLayer.DAY_START_TEXT_MAX_WIDTH)\n\t\t\t\t\treturn;\n\n\t\t\t\tAbstractLayer.drawVerticalLine(displayObject, xPos, Const.HOUR_LINE_COLOR, Const.HOUR_LINE_ALPHA, _loc11_, _loc12_, ViewPoint.TICK_SIZE_SMALL, this.tickPosition);\n\t\t\t\tconst hourTextFromUtcDate = this.getHourTextFromUtcDate(date);\n\t\t\t\tViewPoint.addTextField(sprite, hourTextFromUtcDate, xPos, _loc13_, _loc14_, textFieldHeight, \"left\", this.viewPoint.hourTextFormat);\n\t\t\t\txPos -= intervalLength;\n\t\t\t}\n\t\t}\n\n\t\tprivate drawDayStarts(displayObject: flash.display.DisplayObject, sprite: flash.display.Sprite, dayVisibilities: DayVisibility[], detailLevel: Intervals)\n\t\t{\n\t\t\t//const _loc5_ = this.viewPoint.miny + this.topMargin;\n\t\t\t//const _loc6_ = this.viewPoint.maxy - this.viewPoint.bottomTextHeight;\n\t\t\tconst _loc7_ = this.viewPoint.maxy - ViewPoint.TEXT_VERTICAL_OFFSET - ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tfor (let dayVisibilityIndex = 0; dayVisibilityIndex < dayVisibilities.length; dayVisibilityIndex++)\n\t\t\t{\n\t\t\t\tconst x = this.viewPoint.getXPos(dayVisibilities[dayVisibilityIndex].dataUnit);\n\t\t\t\t//AbstractLayer.drawVerticalLine(param1, _loc9_, Const.DAY_LINE_COLOR, Const.DAY_LINE_ALPHA, _loc5_, _loc6_, ViewPoint.TICK_SIZE_BIG, this.tickPosition, param4 !== Intervals.DAILY);\n\t\t\t\tif (this.viewPoint.bottomTextHeight > 0)\n\t\t\t\t{\n\t\t\t\t\tconst intervalLength = this.viewPoint.getIntervalLength(dayVisibilities[dayVisibilityIndex].coveredMinutes);\n\t\t\t\t\tconst dayText = this.getDayText(dayVisibilities, dayVisibilityIndex, intervalLength);\n\t\t\t\t\tlet _loc12_ = \"center\";\n\t\t\t\t\tif (intervalLength >= DateLinesLayer.DISPLAY_HOURS_MIN_DAY_WIDTH && detailLevel < Intervals.DAILY)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc12_ = \"left\";\n\t\t\t\t\t\tthis.drawHoursForDay(displayObject, sprite, dayVisibilities[dayVisibilityIndex], intervalLength);\n\t\t\t\t\t}\n\t\t\t\t\tlet _loc13_: number;\n\t\t\t\t\tlet _loc14_: number;\n\t\t\t\t\tif (detailLevel < Intervals.DAILY)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc13_ = x - intervalLength + ViewPoint.TEXT_HORIZONTAL_OFFSET;\n\t\t\t\t\t\t_loc14_ = intervalLength - ViewPoint.TEXT_HORIZONTAL_OFFSET;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc13_ = x - ViewPoint.TEXT_FIELD_WIDTH / 2;\n\t\t\t\t\t\t_loc14_ = ViewPoint.TEXT_FIELD_WIDTH;\n\t\t\t\t\t}\n\t\t\t\t\tViewPoint.addTextField(sprite, dayText, _loc13_, _loc7_, _loc14_, ViewPoint.TEXT_FIELD_HEIGHT, _loc12_, this.viewPoint.hourTextFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate getVisibleDaysArray(context: Context): DayVisibility[]\n\t\t{\n\t\t\tconst dayVisibilities: DayVisibility[] = [];\n\t\t\tconst data = this.dataSource.data;\n\t\t\t//const _loc4_ = this.dataSource.afterHoursData;\n\t\t\tlet _loc5_ = 1 + DataSource.getMinuteMetaIndex(context.lastMinute, data.days, data.units);\n\t\t\t_loc5_ = Math.min(_loc5_, data.days.length - 1);\n\t\t\tconst minuteMetaIndex = DataSource.getMinuteMetaIndex(context.lastMinute - context.count, data.days, data.units);\n\t\t\tfor (let _loc7_ = minuteMetaIndex; _loc7_ <= _loc5_; _loc7_++)\n\t\t\t{\n\t\t\t\tconst dataUnit = data.units[data.days[_loc7_]];\n\t\t\t\tif (dataUnit)\n\t\t\t\t{\n\t\t\t\t\tconst dayVisibility = new DayVisibility();\n\t\t\t\t\tdayVisibility.dataUnit = dataUnit;\n\t\t\t\t\tdayVisibility.startMinute = data.marketOpenMinute;\n\t\t\t\t\tdayVisibility.coveredMinutes = data.marketDayLength;\n\n\t\t\t\t\tdayVisibilities.push(dayVisibility);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.adjustVisibleDaysWithAfterHours(dayVisibilities);\n\t\t\treturn dayVisibilities;\n\t\t}\n\n\t\tprivate getDayText(dayVisibilities: DayVisibility[], dayIndex: number, param3: number): string\n\t\t{\n\t\t\tconst exchangeDateInUTC = dayVisibilities[dayIndex].dataUnit.exchangeDateInUTC;\n\t\t\tlet _loc5_ = 'd';\n\t\t\tif (param3 > 50 || dayIndex === 2 || dayIndex === dayVisibilities.length - 2)\n\t\t\t{\n\t\t\t\t_loc5_ = \"MMM \" + _loc5_;\n\t\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\t\t_loc5_ = \"M月d日\";\n\t\t\t}\n\t\t\tif (param3 > 75)\n\t\t\t{\n\t\t\t\t_loc5_ = \"E \" + _loc5_;\n\t\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\t\t_loc5_ = \"M月d日 E\";\n\t\t\t}\n\t\t\treturn i18n.locale.DateTimeLocale.formatDateTime(_loc5_, exchangeDateInUTC, true);\n\t\t}\n\n\t\tprivate getWeekStartDateFormat(): string\n\t\t{\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\treturn \"M月d日\";\n\n\t\t\treturn \"MMM d\";\n\t\t}\n\t}\n}\n","namespace flash.text\n{\n\texport enum TextFieldType\n\t{\n\t\tINPUT,\n\t\tDYNAMIC,\n\t}\n\n\texport class TextFormatAlign\n\t{\n\t\tstatic readonly RIGHT = \"right\";\n\t}\n\n\texport class TextFieldAutoSize\n\t{\n\t\tstatic readonly LEFT = \"left\";\n\t\tstatic readonly RIGHT = \"right\";\n\t\tstatic readonly CENTER = \"center\";\n\t}\n\n\texport class TextFormat\n\t{\n\t\talign: string;\n\n\t\tconstructor(public family: string = \"Arial\", public size = 0, public color = 0, public bold = false, public italic = false, public underline = false) { }\n\t}\n\n\texport class TextField\n\t\textends display.InteractiveObject\n\t{\n\t\ttype: TextFieldType = TextFieldType.INPUT;\n\t\tautoSize: string;\n\t\tcacheAsBitmap: boolean;\n\t\tselectable: boolean;\n\t\twordWrap: boolean;\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(document.createElement(\"span\"));\n\t\t}\n\n\t\tappendText(p: string)\n\t\t{\n\t\t\tthis.element.textContent += p;\n\t\t}\n\n\t\tsetTextFormat(p: TextFormat, start: number = -1, end: number = -1) { }\n\t\tgetTextFormat(): TextFormat|null { return null; }\n\t\tset defaultTextFormat(value: TextFormat)\n\t\t{\n\t\t\tthis.element.style.fontFamily = value.family || \"Arial\";\n\t\t\tthis.element.style.fontSize = (value.size) + \"px\";\n\t\t\tthis.element.style.color = cssColor(value.color);\n\t\t\tthis.element.style.textAlign = value.align || \"left\";\n\t\t}\n\t\tsetSelection(p1: number, p2: number) { }\n\n\t\tget width(): number { return this.element.offsetWidth; }\n\t\tset width(value: number) { this.element.style.width = value + \"px\"; }\n\n\t\tget height(): number { return this.element.offsetHeight; }\n\t\tset height(value: number) { this.element.style.height = value + \"px\"; }\n\n\t\tget text(): string { return this.element.textContent || \"\"; }\n\t\tset text(value: string) { this.element.textContent = value; }\n\t\tget htmlText(): string { return this.element.innerHTML; }\n\t\tset htmlText(value: string) { this.element.innerHTML = value; }\n\n\t\tprivate _textColor: number;\n\t\tget textColor(): number { return this._textColor; }\n\t\tset textColor(value: number)\n\t\t{\n\t\t\tthis._textColor = value;\n\t\t\tthis.element.style.color = cssColor(value);\n\t\t}\n\n\t\tprivate _textHeight: number;\n\t\tget textHeight(): number { return this._textHeight; }\n\t\tset textHeight(value: number)\n\t\t{\n\t\t\tthis._textHeight = value;\n\t\t\tthis.element.style.fontSize = value + \"pt\";\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/text/TextField.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.text.TextField;\n\t// import flash.text.TextFieldType;\n\t// import com.google.i18n.locale.DateTimeLocale;\n\n\texport class DateTextField extends flash.text.TextField\n\t{\n\t\tprivate static datePattern = /^ *(\\d{4})( *[./-] *\\d{1,2})?( *[./-] *\\d{1,2})? *$/;\n\t\tprivate static PARSEABLE_FORMAT = \"yyyy-MM-dd\";\n\t\tprivate static LOCALIZED_FORMAT = \"MMM dd, yyyy\";\n\n\t\tdate: Date;\n\t\tparsedDate: Date | null;\n\n\t\tstatic newDateInUtc(year: number, month: number, day: number): Date\n\t\t{\n\t\t\tconst date = new Date();\n\t\t\tdate.setUTCFullYear(year);\n\t\t\tdate.setUTCMonth(month - 1, day);\n\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\t\t\treturn date;\n\t\t}\n\n\t\tstatic stringToNumberOrOne(text: string): number\n\t\t{\n\t\t\tif (!text)\n\t\t\t\treturn 1;\n\n\t\t\treturn Number(text.replace('/', \"\").replace('-', \"\").replace('.', \"\"));\n\t\t}\n\n\t\tsetHighlighted(highlighted: boolean)\n\t\t{\n\t\t\tif (highlighted)\n\t\t\t{\n\t\t\t\tthis.background = true;\n\t\t\t\tthis.borderColor = Const.DATE_HIGHLIGHTED_BORDER_COLOR;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.background = false;\n\t\t\t\tthis.borderColor = Const.DATE_DEFAULT_BORDER_COLOR;\n\t\t\t\tthis.setSelection(0, 0);\n\t\t\t\tthis.type = flash.text.TextFieldType.DYNAMIC;\n\t\t\t}\n\t\t}\n\n\t\tdisplayDateInParseableFormat()\n\t\t{\n\t\t\tthis.text = i18n.locale.DateTimeLocale.formatDateTime(DateTextField.PARSEABLE_FORMAT, this.date, true);\n\t\t}\n\n\t\tdisplayDateInLocalizedFormat()\n\t\t{\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\tthis.text = i18n.locale.DateTimeLocale.standardFormatDateTime(i18n.locale.DateTimeFormats.LONG_DATE_FORMAT, this.date, true);\n\t\t\telse\n\t\t\t\tthis.text = i18n.locale.DateTimeLocale.formatDateTime(DateTextField.LOCALIZED_FORMAT, this.date, true);\n\t\t}\n\n\t\tparseUtcDate(): boolean\n\t\t{\n\t\t\tthis.parsedDate = null;\n\t\t\tconst _loc1_ = this.text.match(DateTextField.datePattern);\n\t\t\tif (!_loc1_)\n\t\t\t\treturn false;\n\n\t\t\tconst _loc2_ = DateTextField.stringToNumberOrOne(_loc1_[1]);\n\t\t\tif (_loc2_ < 1900)\n\t\t\t\treturn false;\n\n\t\t\tconst _loc3_ = DateTextField.stringToNumberOrOne(_loc1_[2]);\n\t\t\tif (_loc3_ < 1 || _loc3_ > 12)\n\t\t\t\treturn false;\n\n\t\t\tconst _loc4_ = DateTextField.stringToNumberOrOne(_loc1_[3]);\n\t\t\tif (_loc4_ < 1 || _loc4_ > 31)\n\t\t\t\treturn false;\n\n\t\t\tthis.parsedDate = DateTextField.newDateInUtc(_loc2_, _loc3_, _loc4_);\n\t\t\treturn true;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.utils.Dictionary;\n\t// import flash.utils.getDefinitionByName;\n\t// import com.google.finance.indicator.IndicatorLayer;\n\t// import com.google.finance.indicator.DependentIndicatorLayer;\n\t// import com.google.finance.indicator.VolumeDependentIndicatorLayer;\n\t// import com.google.finance.indicator.IndependentIndicatorLayer;\n\n\texport class DisplayManager extends flash.display.Sprite\n\t{\n\t\tprivate firstResize: boolean = true;\n\t\tprivate viewpoints: IViewPoint[] = [];\n\t\tprivate differentMarketSessionComparison: boolean;\n\n\t\tlayersManager: LayersManager;\n\t\tmainController: Controller;\n\t\tspaceText: SpaceText;\n\t\ttopBorderLayer: BorderLayer;\n\n\t\tconstructor(public readonly mainManager: MainManager)\n\t\t{\n\t\t\tsuper();\n\t\t\tif (mainManager)\n\t\t\t\tthis.layersManager = mainManager.layersManager;\n\t\t}\n\n\t\tprivate computeRelativeTimesForPointsInIntervals(dataSource: DataSource)\n\t\t{\n\t\t\tconst points = dataSource.data.getPointsInIntervals();\n\t\t\tconst units = dataSource.data.units;\n\t\t\tconst map: Map<number> = {};\n\t\t\tfor (const key of Object.keys(points))\n\t\t\t{\n\t\t\t\tconst pointIndex = Number(key);\n\t\t\t\tconst pointUnits = points[pointIndex];\n\t\t\t\t// TODO: was Intervals.FIVE_MINUTES\n\t\t\t\tif (pointIndex === Const.FIVE_MINUTE_INTERVAL && pointUnits[pointUnits.length - 1].dayMinute % 2 === 1)\n\t\t\t\t\tpointUnits.splice(pointUnits.length - 1, 1);\n\n\t\t\t\tmap[pointIndex] = pointUnits.length - 1;\n\t\t\t}\n\t\t\tfor (let unitIndex = units.length - 1; unitIndex >= 0; unitIndex--)\n\t\t\t{\n\t\t\t\tfor (const key2 of Object.keys(points))\n\t\t\t\t{\n\t\t\t\t\tconst pointIndex2 = <Intervals>Number(key2);\n\t\t\t\t\tconst point = points[pointIndex2];\n\t\t\t\t\tif (map[pointIndex2] >= 0 && point[map[pointIndex2]].time === units[unitIndex].time)\n\t\t\t\t\t{\n\t\t\t\t\t\tpoint[map[pointIndex2]].relativeMinutes = units[unitIndex].relativeMinutes;\n\t\t\t\t\t\tmap[pointIndex2]--;\n\t\t\t\t\t}\n\t\t\t\t\twhile (map[pointIndex2] >= 0 && (point[map[pointIndex2]].time > units[unitIndex].time || unitIndex === 0))\n\t\t\t\t\t{\n\t\t\t\t\t\tlet session = notnull(dataSource.data.getSessionForMinute(point[map[pointIndex2]].dayMinute));\n\t\t\t\t\t\tconst _loc10_ = session.end - point[map[pointIndex2]].dayMinute;\n\t\t\t\t\t\tif (_loc10_ < Number(pointIndex2) / Const.SEC_PER_MINUTE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (point.length <= map[pointIndex2] + 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpoint[map[pointIndex2]].relativeMinutes = -_loc10_;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsession = notnull(dataSource.data.getSessionForMinute(point[map[pointIndex2] + 1].dayMinute));\n\t\t\t\t\t\t\t\tpoint[map[pointIndex2]].relativeMinutes = point[map[pointIndex2] + 1].relativeMinutes - (point[map[pointIndex2] + 1].dayMinute - session.start) - 1 - _loc10_;\n\t\t\t\t\t\t\t\tif (session.start !== dataSource.data.marketOpenMinute)\n\t\t\t\t\t\t\t\t\tpoint[map[pointIndex2]].relativeMinutes++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpoint[map[pointIndex2]].relativeMinutes = point[map[pointIndex2] + 1].relativeMinutes - (point[map[pointIndex2] + 1].dayMinute - point[map[pointIndex2]].dayMinute);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmap[pointIndex2]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\thasOhlcRequiredIndicator(): boolean\n\t\t{\n\t\t\tconst layers = this.layersManager.config[LayersManager.SINGLE].layers;\n\t\t\tfor (const layer of layers)\n\t\t\t{\n\t\t\t\tif (Const.OHLC_DEPENDENT_INDICATOR_NAMES.indexOf(layer.name) !== -1 && Boolean(layer.enabled))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tclearWeeklyXPos()\n\t\t{\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tconst _loc1_ = !this.layersManager ? null : this.layersManager.getFirstDataSource();\n\t\t\t\tconst _loc2_ = !_loc1_ ? null : _loc1_.data.getPointsInIntervalArray(Const.WEEKLY_INTERVAL);\n\t\t\t\tif (_loc2_)\n\t\t\t\t{\n\t\t\t\t\tfor (const unit of _loc2_)\n\t\t\t\t\t\tunit.weeklyXPos = NaN;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tshowContextualStaticInfo()\n\t\t{\n\t\t\tfor (const viewPoint of this.viewpoints)\n\t\t\t\tviewPoint.clearPointInformation();\n\n\t\t\tconst state = this.layersManager.getContextualStaticInfo();\n\t\t\tthis.spaceText.setContextualStaticInfo(state);\n\t\t\tthis.resizeViewPoints(this.stage.stageWidth, this.stage.stageHeight);\n\t\t}\n\n\t\tinit(width: number, height: number)\n\t\t{\n\t\t\tthis.mainController = new Controller(this.mainManager, this);\n\t\t\tlet sparklineViewPoint: SparklineViewPoint | null = null;\n\t\t\tif (Boolean(Const.SHOW_SPARKLINE))\n\t\t\t{\n\t\t\t\tsparklineViewPoint = new SparklineViewPoint(this.mainManager.dataManager, this);\n\t\t\t\tsparklineViewPoint.my_minx = 0;\n\t\t\t\tsparklineViewPoint.my_miny = 0;\n\t\t\t\tsparklineViewPoint.my_maxx = width;\n\t\t\t\tsparklineViewPoint.my_maxy = Const.SPARKLINE_HEIGHT + 1;\n\t\t\t\tsparklineViewPoint.name = Const.SPARKLINE_VIEW_POINT_NAME;\n\t\t\t\tthis.addChild(sparklineViewPoint);\n\t\t\t\tthis.viewpoints.push(sparklineViewPoint);\n\t\t\t\tsparklineViewPoint.setController(this.mainController);\n\t\t\t\tsparklineViewPoint.topBorder = Const.SPARK_PADDING - 1;\n\t\t\t\tsparklineViewPoint.drawBorders();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.viewpoints.push(null!);\t// TODO: really?\n\t\t\t}\n\t\t\tconst viewPoints = Utils.decodeObjects(MainManager.paramsObj.single_viewpoints) as ViewPoint[];\n\t\t\tfor (const viewPoint of viewPoints)\n\t\t\t{\n\t\t\t\tif (viewPoint.display !== \"hidden\")\n\t\t\t\t\tthis.addViewPoint(\"ViewPoint\", viewPoint.name, this.stage.stageWidth, Number(viewPoint.height), Number(viewPoint.topMargin), width, height);\n\t\t\t}\n\t\t\tthis.spaceText = new SpaceText(this);\n\t\t\tthis.spaceText.y = 0;\n\t\t\tthis.spaceText.x = 0;\n\t\t\tthis.addChild(this.spaceText);\n\t\t\tif (Boolean(Const.SHOW_SPARKLINE))\n\t\t\t{\n\t\t\t\tthis.topBorderLayer = new BorderLayer(this, notnull(sparklineViewPoint));\n\t\t\t\tthis.addChild(this.topBorderLayer);\n\t\t\t}\n\t\t\tthis.resizeViewPoints(width, height);\n\t\t\tthis.addChild(this.mainController);\n\t\t\tthis.mainController.initEventListeners();\n\t\t}\n\n\t\tprivate positionAfterHoursTimes(param1: number, param2: number, param3: number, param4: number, dataSeries: DataSeries, dataUnits?: DataUnit[] | null)\n\t\t{\n\t\t\tlet _loc7_ = param3;\n\t\t\tfor (let _loc8_ = param2; _loc8_ >= param1; _loc8_--)\n\t\t\t{\n\t\t\t\tdataSeries.units[_loc8_].relativeMinutes = _loc7_;\n\t\t\t\tif (dataUnits)\n\t\t\t\t\tdataUnits[_loc8_].relativeMinutes = _loc7_;\n\n\t\t\t\t_loc7_ -= param4;\n\t\t\t}\n\t\t}\n\n\t\tisIndicatorConfigEnabled(name: string): boolean\n\t\t{\n\t\t\tconst layers = this.layersManager.config[LayersManager.SINGLE].layers;\n\t\t\tfor (const layer of layers)\n\t\t\t{\n\t\t\t\tif (layer.name === name)\n\t\t\t\t\treturn Boolean(layer.enabled);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tgetLayer(layerId: string, viewPointName: string, dataSource: DataSource): AbstractLayer<ViewPoint> | null\n\t\t{\n\t\t\tconst viewPoint = <ViewPoint>this.getViewPoint(viewPointName);\n\t\t\tif (!viewPoint)\n\t\t\t\treturn null;\n\t\t\treturn viewPoint.getLayer(layerId, dataSource);\n\t\t}\n\n\t\tmakeBorderLayerTop()\n\t\t{\n\t\t\tconst viewPoint = this.getViewPoint(Const.SPARKLINE_VIEW_POINT_NAME);\n\t\t\tif (viewPoint)\n\t\t\t{\n\t\t\t\tthis.addChildAt(viewPoint, this.numChildren - 1);\n\t\t\t\tthis.addChildAt(this.topBorderLayer, this.numChildren - 1);\n\t\t\t}\n\t\t}\n\n\t\tremoveAllLayers(viewPointIndex: number)\n\t\t{\n\t\t\tthis.viewpoints[viewPointIndex].removeAllLayers();\n\t\t}\n\n\t\twindowResized(param1: number, param2: number)\n\t\t{\n\t\t\tconst bounds = new Bounds(0, 0, param1, Const.SPARKLINE_HEIGHT + 1);\n\t\t\tconst viewPoint = this.getSparklineViewPoint();\n\t\t\tif (viewPoint)\n\t\t\t\tviewPoint.setNewSize(bounds);\n\t\t\tconst mainViewPoint = this.getMainViewPoint().count;\n\t\t\tthis.resizeViewPoints(param1, param2);\n\t\t\tthis.mainController.updateChartSizeChangeButtonPosition();\n\t\t\tif (this.firstResize)\n\t\t\t{\n\t\t\t\tthis.firstResize = false;\n\t\t\t\tif (!this.layersManager.getFirstDataSource())\n\t\t\t\t\treturn;\n\n\t\t\t\tif (this.mainController.currentZoomLevel !== ScaleTypes.INVALID)\n\t\t\t\t{\n\t\t\t\t\tthis.mainController.syncZoomLevel();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfor (const otherViewPoint of this.viewpoints)\n\t\t\t\t\t\totherViewPoint.setNewCount(mainViewPoint);\n\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate updateViewPoint(viewPointIndex: number)\n\t\t{\n\t\t\tthis.viewpoints[viewPointIndex].update();\n\t\t}\n\n\t\tprotected extractInterdayPoints(dataSeries: DataSeries): DataUnit[]\n\t\t{\n\t\t\tconst dataUnits: DataUnit[] = [];\n\t\t\tconst marketCloseMinute = dataSeries.marketCloseMinute;\n\t\t\tconst units = dataSeries.units;\n\t\t\tfor (const unit of units)\n\t\t\t{\n\t\t\t\tunit.relativeMinutes = NaN;\n\t\t\t\tif (unit.dayMinute === marketCloseMinute)\n\t\t\t\t\tdataUnits.push(unit);\n\t\t\t}\n\t\t\treturn dataUnits;\n\t\t}\n\n\t\tanimateToSelectedPin(pinPoint: PinPoint)\n\t\t{\n\t\t\tif (!pinPoint)\n\t\t\t\treturn;\n\n\t\t\tconst firstDataSource = this.layersManager.getFirstDataSource();\n\t\t\tif (!firstDataSource)\n\t\t\t\treturn;\n\n\t\t\tlet relativeMinutes: number;\n\n\t\t\tconst mainViewPoint = this.getMainViewPoint();\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tconst enabledChartLayer = this.getEnabledChartLayer();\n\t\t\t\tlet detailLevelForTechnicalStyle = mainViewPoint.getDetailLevelForTechnicalStyle();\n\t\t\t\tlet detailLevelInterval = Const.getDetailLevelInterval(detailLevelForTechnicalStyle);\n\t\t\t\trelativeMinutes = pinPoint.getRelativeMinutes(detailLevelInterval);\n\t\t\t\tif (enabledChartLayer === Const.LINE_CHART)\n\t\t\t\t{\n\t\t\t\t\twhile (isNaN(relativeMinutes) && detailLevelForTechnicalStyle < Intervals.WEEKLY)\n\t\t\t\t\t{\n\t\t\t\t\t\tdetailLevelForTechnicalStyle++;\n\t\t\t\t\t\tdetailLevelInterval = Const.getDetailLevelInterval(detailLevelForTechnicalStyle);\n\t\t\t\t\t\tif (firstDataSource.data.hasPointsInIntervalArray(detailLevelInterval))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trelativeMinutes = pinPoint.getRelativeMinutes(detailLevelInterval);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst eventCallback = new EventCallback(this.animateToSelectedPin, [pinPoint]);\n\t\t\t\t\t\tmainViewPoint.checkEvents(detailLevelForTechnicalStyle, [eventCallback]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\trelativeMinutes = pinPoint.getRelativeMinutes();\n\t\t\t}\n\n\t\t\tlet _loc5_: number;\n\t\t\tif (relativeMinutes > mainViewPoint.getLastMinute())\n\t\t\t{\n\t\t\t\t_loc5_ = Number(relativeMinutes + mainViewPoint.count / 3);\n\t\t\t\tif (_loc5_ > 0)\n\t\t\t\t\t_loc5_ = 0;\n\t\t\t}\n\t\t\telse if (relativeMinutes <= mainViewPoint.getFirstMinute())\n\t\t\t{\n\t\t\t\t_loc5_ = Number(relativeMinutes + mainViewPoint.count * 2 / 3);\n\t\t\t\tconst oldestMinute = mainViewPoint.getOldestMinute();\n\t\t\t\tif (_loc5_ < oldestMinute)\n\t\t\t\t\t_loc5_ = Number(oldestMinute + mainViewPoint.count);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.mainController.animateTo(_loc5_, mainViewPoint.count, NaN, true);\n\t\t}\n\n\t\tremoveLayer(layerId: string, viewPointName: string, dataSource?: DataSource)\n\t\t{\n\t\t\tconst viewPoint = <ViewPoint>this.getViewPoint(viewPointName);\n\t\t\tviewPoint.removeLayer(layerId, dataSource);\n\t\t}\n\n\t\tenableIndicatorConfig(layerName: string, param2 = true)\n\t\t{\n\t\t\tconst layers = this.layersManager.config[LayersManager.SINGLE].layers;\n\t\t\tfor (const layer of layers)\n\t\t\t{\n\t\t\t\tif (layer.name === layerName)\n\t\t\t\t\tlayer.enabled = param2 ? \"true\" : \"false\";\n\t\t\t}\n\t\t}\n\n\t\taddLayer(param1: string, param2: string, dataSource: DataSource, param4: string): AbstractLayer<IViewPoint> | null\n\t\t{\n\t\t\tconst viewPoint = this.getViewPoint(param2);\n\t\t\tif (viewPoint)\n\t\t\t\treturn viewPoint.addLayer(param1, dataSource, param4);\n\n\t\t\treturn null;\n\t\t}\n\n\t\tgetViewPoint(name: string): IViewPoint | null\n\t\t{\n\t\t\tconst viewPointPos = this.getViewPointPos(name);\n\t\t\tif (viewPointPos !== -1)\n\t\t\t\treturn this.viewpoints[viewPointPos];\n\n\t\t\treturn null;\n\t\t}\n\n\t\tgetMainViewPoint(): ViewPoint\n\t\t{\n\t\t\tconst viewPointPos = this.getViewPointPos(Const.MAIN_VIEW_POINT_NAME);\n\t\t\tif (viewPointPos === -1)\n\t\t\t\tthrow new Error();\n\n\t\t\treturn this.viewpoints[viewPointPos] as ViewPoint;\n\t\t}\n\n\t\tgetSparklineViewPoint(): SparklineViewPoint\n\t\t{\n\t\t\tconst viewPointPos = this.getViewPointPos(Const.SPARKLINE_VIEW_POINT_NAME);\n\t\t\tif (viewPointPos === -1)\n\t\t\t\tthrow new Error();\n\n\t\t\treturn this.viewpoints[viewPointPos] as SparklineViewPoint;\n\t\t}\n\n\t\tprotected getComparedDataSeries(): DataSeries[]\n\t\t{\n\t\t\tconst dataSeriesArray: DataSeries[] = [];\n\t\t\tdataSeriesArray.push(this.mainManager.dataManager.dataSources[this.mainManager.quote].data);\n\t\t\tconst comparedTickers = this.layersManager.getComparedTickers();\n\t\t\tfor (const ticker of comparedTickers)\n\t\t\t\tdataSeriesArray.push(this.mainManager.dataManager.dataSources[ticker].data);\n\t\t\treturn dataSeriesArray;\n\t\t}\n\n\t\tgetLayers(param1: string)\n\t\t{\n\t\t\tconst viewPoint = notnull(this.getViewPoint(param1));\n\t\t\treturn viewPoint.getLayers();\n\t\t}\n\n\t\tHTMLnotify(viewpointName: string, param2 = false)\n\t\t{\n\t\t\tif (viewpointName !== Const.MAIN_VIEW_POINT_NAME)\n\t\t\t\treturn;\n\n\t\t\tconst mainViewPoint = this.getMainViewPoint();\n\t\t\tconst firstDataUnit = mainViewPoint.getFirstDataUnit();\n\t\t\tconst lastDataUnit = mainViewPoint.getLastDataUnit();\n\t\t\tif (!firstDataUnit || !lastDataUnit)\n\t\t\t\treturn;\n\n\t\t\tlet firstDate = new Date(firstDataUnit.time);\n\t\t\tconst lastDate = new Date(lastDataUnit.time);\n\t\t\tif (firstDate.getTime() >= lastDate.getTime())\n\t\t\t\tfirstDate = new Date(lastDate.getTime() - Const.MS_PER_DAY);\n\n\t\t\tconst firstDataSource = this.layersManager.getFirstDataSource();\n\t\t\tif (firstDataSource)\n\t\t\t{\n\t\t\t\tconst numberOfDays = this.getNumberOfDaysForCount(mainViewPoint.count, mainViewPoint.lastMinute, firstDataSource);\n\t\t\t\tMainManager.jsProxy.HTMLnotify(firstDate, lastDate, numberOfDays, mainViewPoint.count, param2);\n\t\t\t\tMainManager.jsProxy.setForceDisplayExtendedHours(firstDataSource);\n\t\t\t}\n\t\t}\n\n\t\tprivate resizeViewPoints(width: number, height: number)\n\t\t{\n\t\t\tlet bounds = new Bounds(0, height - Const.SPARKLINE_HEIGHT, width, height);\n\t\t\tconst viewPoint = this.getSparklineViewPoint();\n\t\t\tif (viewPoint)\n\t\t\t\tviewPoint.setNewSize(bounds);\n\t\t\theight = bounds.miny - Const.SPARK_PADDING;\n\t\t\tlet viewpointIndex: number;\n\t\t\tfor (viewpointIndex = this.viewpoints.length - 1; viewpointIndex >= 2; viewpointIndex--)\n\t\t\t{\n\t\t\t\tbounds = new Bounds(\n\t\t\t\t\tConst.BORDER_WIDTH,\n\t\t\t\t\theight - (this.viewpoints[viewpointIndex].maxy - this.viewpoints[viewpointIndex].miny),\n\t\t\t\t\twidth - Const.BORDER_WIDTH,\n\t\t\t\t\theight\n\t\t\t\t);\n\t\t\t\tthis.viewpoints[viewpointIndex].setNewSize(bounds);\n\t\t\t\theight = bounds.miny - (<ViewPoint>this.viewpoints[viewpointIndex]).topMargin;\n\t\t\t}\n\t\t\tthis.spaceText.setSize(width, Const.SPACE_HEIGHT + (<ViewPoint>this.viewpoints[viewpointIndex]).topMargin);\n\t\t\tbounds = new Bounds(\n\t\t\t\tConst.BORDER_WIDTH,\n\t\t\t\tConst.SPACE_HEIGHT + Const.INFO_TEXT_TOP_PADDING + (<ViewPoint>this.viewpoints[viewpointIndex]).topMargin,\n\t\t\t\twidth - Const.BORDER_WIDTH,\n\t\t\t\theight\n\t\t\t);\n\t\t\tthis.viewpoints[Const.MAIN_VIEW_POINT].setNewSize(bounds);\n\t\t\tthis.viewpoints[Const.MAIN_VIEW_POINT].clearPointInformation();\n\t\t\tif (Boolean(Const.SHOW_SPARKLINE))\n\t\t\t\tthis.topBorderLayer.update();\n\t\t}\n\n\t\tremoveViewPoint(param1: string)\n\t\t{\n\t\t\tconst viewPointPos = this.getViewPointPos(param1);\n\t\t\tif (viewPointPos === -1)\n\t\t\t\treturn;\n\n\t\t\tconst vp = this.viewpoints[viewPointPos];\n\t\t\tif (!vp)\n\t\t\t\treturn;\n\n\t\t\tthis.mainController.removeControlListener(vp);\n\t\t\tthis.removeChild(vp);\n\t\t\tthis.viewpoints.splice(viewPointPos, 1);\n\t\t}\n\n\t\tupdate(param1 = false)\n\t\t{\n\t\t\tthis.clearWeeklyXPos();\n\n\t\t\tfor (let viewPointIndex = 0; viewPointIndex < this.viewpoints.length; viewPointIndex++)\n\t\t\t\tthis.updateViewPoint(viewPointIndex);\n\n\t\t\tif (param1)\n\t\t\t\tthis.mainController.triggerMouseMoveAction();\n\t\t\telse\n\t\t\t\tthis.showContextualStaticInfo();\n\n\t\t\tthis.topBorderLayer.update();\n\t\t}\n\n\t\taddViewPoint(viewPointTypeName: string, viewPointName: string, width: number, height: number, top: number, param6: number, param7: number, mainViewPoint?: IViewPoint): number\n\t\t{\n\t\t\tconst viewPointType = getDefinitionByName(\"com.google.finance.\" + viewPointTypeName) as typeof ViewPoint;\n\t\t\tconst bounds = new Bounds(\n\t\t\t\tConst.BORDER_WIDTH,\n\t\t\t\tparam7 - height + top,\n\t\t\t\tparam6 - Const.BORDER_WIDTH,\n\t\t\t\tparam7\n\t\t\t);\n\t\t\tconst viewPoint = new viewPointType(this);\n\t\t\tthis.addChild(viewPoint);\n\t\t\tviewPoint.name = viewPointName;\n\t\t\tviewPoint.topMargin = top;\n\t\t\tviewPoint.setNewSize(bounds);\n\t\t\tif (mainViewPoint)\n\t\t\t{\n\t\t\t\tviewPoint.count = mainViewPoint.count;\n\t\t\t\tviewPoint.lastMinute = mainViewPoint.lastMinute;\n\t\t\t}\n\t\t\tthis.viewpoints.push(viewPoint);\n\t\t\tviewPoint.setController(this.mainController);\n\t\t\tif (mainViewPoint)\n\t\t\t\tviewPoint.setNewCount(mainViewPoint.count);\n\n\t\t\treturn this.viewpoints.length - 1;\n\t\t}\n\n\t\tsetLastMinute(lastMinute: number)\n\t\t{\n\t\t\tfor (const viewPoint of this.viewpoints)\n\t\t\t\tviewPoint.lastMinute = lastMinute;\n\t\t}\n\n\t\tisDifferentMarketSessionComparison(): boolean\n\t\t{\n\t\t\treturn this.differentMarketSessionComparison;\n\t\t}\n\n\t\tgetNumberOfDaysForCount(param1: number, param2: number, dataSource: DataSource): number\n\t\t{\n\t\t\tif (this.differentMarketSessionComparison)\n\t\t\t\treturn param1;\n\n\t\t\tconst data = dataSource.data;\n\t\t\tconst _loc5_ = param2 - param1;\n\t\t\tlet _loc6_ = 0;\n\t\t\tlet endOfDayDataUnit = dataSource.getEndOfDayDataUnitFor(param2);\n\t\t\tlet minuteMetaIndex = DataSource.getMinuteMetaIndex(endOfDayDataUnit.relativeMinutes, data.days, data.units);\n\t\t\tif (endOfDayDataUnit.coveredDays > 0)\n\t\t\t{\n\t\t\t\tconst _loc9_ = endOfDayDataUnit.relativeMinutes - param2;\n\t\t\t\t_loc6_ = Number(_loc6_ - Math.floor(_loc9_ / data.marketDayLength));\n\t\t\t}\n\t\t\twhile (endOfDayDataUnit.relativeMinutes > _loc5_ && minuteMetaIndex > 0)\n\t\t\t{\n\t\t\t\tminuteMetaIndex--;\n\t\t\t\tif (minuteMetaIndex < 0)\n\t\t\t\t\tbreak;\n\n\t\t\t\tconst relativeMinutes = data.units[data.days[minuteMetaIndex]].relativeMinutes;\n\t\t\t\tconst endOfDayDataUnitFor = dataSource.getEndOfDayDataUnitFor(relativeMinutes);\n\t\t\t\tif (endOfDayDataUnitFor.relativeMinutes >= _loc5_)\n\t\t\t\t{\n\t\t\t\t\tif (endOfDayDataUnit.coveredDays === 0)\n\t\t\t\t\t\t_loc6_++;\n\t\t\t\t\telse\n\t\t\t\t\t\t_loc6_ = Number(_loc6_ + endOfDayDataUnit.coveredDays);\n\t\t\t\t}\n\t\t\t\telse if (endOfDayDataUnit.coveredDays > 0)\n\t\t\t\t{\n\t\t\t\t\tconst _loc12_ = endOfDayDataUnit.relativeMinutes - _loc5_;\n\t\t\t\t\t_loc6_ = Number(_loc6_ + Math.floor(_loc12_ / data.marketDayLength));\n\t\t\t\t}\n\t\t\t\tendOfDayDataUnit = endOfDayDataUnitFor;\n\t\t\t}\n\t\t\treturn _loc6_;\n\t\t}\n\n\t\ttoggleAllAfterHoursSessions(param1: boolean, dataSource?: DataSource)\n\t\t{\n\t\t\tlet _loc3_: DataSource;\n\t\t\tif (dataSource)\n\t\t\t{\n\t\t\t\t_loc3_ = dataSource;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst dataSeries = this.layersManager.getFirstDataSource();\n\t\t\t\tif (!dataSeries)\n\t\t\t\t\treturn;\n\t\t\t\t_loc3_ = dataSeries;\n\t\t\t}\n\t\t\tconst _loc4_ = _loc3_.visibleExtendedHours.length();\n\t\t\tconst _loc5_ = _loc3_.hiddenExtendedHours.length();\n\t\t\tif (param1 === true && _loc5_ > 0 || param1 === false && _loc4_ > 0)\n\t\t\t{\n\t\t\t\tconst visibleExtendedHours = _loc3_.visibleExtendedHours;\n\t\t\t\t_loc3_.visibleExtendedHours = _loc3_.hiddenExtendedHours;\n\t\t\t\t_loc3_.hiddenExtendedHours = visibleExtendedHours;\n\t\t\t}\n\t\t\tthis.computeRelativeTimes(_loc3_);\n\t\t\t_loc3_.computeObjectPositions();\n\t\t\tthis.mainController.syncZoomLevel(true);\n\t\t}\n\n\t\tgetViewPoints(): IViewPoint[]\n\t\t{\n\t\t\treturn this.viewpoints;\n\t\t}\n\n\t\tprivate getViewPointPos(name: string): number\n\t\t{\n\t\t\tfor (let viewPointIndex = 0; viewPointIndex < this.viewpoints.length; viewPointIndex++)\n\t\t\t{\n\t\t\t\tif (this.viewpoints[viewPointIndex].name === name)\n\t\t\t\t\treturn viewPointIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tcomputeRelativeTimes(dataSource: DataSource)\n\t\t{\n\t\t\tif (this.differentMarketSessionComparison)\n\t\t\t\treturn;\n\n\t\t\tdataSource.setRelativeMinutesState(DataSource.RELATIVE_MINUTES_READY);\n\t\t\tconst data = dataSource.data;\n\t\t\tif (data.units.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst afterHoursData = dataSource.afterHoursData;\n\t\t\tconst _loc4_ = Const.INDICATOR_ENABLED ? afterHoursData.getPointsInIntervalArray(Const.INTRADAY_INTERVAL) : null;\n\t\t\tdataSource.firstOpenRelativeMinutes = 0;\n\t\t\tlet interval: StartEndPair | null = null;\n\t\t\tlet _loc6_ = dataSource.visibleExtendedHours.length() - 1;\n\t\t\tif (_loc6_ !== -1)\n\t\t\t\tinterval = dataSource.visibleExtendedHours.getIntervalAt(_loc6_);\n\n\t\t\tconst lastUnit = data.units[data.units.length - 1];\n\t\t\tlet session = notnull(data.getSessionForMinute(lastUnit.dayMinute));\n\t\t\tconst intradayMinutesInterval = dataSource.intradayMinutesInterval;\n\t\t\tlet _loc10_ = 0;\n\t\t\tfor (let unitIndex = data.units.length - 1; unitIndex > 0; unitIndex--)\n\t\t\t{\n\t\t\t\tconst unit = data.units[unitIndex];\n\t\t\t\tunit.relativeMinutes = _loc10_;\n\t\t\t\tif (unit.time >= Const.YEAR_2000 && _loc10_ < dataSource.firstOpenRelativeMinutes)\n\t\t\t\t\tdataSource.firstOpenRelativeMinutes = _loc10_;\n\n\t\t\t\tif (unit.coveredDays > 0)\n\t\t\t\t{\n\t\t\t\t\tif (unitIndex > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst _loc13_ = unit.time - data.units[unitIndex - 1].time;\n\t\t\t\t\t\tconst _loc14_ = Math.floor(_loc13_ / (Const.DAILY_INTERVAL * 1000));\n\t\t\t\t\t\tif (unit.coveredDays > _loc14_)\n\t\t\t\t\t\t\tunit.coveredDays = _loc14_;\n\t\t\t\t\t}\n\t\t\t\t\tif (unit.coveredDays === 0)\n\t\t\t\t\t\t_loc10_ -= intradayMinutesInterval;\n\t\t\t\t\telse\n\t\t\t\t\t\t_loc10_ -= (data.marketDayLength + 1) * unit.coveredDays;\n\t\t\t\t}\n\t\t\t\telse if (unit.dayMinute === session.end && data.minuteIsEndOfDataSession(data.units[unitIndex - 1].dayMinute))\n\t\t\t\t{\n\t\t\t\t\t_loc10_ -= data.marketDayLength + 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconst _loc15_ = unit.dayMinute - session.start;\n\t\t\t\t\tif (_loc15_ >= 0 && _loc15_ < intradayMinutesInterval)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc10_ -= _loc15_ + (session.start === data.marketOpenMinute ? 1 : 0);\n\t\t\t\t\t\tconst _loc16_ = data.units[unitIndex - 1].dayMinute;\n\t\t\t\t\t\tif (!isNaN(_loc16_))\n\t\t\t\t\t\t\tsession = notnull(data.getSessionForMinute(_loc16_));\n\t\t\t\t\t}\n\t\t\t\t\telse if (unit.dayMinute === session.end && interval)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet start = interval.start;\n\t\t\t\t\t\tlet end = interval.end;\n\t\t\t\t\t\tlet _loc19_ = Number(afterHoursData.units[start].time);\n\t\t\t\t\t\twhile (unit.time <= _loc19_)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc20_ = afterHoursData.units[end].dayMinute - afterHoursData.units[start].dayMinute;\n\t\t\t\t\t\t\tunit.relativeMinutes -= _loc20_ + 1;\n\t\t\t\t\t\t\tthis.positionAfterHoursTimes(start, end, _loc10_, intradayMinutesInterval, afterHoursData, _loc4_);\n\t\t\t\t\t\t\t_loc10_ -= _loc20_ + 1;\n\t\t\t\t\t\t\t_loc6_--;\n\t\t\t\t\t\t\tinterval = dataSource.visibleExtendedHours.getIntervalAt(_loc6_);\n\t\t\t\t\t\t\tif (interval)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstart = interval.start;\n\t\t\t\t\t\t\t\tend = interval.end;\n\t\t\t\t\t\t\t\t_loc19_ = Number(afterHoursData.units[start].time);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_loc19_ = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_loc10_ -= intradayMinutesInterval;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc10_ -= intradayMinutesInterval;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.units[0].relativeMinutes = _loc10_;\n\t\t\tif (data.units[0].time >= Const.YEAR_2000 && _loc10_ < dataSource.firstOpenRelativeMinutes)\n\t\t\t\tdataSource.firstOpenRelativeMinutes = _loc10_;\n\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t\tthis.computeRelativeTimesForPointsInIntervals(dataSource);\n\t\t}\n\n\t\tenableIndicatorLayer(indicatorName: string, viewpointName: string, enabled = true)\n\t\t{\n\t\t\tconst viewPoint = this.getViewPoint(viewpointName);\n\t\t\tif (viewPoint)\n\t\t\t{\n\t\t\t\tfor (const layer of viewPoint.getLayers())\n\t\t\t\t{\n\t\t\t\t\tif (layer instanceof indicator.IndicatorLayer)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (indicatorName === layer.getIndicatorName())\n\t\t\t\t\t\t\tlayer.setEnabled(enabled);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\n\t\tsetDifferentMarketSessionComparison(isDifferentMarketSessionComparison: boolean)\n\t\t{\n\t\t\tthis.differentMarketSessionComparison = isDifferentMarketSessionComparison;\n\t\t}\n\n\t\tsetAfterHoursDisplay(param1: boolean, dataSource?: DataSource)\n\t\t{\n\t\t\tlet _loc3_: DataSource | null;\n\t\t\tif (dataSource)\n\t\t\t{\n\t\t\t\t_loc3_ = dataSource;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_loc3_ = this.layersManager.getFirstDataSource();\n\t\t\t\tif (!_loc3_)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst _loc4_ = _loc3_.visibleExtendedHours.length();\n\t\t\tconst _loc5_ = _loc3_.hiddenExtendedHours.length();\n\t\t\tif (param1 === true && _loc4_ + _loc5_ === 0)\n\t\t\t{\n\t\t\t\tconst event = EventFactory.getEvent(ChartDetailTypes.GET_AH_DATA, _loc3_.quoteName, ChartEventPriorities.OPTIONAL);\n\t\t\t\tthis.mainManager.dataManager.expectEvent(event);\n\t\t\t\tthis.mainManager.dataManager.eventHandler(event);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst detailLevel = this.getDetailLevel();\n\t\t\t\tconst _loc8_ = Const.INDICATOR_ENABLED ? this.getEnabledChartLayer() : \"\";\n\t\t\t\tconst _loc9_ = detailLevel === Intervals.INTRADAY || _loc8_ === Const.LINE_CHART && detailLevel < Intervals.DAILY;\n\t\t\t\tif (_loc9_ && this.layersManager.getStyle() === LayersManager.SINGLE)\n\t\t\t\t{\n\t\t\t\t\tthis.toggleAllAfterHoursSessions(param1, _loc3_);\n\t\t\t\t\tif (_loc8_ === Const.CANDLE_STICK || _loc8_ === Const.OHLC_CHART)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst _loc10_ = _loc3_.data.marketDayLength + 1;\n\t\t\t\t\t\tthis.mainController.jumpTo(0, _loc10_ * Const.INTERVAL_PERIODS[detailLevel].days);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.mainController.syncZoomLevel();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprotected setDiffMarketSessionRelativeMinutesState()\n\t\t{\n\t\t\tthis.mainManager.dataManager.dataSources[this.mainManager.quote].setRelativeMinutesState(DataSource.DMS_RELATIVE_MINUTES_READY);\n\t\t\tconst comparedTickers = this.layersManager.getComparedTickers();\n\t\t\tfor (const layer of comparedTickers)\n\t\t\t\tthis.mainManager.dataManager.dataSources[layer].setRelativeMinutesState(DataSource.DMS_RELATIVE_MINUTES_READY);\n\t\t}\n\n\t\tsetEnabledChartLayer(layerType: string)\n\t\t{\n\t\t\tconst mainViewPoint = this.getMainViewPoint();\n\t\t\tconst layers = mainViewPoint.getLayers();\n\t\t\tconst dataSource = this.layersManager ? this.layersManager.getFirstDataSource() : null;\n\t\t\tfor (const layer of layers)\n\t\t\t{\n\t\t\t\tif (layer instanceof IntervalBasedChartManagerLayer)\n\t\t\t\t{\n\t\t\t\t\tif (Boolean(MainManager.paramsObj.displayExtendedHours))\n\t\t\t\t\t{\n\t\t\t\t\t\tif ((!dataSource || dataSource.visibleExtendedHours.length() > 0) && layerType !== Const.LINE_CHART && layer.getEnabledLayerName() === Const.LINE_CHART)\n\t\t\t\t\t\t\tthis.setAfterHoursDisplay(false);\n\t\t\t\t\t}\n\t\t\t\t\tlayer.setEnabledLayer(layerType);\n\t\t\t\t\tif (Boolean(MainManager.paramsObj.displayExtendedHours))\n\t\t\t\t\t{\n\t\t\t\t\t\tif ((!dataSource || dataSource.visibleExtendedHours.length() === 0) && Const.CHART_STYLE_NAMES.indexOf(layerType) !== -1)\n\t\t\t\t\t\t\tthis.setAfterHoursDisplay(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.update();\n\t\t}\n\n\t\tcomputeRelativeTimesForDiffSessionComparison()\n\t\t{\n\t\t\tthis.setDiffMarketSessionRelativeMinutesState();\n\t\t\tconst dataUnits: DataUnit[] = [];\n\t\t\tconst comparedDataSeries = this.getComparedDataSeries();\n\t\t\tfor (const dataSeries of comparedDataSeries)\n\t\t\t{\n\t\t\t\tfor (const unit of this.extractInterdayPoints(dataSeries))\n\t\t\t\t\tdataUnits.push(unit);\n\t\t\t}\n\t\t\tif (dataUnits.length === 0)\n\t\t\t\treturn;\n\n\t\t\tdataUnits.sort(Utils.compareDataUnits);\n\t\t\tlet minutes = 0;\n\t\t\tconst _loc5_ = dataUnits[dataUnits.length - 1];\n\t\t\tlet date = new Date(_loc5_.exchangeDateInUTC.fullYearUTC, _loc5_.exchangeDateInUTC.monthUTC, _loc5_.exchangeDateInUTC.dateUTC);\n\t\t\tfor (let unitIndex = dataUnits.length - 1; unitIndex >= 0; unitIndex--)\n\t\t\t{\n\t\t\t\tconst _loc10_ = dataUnits[unitIndex];\n\t\t\t\tconst exchangeDateInUTC = _loc10_.exchangeDateInUTC;\n\t\t\t\tif (exchangeDateInUTC.dateUTC !== date.date || exchangeDateInUTC.monthUTC !== date.month || exchangeDateInUTC.fullYearUTC !== date.fullYear)\n\t\t\t\t{\n\t\t\t\t\tconst exchangeDate = new Date(exchangeDateInUTC.fullYearUTC, exchangeDateInUTC.monthUTC, exchangeDateInUTC.dateUTC);\n\t\t\t\t\tconst _loc13_ = this.mainManager ? this.mainManager.weekdayBitmap : Const.DEFAULT_WEEKDAY_BITMAP;\n\t\t\t\t\tminutes -= Utils.getWeekdaysDifference(exchangeDate, date, _loc13_);\n\t\t\t\t\tdate = exchangeDate;\n\t\t\t\t}\n\t\t\t\t_loc10_.relativeMinutes = minutes;\n\t\t\t}\n\n\t\t\tfor (const dataSeries of comparedDataSeries)\n\t\t\t{\n\t\t\t\tconst units = dataSeries.units;\n\t\t\t\tif (units.length !== 0)\n\t\t\t\t{\n\t\t\t\t\tlet _loc14_ = 0;\n\t\t\t\t\twhile (_loc14_ < units.length && isNaN(units[_loc14_].relativeMinutes))\n\t\t\t\t\t\t_loc14_++;\n\n\t\t\t\t\tif (_loc14_ !== units.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tminutes = units[_loc14_].relativeMinutes;\n\t\t\t\t\t\tfor (let unitIndex = _loc14_ + 1; unitIndex < units.length; unitIndex++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (isNaN(units[unitIndex].relativeMinutes))\n\t\t\t\t\t\t\t\tunits[unitIndex].relativeMinutes = minutes;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tminutes = units[unitIndex].relativeMinutes;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetIndicatorInstanceArray(viewPointName: string, indicators: any[])\n\t\t{\n\t\t\tconst mainViewPoint = this.getMainViewPoint();\n\t\t\tconst mainLayers = mainViewPoint.getLayers();\n\t\t\tfor (const layer of mainLayers)\n\t\t\t{\n\t\t\t\tif (layer instanceof indicator.DependentIndicatorLayer)\n\t\t\t\t{\n\t\t\t\t\tif (viewPointName === layer.getIndicatorName())\n\t\t\t\t\t\tlayer.setIndicatorInstanceArray(indicators);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst bottomViewPoint = this.getViewPoint(Const.BOTTOM_VIEW_POINT_NAME);\n\t\t\tif (bottomViewPoint)\n\t\t\t{\n\t\t\t\tfor (const bottomLayer of bottomViewPoint.getLayers())\n\t\t\t\t{\n\t\t\t\t\tif (bottomLayer instanceof indicator.VolumeDependentIndicatorLayer)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (viewPointName === bottomLayer.getIndicatorName())\n\t\t\t\t\t\t\tbottomLayer.setIndicatorInstanceArray(indicators);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst viewPoint = this.getViewPoint(viewPointName);\n\t\t\tconst layers = !viewPoint ? [] : viewPoint.getLayers();\n\t\t\tfor (const layer of layers)\n\t\t\t{\n\t\t\t\tif (layer instanceof indicator.IndependentIndicatorLayer)\n\t\t\t\t{\n\t\t\t\t\tif (viewPointName === layer.getIndicatorName())\n\t\t\t\t\t\tlayer.setIndicatorInstanceArray(indicators);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.update();\n\t\t}\n\n\t\tgetDetailLevel(): Intervals\n\t\t{\n\t\t\tconst mainViewPoint = this.getMainViewPoint();\n\t\t\tconst interval = Const.INDICATOR_ENABLED ? mainViewPoint.getDetailLevelForTechnicalStyle() : mainViewPoint.getDetailLevel();\n\t\t\tif (interval === Intervals.INVALID)\n\t\t\t{\n\t\t\t\tconst zoomLevel = Const.getZoomLevel(Const.MARKET_DAY_LENGTH * Const.getDefaultDisplayDays(), Const.MARKET_DAY_LENGTH);\n\t\t\t\tif (zoomLevel <= ScaleTypes.SCALE_1Y)\n\t\t\t\t\treturn Intervals.WEEKLY;\n\n\t\t\t\tif (zoomLevel <= ScaleTypes.SCALE_1M)\n\t\t\t\t\treturn Intervals.DAILY;\n\n\t\t\t\treturn Intervals.INTRADAY;\n\t\t\t}\n\t\t\treturn interval;\n\t\t}\n\n\t\tgetEnabledChartLayer(): string\n\t\t{\n\t\t\tconst mainViewPoint = this.getMainViewPoint();\n\t\t\tconst layers = mainViewPoint.getLayers();\n\t\t\tfor (const layer of layers)\n\t\t\t{\n\t\t\t\tif (layer instanceof IntervalBasedChartManagerLayer)\n\t\t\t\t\treturn (<IntervalBasedChartManagerLayer>layer).getEnabledLayerName();\n\t\t\t}\n\t\t\tconst enabledChartLayerName = IntervalBasedChartManagerLayer.getEnabledChartLayerName();\n\t\t\treturn enabledChartLayerName ? enabledChartLayerName : Const.DEFAULT_CHART_STYLE_NAME;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class StockAssociatedObject\n\t\textends SeriesPosition\n\t{\n\t\t//public refDataSeries: com.google.finance.DataSeries;\n\t\t//public pos: number;\n\t\t//public dayPos: number;\n\n\t\tactive = false;\n\t\toriginalObject: any;\n\n\t\tconstructor(pos: number, dayPos: number, public posInInterval: SeriesPosition[] | null, public time: number, public exchangeDateInUTC: Date, public id: number, public qname: string)\n\t\t{\n\t\t\tsuper(null, pos, dayPos);\n\t\t}\n\n\t\tstatic compare(obj1: StockAssociatedObject, obj2: StockAssociatedObject): number\n\t\t{\n\t\t\tconst time1 = obj1.time;\n\t\t\tconst time2 = obj2.time;\n\t\t\tif (time1 < time2)\n\t\t\t\treturn -1;\n\n\t\t\tif (time1 > time2)\n\t\t\t\treturn 1;\n\n\t\t\tif (obj1 instanceof PinPoint && obj2 instanceof PinPoint)\n\t\t\t{\n\t\t\t\t// TODO: PinPoint only?\n\t\t\t\tif (obj1.letter < obj2.letter)\n\t\t\t\t\treturn -1;\n\n\t\t\t\tif (obj1.letter > obj2.letter)\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\ttoString(): string\n\t\t{\n\t\t\treturn this.id + ' ' + this.pos;\n\t\t}\n\n\t\tgetRelativeMinutes(param1: number = -1): number\n\t\t{\n\t\t\tif (!this.posInInterval)\n\t\t\t\treturn notnull(this.refDataSeries).units[this.pos].relativeMinutes;\n\n\t\t\tif (!this.posInInterval[param1])\n\t\t\t\treturn NaN;\n\n\t\t\tconst refDataSeries = this.posInInterval[param1].refDataSeries;\n\t\t\tconst position = this.posInInterval[param1].position;\n\t\t\treturn notnull(refDataSeries).getPointsInIntervalArray(param1)[position].relativeMinutes;\n\t\t}\n\t}\n}\n","/// <reference path=\"StockAssociatedObject.ts\" />\n\nnamespace com.google.finance\n{\n\texport class Dividend extends StockAssociatedObject\n\t{\n\t\tyield: number;\n\n\t\tconstructor(pos: number, dayPos: number, posInInterval: SeriesPosition[] | null, time: number, exchangeDateInUTC: Date, id: number, qname: string, public amount: number, public currency: string, param10: number)\n\t\t{\n\t\t\tsuper(pos, dayPos, posInInterval, time, exchangeDateInUTC, id, qname);\n\t\t\tthis.yield = amount / param10;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class SplitMovie_SplitArrowClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\n\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class SplitMovie_SplitArrowSidewaysClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class SplitMovie_SplitArrowSidewaysOverClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\n/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\n\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class SplitMovie_SplitArrowOnOverClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n/// <reference path=\"SplitMovie_SplitArrowClass.ts\" />\n/// <reference path=\"SplitMovie_SplitArrowSidewaysClass.ts\" />\n/// <reference path=\"SplitMovie_SplitArrowSidewaysOverClass.ts\" />\n/// <reference path=\"SplitMovie_SplitArrowOnOverClass.ts\" />\n\nnamespace com.google.finance\n{\n\t//import flash.display.Sprite;\n\t//import flash.text.TextFormat;\n\t//import flash.display.Graphics;\n\t//import flash.display.Bitmap;\n\t//import com.google.i18n.locale.DateTimeLocale;\n\t//import flash.text.TextField;\n\t//import flash.text.TextFieldAutoSize;\n\t//import flash.display.SimpleButton;\n\t//import flash.events.MouseEvent;\n\t//import flash.events.Event;\n\n\t//import { MainManager } from \"./com/google/*\";\n\n\texport class SplitMovie extends flash.display.Sprite\n\t{\n\t\tprivate static readonly SplitArrowClass = SplitMovie_SplitArrowClass;\n\t\tprivate static readonly SplitArrowSidewaysClass = SplitMovie_SplitArrowSidewaysClass;\n\t\tprivate static readonly SplitArrowSidewaysOverClass = SplitMovie_SplitArrowSidewaysOverClass;\n\t\tprivate static readonly SplitArrowOnOverClass = SplitMovie_SplitArrowOnOverClass;\n\n\t\tprivate associatedSplit: Split;\n\t\tprivate persistentHide: boolean;\n\n\t\tprotected textFormat = new flash.text.TextFormat(\"Verdana\", 9, this.getTextColor(), true, false, false);\n\t\tprotected arrowOrientation = Orientations.DOWN;\n\t\tprotected arrow: flash.display.Bitmap;\n\t\tprotected readonly detailsTextField = new flash.text.TextField();\n\t\tprotected highlightCanvas: flash.display.Sprite;\n\t\tprotected text: flash.text.TextField;\n\t\tprotected textColor: number;\n\t\tprotected arrowOnOver: flash.display.Bitmap;\n\t\tprotected previousText: string;\n\t\tprotected currentVisibleButton: flash.display.SimpleButton;\n\t\tprotected sidewaysButton: flash.display.SimpleButton;\n\t\tprotected arrowSidewaysOver: flash.display.Bitmap;\n\t\tprotected supportingLayer: AbstractLayer<ViewPoint>;\n\t\tprotected arrowSideways: flash.display.Bitmap;\n\t\tprotected readonly detailsTextFormat = new flash.text.TextFormat(\"Arial\", 11, 0, false, false, false);\n\t\tprotected regularButton: flash.display.SimpleButton;\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.initArrows();\n\t\t\tthis.createButtons();\n\t\t\tthis.currentVisibleButton = this.attachRegularArrow();\n\t\t\tthis.regularButton.x = -this.regularButton.width / 2;\n\t\t\tthis.detailsTextField.defaultTextFormat = this.detailsTextFormat;\n\t\t\tthis.detailsTextField.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.text = this.initTextField();\n\t\t\tthis.addChild(this.text);\n\t\t\tthis.attachArrowListeners();\n\t\t\tthis.highlightCanvas = this;\n\t\t}\n\n\t\tprotected getTextColor(): number\n\t\t{\n\t\t\treturn 2210891;\n\t\t}\n\n\t\tshowDetails()\n\t\t{\n\t\t\tthis.hideText();\n\t\t\tthis.highlightCanvas.addChild(this.detailsTextField);\n\t\t\tthis.detailsTextField.x = this.x + this.currentVisibleButton.x;\n\t\t\tthis.detailsTextField.y = this.y - this.currentVisibleButton.height;\n\t\t\tthis.detailsTextField.text = this.getDetailedText();\n\t\t\tthis.detailsTextField.appendText(\"\\n\" + this.getDateText());\n\t\t\tif (this.currentVisibleButton.scaleY === -1)\n\t\t\t\tthis.detailsTextField.y = this.y + this.currentVisibleButton.height - this.detailsTextField.height;\n\t\t\telse\n\t\t\t\tthis.detailsTextField.y = this.y - this.currentVisibleButton.height - this.detailsTextField.height;\n\n\t\t\tconst left = this.detailsTextField.x - 2;\n\t\t\tconst top = this.detailsTextField.y - 2;\n\t\t\tconst right = this.detailsTextField.x + this.detailsTextField.width + 2;\n\t\t\tconst bottom = this.detailsTextField.y + this.detailsTextField.height + 2;\n\t\t\tlet leftMargin = -2;\n\t\t\tconst minx = this.supportingLayer.viewPoint.minx;\n\t\t\tconst maxx = this.supportingLayer.viewPoint.maxx;\n\t\t\tif (left < minx)\n\t\t\t\tleftMargin = Number(minx - left - 2);\n\t\t\telse if (right > maxx)\n\t\t\t\tleftMargin = Number(maxx - right - 2);\n\n\t\t\tthis.detailsTextField.x += leftMargin;\n\t\t\tconst graphics = this.highlightCanvas.graphics;\n\t\t\tgraphics.lineStyle(0, this.textColor, 1);\n\t\t\tgraphics.beginFill(0xffffff, 1);\n\t\t\tgraphics.drawRect(\n\t\t\t\tleft + leftMargin, top,\n\t\t\t\tright - left, bottom - top\n\t\t\t);\n\t\t\t/*\n\t\t\t_loc9_.moveTo(_loc2_ + _loc6_, _loc3_);\n\t\t\t_loc9_.lineTo(_loc4_ + _loc6_, _loc3_);\n\t\t\t_loc9_.lineTo(_loc4_ + _loc6_, _loc5_);\n\t\t\t_loc9_.lineTo(_loc2_ + _loc6_, _loc5_);\n\t\t\t_loc9_.lineTo(_loc2_ + _loc6_, _loc3_);\n\t\t\t*/\n\t\t\tgraphics.endFill();\n\t\t}\n\n\t\tgetShortText(param1 = false): string\n\t\t{\n\t\t\treturn this.associatedSplit.newShares + ':' + this.associatedSplit.oldShares;\n\t\t}\n\n\t\tsetOrientation(orientation: Orientations)\n\t\t{\n\t\t\tthis.checkArrowChange(orientation);\n\t\t\tif (this.currentVisibleButton)\n\t\t\t{\n\t\t\t\tswitch (orientation)\n\t\t\t\t{\n\t\t\t\t\tcase Orientations.UP:\n\t\t\t\t\tcase Orientations.SIDEWAYS_UP:\n\t\t\t\t\t\tthis.currentVisibleButton.scaleY = -1;\n\t\t\t\t\t\tthis.text.y = this.arrow.height - 3;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Orientations.DOWN:\n\t\t\t\t\tcase Orientations.SIDEWAYS_DOWN:\n\t\t\t\t\t\tthis.currentVisibleButton.scaleY = 1;\n\t\t\t\t\t\tthis.currentVisibleButton.y = -this.arrow.height;\n\t\t\t\t\t\tthis.text.y = -this.arrow.height + 2 - this.text.height;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.arrowOrientation = orientation;\n\t\t}\n\n\t\tgetDateText(): string\n\t\t{\n\t\t\tconst exchangeDateInUTC = this.associatedSplit.exchangeDateInUTC;\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\treturn i18n.locale.DateTimeLocale.standardFormatDateTime(i18n.locale.DateTimeFormats.LONG_DATE_FORMAT, exchangeDateInUTC, true);\n\n\t\t\treturn i18n.locale.DateTimeLocale.standardFormatDateTime(i18n.locale.DateTimeFormats.MEDIUM_DATE_FORMAT, exchangeDateInUTC, true);\n\t\t}\n\n\t\thideDetails()\n\t\t{\n\t\t\tthis.showText();\n\t\t\ttry\n\t\t\t{\n\t\t\t\tthis.highlightCanvas.removeChild(this.detailsTextField);\n\t\t\t}\n\t\t\tcatch (ae /*:ArgumentError*/)\n\t\t\t{\n\t\t\t}\n\t\t\tthis.highlightCanvas.graphics.clear();\n\t\t}\n\n\t\tsetSupportingLayer(abstractLayer: AbstractLayer<ViewPoint>)\n\t\t{\n\t\t\tthis.supportingLayer = abstractLayer;\n\t\t}\n\n\t\tprivate initTextField(): flash.text.TextField\n\t\t{\n\t\t\tconst textField = new flash.text.TextField();\n\t\t\ttextField.autoSize = flash.text.TextFieldAutoSize.CENTER;\n\t\t\ttextField.x = 0;\n\t\t\ttextField.selectable = false;\n\t\t\ttextField.cacheAsBitmap = false;\n\t\t\ttextField.defaultTextFormat = this.textFormat;\n\t\t\treturn textField;\n\t\t}\n\n\t\tprivate positionRegularArrow()\n\t\t{\n\t\t\tthis.currentVisibleButton.x = -this.currentVisibleButton.width / 2;\n\t\t\tthis.text.x = -this.text.width / 2;\n\t\t}\n\n\t\thideText()\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tthis.removeChild(this.text);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcatch (ae /*:ArgumentError*/)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tprivate attachRegularArrow(): flash.display.SimpleButton\n\t\t{\n\t\t\tif (this.currentVisibleButton)\n\t\t\t\tthis.removeChild(this.currentVisibleButton);\n\n\t\t\tthis.addChild(this.regularButton);\n\t\t\treturn this.regularButton;\n\t\t}\n\n\t\tprotected initArrows()\n\t\t{\n\t\t\tthis.arrow = new SplitMovie.SplitArrowClass();\n\t\t\tthis.arrowOnOver = new SplitMovie.SplitArrowOnOverClass();\n\t\t\tthis.arrowSideways = new SplitMovie.SplitArrowSidewaysClass();\n\t\t\tthis.arrowSidewaysOver = new SplitMovie.SplitArrowSidewaysOverClass();\n\t\t}\n\n\t\tsetObject(stockAssociatedObject: StockAssociatedObject)\n\t\t{\n\t\t\tthis.associatedSplit = stockAssociatedObject as Split;\n\t\t\tthis.showText();\n\t\t}\n\n\t\tprivate attachSidewaysArrow(): flash.display.SimpleButton\n\t\t{\n\t\t\tif (this.currentVisibleButton)\n\t\t\t\tthis.removeChild(this.currentVisibleButton);\n\t\t\tthis.addChild(this.sidewaysButton);\n\t\t\treturn this.sidewaysButton;\n\t\t}\n\n\t\tshowText(param1?: string)\n\t\t{\n\t\t\tif (this.persistentHide)\n\t\t\t\treturn;\n\n\t\t\tthis.addChild(this.text);\n\t\t\tparam1 = param1 || this.getShortText();\n\t\t\tif (this.text.text !== param1)\n\t\t\t\tthis.text.text = param1;\n\t\t}\n\n\t\tprivate attachArrowListeners()\n\t\t{\n\t\t\tthis.currentVisibleButton.addEventListener(MouseEvents.MOUSE_OVER, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t\tMainManager.mouseCursor.lockOnDisplayObject(this.currentVisibleButton);\n\t\t\t\tthis.showDetails();\n\t\t\t});\n\t\t\tthis.currentVisibleButton.addEventListener(MouseEvents.MOUSE_OUT, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.unlock();\n\t\t\t\tthis.hideDetails();\n\t\t\t});\n\t\t}\n\n\t\tprivate createButtons()\n\t\t{\n\t\t\tthis.regularButton = new flash.display.SimpleButton(\"regularButton\");\n\t\t\tthis.regularButton.overState = this.arrowOnOver;\n\t\t\tthis.regularButton.downState = this.arrowOnOver;\n\t\t\tthis.regularButton.hitTestState = this.arrow;\n\t\t\tthis.regularButton.upState = this.arrow;\n\t\t\tthis.arrowOnOver.y = this.arrow.y + this.arrow.height - this.arrowOnOver.height;\n\t\t\tthis.arrowOnOver.x = this.arrow.x;\n\t\t\tthis.sidewaysButton = new flash.display.SimpleButton(\"sidewaysButton\");\n\t\t\tthis.sidewaysButton.overState = this.arrowSidewaysOver;\n\t\t\tthis.sidewaysButton.downState = this.arrowSidewaysOver;\n\t\t\tthis.sidewaysButton.hitTestState = this.arrowSideways;\n\t\t\tthis.sidewaysButton.upState = this.arrowSideways;\n\t\t\tthis.arrowSidewaysOver.y = this.arrowSideways.y + this.arrowSideways.height - this.arrowSidewaysOver.height;\n\t\t\tthis.arrowSidewaysOver.x = this.arrowSideways.x;\n\t\t}\n\n\t\tsetHighlightCanvas(sprite: flash.display.Sprite)\n\t\t{\n\t\t\tthis.highlightCanvas = sprite;\n\t\t}\n\n\t\tprivate checkArrowChange(orientation: Orientations)\n\t\t{\n\t\t\tif ((this.arrowOrientation === Orientations.UP || this.arrowOrientation === Orientations.DOWN) && (orientation === Orientations.SIDEWAYS_UP || orientation === Orientations.SIDEWAYS_DOWN))\n\t\t\t{\n\t\t\t\tthis.currentVisibleButton = this.attachSidewaysArrow();\n\t\t\t\tthis.positionSidewaysArrow();\n\t\t\t}\n\t\t\tif ((this.arrowOrientation === Orientations.SIDEWAYS_UP || this.arrowOrientation === Orientations.SIDEWAYS_DOWN) && (orientation === Orientations.UP || orientation === Orientations.DOWN))\n\t\t\t{\n\t\t\t\tthis.currentVisibleButton = this.attachRegularArrow();\n\t\t\t\tthis.positionRegularArrow();\n\t\t\t}\n\t\t\tthis.attachArrowListeners();\n\t\t}\n\n\t\tprotected positionSidewaysArrow()\n\t\t{\n\t\t\tthis.currentVisibleButton.x = -this.currentVisibleButton.width + 1;\n\t\t\tthis.text.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.text.x = -this.text.width + 1;\n\t\t}\n\n\t\tgetDetailedText(): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.SPLIT_TEXT, this.getShortText());\n\t\t}\n\n\t\tsetPersistentHide(persistentHide: boolean)\n\t\t{\n\t\t\tthis.persistentHide = persistentHide;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class DividendMovie_DividendArrowClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class DividendMovie_DividendArrowOnOverClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class DividendMovie_DividendArrowSidewaysClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class DividendMovie_DividendArrowSidewaysOverClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"SplitMovie.ts\" />\n/// <reference path=\"DividendMovie_DividendArrowClass.ts\" />\n/// <reference path=\"DividendMovie_DividendArrowOnOverClass.ts\" />\n/// <reference path=\"DividendMovie_DividendArrowSidewaysClass.ts\" />\n/// <reference path=\"DividendMovie_DividendArrowSidewaysOverClass.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.text.TextFieldAutoSize;\n\t// import com.google.i18n.locale.DateTimeLocale;\n\n\texport class DividendMovie extends SplitMovie\n\t{\n\t\tprivate static dividendArrowClass = DividendMovie_DividendArrowClass;\n\t\tprivate static dividendArrowOnOverClass = DividendMovie_DividendArrowOnOverClass;\n\t\tprivate static dividendArrowSidewaysClass = DividendMovie_DividendArrowSidewaysClass;\n\t\tprivate static dividendArrowSidewaysOverClass = DividendMovie_DividendArrowSidewaysOverClass;\n\n\t\tprivate associatedDividend: Dividend;\n\n\t\tprotected getTextColor(): number\n\t\t{\n\t\t\treturn 0x66dd;\n\t\t}\n\n\t\tprotected initArrows()\n\t\t{\n\t\t\tthis.arrow = new DividendMovie.dividendArrowClass();\n\t\t\tthis.arrowOnOver = new DividendMovie.dividendArrowOnOverClass();\n\t\t\tthis.arrowSideways = new DividendMovie.dividendArrowSidewaysClass();\n\t\t\tthis.arrowSidewaysOver = new DividendMovie.dividendArrowSidewaysOverClass();\n\t\t}\n\n\t\tgetDetailedText(): string\n\t\t{\n\t\t\tif (MainManager.paramsObj.companyCurrency && this.associatedDividend.currency && MainManager.paramsObj.differentDividendCurrency)\n\t\t\t\treturn Message.getMsg(Messages.DIVIDEND_TEXT_NO_PERCENT, this.getShortText(true));\n\n\t\t\tconst _loc1_ = Math.floor(this.associatedDividend.yield * 10000) / 100;\n\t\t\tconst _loc2_ = _loc1_ + '%';\n\t\t\treturn Message.getMsg(Messages.DIVIDEND_TEXT, this.getShortText(true), _loc2_);\n\t\t}\n\n\t\tsetObject(dividend: Dividend)\n\t\t{\n\t\t\tthis.associatedDividend = dividend;\n\t\t\tthis.showText();\n\t\t}\n\n\t\tprotected positionSidewaysArrow()\n\t\t{\n\t\t\tthis.currentVisibleButton.x = -1;\n\t\t\tthis.text.autoSize = flash.text.TextFieldAutoSize.RIGHT;\n\t\t\tthis.text.x = 0;\n\t\t}\n\n\t\tgetDateText(): string\n\t\t{\n\t\t\tconst exchangeDateInUTC = this.associatedDividend.exchangeDateInUTC;\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\treturn i18n.locale.DateTimeLocale.standardFormatDateTime(i18n.locale.DateTimeFormats.LONG_DATE_FORMAT, exchangeDateInUTC, true);\n\n\t\t\treturn i18n.locale.DateTimeLocale.standardFormatDateTime(i18n.locale.DateTimeFormats.MEDIUM_DATE_FORMAT, exchangeDateInUTC, true);\n\t\t}\n\n\t\tgetShortText(param1 = false): string\n\t\t{\n\t\t\tlet _loc3_ = false;\n\t\t\tconst amount = this.associatedDividend.amount;\n\t\t\tif (!Boolean(Const.DISPLAY_DIVIDENDS_UNITS))\n\t\t\t{\n\t\t\t\t_loc3_ = !MainManager.paramsObj.companyCurrency || !this.associatedDividend.currency || MainManager.paramsObj.differentDividendCurrency;\n\t\t\t\tconst _loc4_ = this.associatedDividend.currency && _loc3_ ? this.associatedDividend.currency : \"\";\n\t\t\t\tif (!param1)\n\t\t\t\t{\n\t\t\t\t\tfor (let _loc5_ = 100; _loc5_ < 10000; _loc5_ = _loc5_ * 10)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst _loc6_ = Math.round(amount * _loc5_) / _loc5_;\n\t\t\t\t\t\tif (_loc6_ !== 0)\n\t\t\t\t\t\t\treturn _loc4_ + _loc6_;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn _loc4_ + '0';\n\t\t\t\t}\n\t\t\t\treturn _loc4_ + amount.toString();\n\t\t\t}\n\t\t\tif (amount < 1)\n\t\t\t{\n\t\t\t\tlet _loc7_ = amount * 100;\n\t\t\t\tif (!param1)\n\t\t\t\t{\n\t\t\t\t\tif (Math.round(_loc7_) === 0)\n\t\t\t\t\t\t_loc7_ = Math.round(_loc7_ * 10) / 10;\n\t\t\t\t\telse\n\t\t\t\t\t\t_loc7_ = Math.round(_loc7_);\n\t\t\t\t}\n\t\t\t\treturn _loc7_ + String.fromCharCode(162);\n\t\t\t}\n\t\t\tlet _loc8_ = amount;\n\t\t\tif (!param1)\n\t\t\t\t_loc8_ = Math.round(_loc8_ * 100) / 100;\n\n\t\t\treturn '$' + _loc8_;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.display.SimpleButton;\n\n\texport class DraggableHandle extends flash.display.Sprite\n\t{\n\t\treadonly button = new flash.display.SimpleButton();\n\n\t\tconstructor(param1: typeof flash.display.Bitmap, param2: typeof flash.display.Bitmap)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.button.overState = this.button.downState = new param2();\n\t\t\tthis.button.hitTestState = this.button.upState = new param1();\n\t\t\tthis.button.useHandCursor = false;\n\t\t\tthis.addChild(this.button);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class EventFactory\n\t{\n\t\tprivate static buildEvent(chartEventType: ChartEventTypes, quote: string, period: string, interval: number, columns: string, detailType: ChartDetailTypes | null = null): ChartEvent\n\t\t{\n\t\t\tconst chartEvent = new ChartEvent(chartEventType);\n\t\t\tchartEvent.detailType = detailType;\n\t\t\tchartEvent.quote = quote;\n\t\t\tchartEvent.period = period;\n\t\t\tchartEvent.interval = \"\" + interval;\n\t\t\tchartEvent.columns = columns;\n\t\t\treturn chartEvent;\n\t\t}\n\n\t\tstatic getEvent(detailType: ChartDetailTypes, quote: string, priorities: ChartEventPriorities): ChartEvent\n\t\t{\n\t\t\tlet event: ChartEvent;\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tconst delayedMinutes: number = MainManager.paramsObj && MainManager.paramsObj.delayedMinutes >= 0 ? MainManager.paramsObj.delayedMinutes : 0;\n\t\t\t\tswitch (detailType)\n\t\t\t\t{\n\t\t\t\t\tdefault:\n\t\t\t\t\tcase ChartDetailTypes.GET_1Y_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"1Y\", Const.DAILY_INTERVAL, \"d,c,v,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_5Y_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"5Y\", Const.WEEKLY_INTERVAL, \"d,c,v,k,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_2Y_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"2Y\", Const.DAILY_INTERVAL, \"d,c,v\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_5D_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"5d\", Const.INTRADAY_INTERVAL, \"d,c,v,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_AH_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_AH_DATA, quote, \"5d\", Const.INTRADAY_INTERVAL, \"d,c,v,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.MUTF_5D_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_MUTF_DATA, quote, \"5d\", Const.DAILY_INTERVAL, \"d,c,v\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_40Y_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"40Y\", Const.WEEKLY_INTERVAL, \"d,c,v,k,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_10D_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"10d\", Const.FIVE_MINUTE_INTERVAL, \"d,c,v,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_30D_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"30d\", Const.HALF_HOUR_INTERVAL, \"d,c,v,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_RT_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_RT_DATA, quote, \"\" + (delayedMinutes + 10) + 'm', Const.INTRADAY_INTERVAL, \"d,c,v,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_RT_AH_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_RT_AH_DATA, quote, \"\" + (delayedMinutes + 10) + 'm', Const.INTRADAY_INTERVAL, \"d,c,v,o,h,l\", detailType);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tswitch (detailType)\n\t\t\t\t{\n\t\t\t\t\tdefault:\n\t\t\t\t\tcase ChartDetailTypes.GET_1Y_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"1Y\", Const.DAILY_INTERVAL, \"d,c,v\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_5Y_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"5Y\", Const.WEEKLY_INTERVAL, \"d,c,v,k\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_2Y_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"2Y\", Const.DAILY_INTERVAL, \"d,c,v\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_5D_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"5d\", Const.INTRADAY_INTERVAL, \"d,c,v\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_AH_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_AH_DATA, quote, \"5d\", Const.INTRADAY_INTERVAL, \"d,c,v\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.MUTF_5D_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_MUTF_DATA, quote, \"5d\", Const.DAILY_INTERVAL, \"d,c,v\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ChartDetailTypes.GET_40Y_DATA:\n\t\t\t\t\t\tevent = EventFactory.buildEvent(ChartEventTypes.GET_DATA, quote, \"40Y\", Const.WEEKLY_INTERVAL, \"d,c,v,k\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tevent.priority = priorities;\n\t\t\treturn event;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import com.google.finance.indicator.IndicatorPoint;\n\n\texport class GVizFormatConverter\n\t{\n\t\tprivate static readonly VALUE_PROPERTY_NAME = 'v';\n\t\tprivate static readonly COLS_PROPERTY_NAME = \"cols\";\n\t\tprivate static readonly ROWS_PROPERTY_NAME = \"rows\";\n\t\tprivate static readonly TYPE_PROPERTY_NAME = \"type\";\n\t\tprivate static readonly COL_PROPERTY_NAME = 'c';\n\t\tprivate static readonly NUMBER_TYPE = \"number\";\n\t\tprivate static readonly DATETIME_TYPE = \"datetime\";\n\n\t\tstatic validateGVizData(param1: any): boolean\n\t\t{\n\t\t\tconst _loc2_ = param1 ? param1[GVizFormatConverter.COLS_PROPERTY_NAME] : null;\n\t\t\tif (!_loc2_ || _loc2_.length === 0)\n\t\t\t\treturn false;\n\n\t\t\tif (_loc2_[0][GVizFormatConverter.TYPE_PROPERTY_NAME] !== GVizFormatConverter.DATETIME_TYPE)\n\t\t\t\treturn false;\n\n\t\t\tfor (let _loc3_ = 1; _loc3_ < _loc2_.length; _loc3_++)\n\t\t\t{\n\t\t\t\tif (_loc2_[_loc3_][GVizFormatConverter.TYPE_PROPERTY_NAME] !== GVizFormatConverter.NUMBER_TYPE)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tstatic convertGVizData(properties: any, interval: number, dataSeries: DataSeries, indicator: Indicator)\n\t\t{\n\t\t\tif (!GVizFormatConverter.validateGVizData(properties))\n\t\t\t\treturn;\n\n\t\t\tconst points = dataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points || points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst rows = properties[GVizFormatConverter.ROWS_PROPERTY_NAME];\n\t\t\tconst dataSeriesArray: DataSeries[] = [];\n\t\t\tfor (let _loc8_ = 1; _loc8_ < properties[GVizFormatConverter.COLS_PROPERTY_NAME].length; _loc8_++)\n\t\t\t\tdataSeriesArray.push(new DataSeries());\n\n\t\t\tfor (const row of rows)\n\t\t\t{\n\t\t\t\tconst _loc9_ = row[GVizFormatConverter.COL_PROPERTY_NAME][0][GVizFormatConverter.VALUE_PROPERTY_NAME];\n\t\t\t\tconst _loc10_ = Date.parse(_loc9_.toString());\n\t\t\t\tconst point = points[dataSeries.getTimestampIndex(_loc10_, points)];\n\t\t\t\tfor (let index = 1; index < row[GVizFormatConverter.COL_PROPERTY_NAME].length; index++)\n\t\t\t\t{\n\t\t\t\t\tconst value = row[GVizFormatConverter.COL_PROPERTY_NAME][index][GVizFormatConverter.VALUE_PROPERTY_NAME];\n\t\t\t\t\tdataSeriesArray[index - 1].points.push(new finance.indicator.IndicatorPoint(value, point));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tindicator.clear(interval);\n\t\t\tfor (let dataSeriesIndex = 0; dataSeriesIndex < dataSeriesArray.length; dataSeriesIndex++)\n\t\t\t\tindicator.setDataSeries(interval, dataSeriesArray[dataSeriesIndex], dataSeriesIndex);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\n\texport class Position\n\t{\n\t\tx: number;\n\t\ty: number;\n\t\torientation: Orientations;\n\t}\n\n\texport class IndependentObjectsLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tstatic readonly POSITION_BOTTOM = \"bottom\";\n\t\tstatic readonly HIDE_TEXT_THRESHOLD = 1500;\n\t\tstatic readonly POSITION_CHART = \"chart\";\n\t\tstatic readonly TOP_DEPTH = 16000;\n\t\tstatic readonly MIN_PADDING = 20;\n\t\tstatic readonly OBJECT_DISTANCE = 6;\n\n\t\tprivate readonly movies: SplitMovie[] = [];\n\t\tprivate readonly highlightCanvas = new flash.display.Sprite(\"highlightCanvas\");\n\t\tprivate activeMovies: number = 0;\n\n\t\trenderObj: string;\n\t\tavoidObj: string;\n\t\tpositioning = IndependentObjectsLayer.POSITION_CHART;\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tviewPoint.addChildToTopCanvas(this.highlightCanvas);\n\t\t}\n\n\t\tprivate resetCanvas()\n\t\t{\n\t\t\tfor (const movie of this.movies)\n\t\t\t\tthis.removeChild(movie);\n\n\t\t\tthis.movies.splice(0);\n\t\t}\n\n\t\tgetYPos(context: Context, dataUnit: DataUnit): number\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\treturn viewPoint.miny + viewPoint.V_OFFSET + viewPoint.medPriceY - (dataUnit.close - context.medPrice) * viewPoint.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tif (isNaN(context.lastMinute) || isNaN(context.count) || context.count === 0)\n\t\t\t\treturn;\n\n\t\t\tconst objects = this.dataSource.objects[this.renderObj];\n\t\t\tif (!objects || objects.length === 0)\n\t\t\t{\n\t\t\t\tthis.resetCanvas();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst units = this.dataSource.data.units;\n\t\t\tconst detailLevel = this.viewPoint.getDetailLevel();\n\t\t\tthis.activeMovies = 0;\n\t\t\tconst firstVisibleObject = this.getFirstVisibleObject(objects, units, context);\n\t\t\tif (firstVisibleObject === -1)\n\t\t\t{\n\t\t\t\tthis.resetCanvas();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst lastVisibleObject = this.getLastVisibleObject(objects, units, context);\n\t\t\tconst _loc7_ = this.viewPoint.count / this.dataSource.data.marketDayLength;\n\t\t\tcontext[this.renderObj] = [];\n\t\t\tlet _loc8_ = 0;\n\t\t\tfor (let visibleObjectIndex = firstVisibleObject; visibleObjectIndex <= lastVisibleObject; visibleObjectIndex++)\n\t\t\t{\n\t\t\t\tconst position = this.getPosition(objects[visibleObjectIndex], units, detailLevel, context);\n\t\t\t\tconst _loc11_ = this.putObject(objects[visibleObjectIndex], position);\n\t\t\t\tif (_loc7_ > IndependentObjectsLayer.HIDE_TEXT_THRESHOLD)\n\t\t\t\t{\n\t\t\t\t\t_loc11_.hideText();\n\t\t\t\t\t_loc11_.setPersistentHide(true);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_loc11_.setPersistentHide(false);\n\t\t\t\t}\n\t\t\t\tcontext[this.renderObj].push(_loc11_);\n\t\t\t\tif (this.avoidObj && context[this.avoidObj])\n\t\t\t\t{\n\t\t\t\t\twhile (_loc8_ < context[this.avoidObj].length - 1 && context[this.avoidObj][_loc8_].x < _loc11_.x)\n\t\t\t\t\t\t_loc8_++;\n\n\t\t\t\t\tif (_loc8_ < context[this.avoidObj].length)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst _loc12_ = context[this.avoidObj][_loc8_];\n\t\t\t\t\t\tif (_loc12_.x === _loc11_.x)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc12_.setOrientation(Orientations.SIDEWAYS + position.orientation);\n\t\t\t\t\t\t\t_loc11_.setOrientation(Orientations.SIDEWAYS + position.orientation);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let movieIndex = this.activeMovies; movieIndex < this.movies.length; movieIndex++)\n\t\t\t\tthis.removeChild(this.movies[movieIndex]);\n\n\t\t\tthis.movies.splice(this.activeMovies);\n\t\t}\n\n\t\tprivate getPosition(seriesPosition: SeriesPosition, dataUnits: DataUnit[], detailLevel: Intervals, context: Context): Position\n\t\t{\n\t\t\tconst position = new Position();\n\t\t\tconst dataSeries = notnull(seriesPosition.refDataSeries);\n\t\t\tconst x = this.viewPoint.getXPos(dataSeries.units[seriesPosition.pos]);\n\t\t\tconst y = this.getYPos(context, dataSeries.units[seriesPosition.pos]);\n\t\t\t//const _loc8_ = (this.viewPoint.maxy + this.viewPoint.miny) / 2;\n\t\t\tif (this.positioning === IndependentObjectsLayer.POSITION_CHART)\n\t\t\t{\n\t\t\t\tif (y > this.viewPoint.miny + 40)\n\t\t\t\t{\n\t\t\t\t\tposition.y = y - IndependentObjectsLayer.OBJECT_DISTANCE;\n\t\t\t\t\tposition.orientation = Orientations.DOWN;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tposition.y = y + IndependentObjectsLayer.OBJECT_DISTANCE;\n\t\t\t\t\tposition.orientation = Orientations.UP;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.positioning === IndependentObjectsLayer.POSITION_BOTTOM)\n\t\t\t{\n\t\t\t\tconst layer = this.viewPoint.getLayer(\"BottomBarLayer\") as BottomBarLayer;\n\t\t\t\tlet _loc10_ = 0;\n\t\t\t\tif (layer)\n\t\t\t\t\t_loc10_ = Number(layer.bottomTextHeight);\n\n\t\t\t\tposition.y = this.viewPoint.maxy - _loc10_;\n\t\t\t\tposition.orientation = Orientations.DOWN;\n\t\t\t}\n\t\t\tposition.x = x;\n\t\t\treturn position;\n\t\t}\n\n\t\tprivate getLastVisibleObject(seriesPositions: SeriesPosition[], dataUnits: DataUnit[], context: Context): number\n\t\t{\n\t\t\tconst lastMinute = context.lastMinute;\n\t\t\tfor (let seriesPositionIndex = seriesPositions.length - 1; seriesPositionIndex >= 0; seriesPositionIndex--)\n\t\t\t{\n\t\t\t\tconst position = seriesPositions[seriesPositionIndex];\n\t\t\t\tconst relativeMinutes = notnull(position.refDataSeries).units[position.pos].relativeMinutes;\n\t\t\t\tif (relativeMinutes < lastMinute)\n\t\t\t\t\treturn seriesPositionIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tprivate putObject(stockAssociatedObject: StockAssociatedObject, position: Position): SplitMovie\n\t\t{\n\t\t\tlet movie: SplitMovie;\n\t\t\tif (this.activeMovies >= this.movies.length)\n\t\t\t{\n\t\t\t\tlet movieType: typeof SplitMovie;\n\t\t\t\tswitch (this.renderObj)\n\t\t\t\t{\n\t\t\t\t\tcase \"split\":\n\t\t\t\t\t\tmovieType = SplitMovie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"dividend\":\n\t\t\t\t\t\tmovieType = DividendMovie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"stock_dividend\":\n\t\t\t\t\t\tmovieType = StockDividendMovie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error();\n\t\t\t\t}\n\t\t\t\tmovie = new movieType();\n\t\t\t\tthis.addChild(movie);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmovie = this.movies[this.activeMovies];\n\t\t\t}\n\t\t\tmovie.x = position.x;\n\t\t\tmovie.y = position.y;\n\t\t\tmovie.setObject(stockAssociatedObject);\n\t\t\tif (stockAssociatedObject.originalObject._orientation)\n\t\t\t{\n\t\t\t\tswitch (stockAssociatedObject.originalObject._orientation)\n\t\t\t\t{\n\t\t\t\t\tcase \"down\":\n\t\t\t\t\t\tposition.orientation = Orientations.DOWN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"up\":\n\t\t\t\t\t\tposition.orientation = Orientations.UP;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmovie.setOrientation(position.orientation);\n\t\t\tmovie.setSupportingLayer(this);\n\t\t\tmovie.setHighlightCanvas(this.highlightCanvas);\n\t\t\tif (this.activeMovies >= this.movies.length)\n\t\t\t\tthis.movies.push(movie);\n\n\t\t\tthis.activeMovies++;\n\t\t\treturn movie;\n\t\t}\n\n\t\tprivate getFirstVisibleObject(seriesPositions: SeriesPosition[], dataUnits: DataUnit[], context: Context): number\n\t\t{\n\t\t\tconst _loc4_ = context.lastMinute - context.count;\n\t\t\tfor (let seriesPositionIndex = 0; seriesPositionIndex < seriesPositions.length; seriesPositionIndex++)\n\t\t\t{\n\t\t\t\tconst position = seriesPositions[seriesPositionIndex];\n\t\t\t\tconst relativeMinutes = notnull(position.refDataSeries).units[position.pos].relativeMinutes;\n\t\t\t\tif (relativeMinutes > _loc4_ && position.pos > 0)\n\t\t\t\t\treturn seriesPositionIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class Indicator\n\t{\n\t\tprivate hash: Map<DataSeries[]> = {};\n\n\t\tintervals: number[] = [];\n\t\tclearAllOnAddData = false;\n\n\t\tgetDataSeriesArray(interval: number): DataSeries[]\n\t\t{\n\t\t\treturn this.hash[\"series\" + interval];\n\t\t}\n\n\t\tsetDataSeries(interval: number, dataSeries: DataSeries, param3 = 0)\n\t\t{\n\t\t\tif (!this.hasInterval(interval))\n\t\t\t{\n\t\t\t\tthis.intervals.push(interval);\n\t\t\t\tthis.intervals.sort();\n\t\t\t}\n\t\t\tif (this.hash[\"series\" + interval] === undefined)\n\t\t\t\tthis.hash[\"series\" + interval] = [];\n\n\t\t\tthis.hash[\"series\" + interval][param3] = dataSeries;\n\t\t\tdataSeries.interval = interval;\n\t\t}\n\n\t\tgetAllDataSeriesArray()\n\t\t{\n\t\t\tconst dataSeriesArray: DataSeries[] = [];\n\t\t\tfor (const interval of this.intervals)\n\t\t\t{\n\t\t\t\tconst ds = this.getDataSeries(interval);\n\t\t\t\tif (ds)\n\t\t\t\t\tdataSeriesArray.push(ds);\n\t\t\t}\n\t\t\treturn dataSeriesArray;\n\t\t}\n\n\t\tclear(interval: number = 0)\n\t\t{\n\t\t\tif (interval === 0)\n\t\t\t{\n\t\t\t\tfor (const interval2 of this.intervals)\n\t\t\t\t\tdelete this.hash[\"series\" + interval2];\n\n\t\t\t\tthis.intervals = [];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdelete this.hash[\"series\" + interval];\n\t\t\t\tconst index = this.intervals.indexOf(interval);\n\t\t\t\tif (index !== -1)\n\t\t\t\t\tthis.intervals.splice(index, 1);\n\t\t\t}\n\t\t}\n\n\t\tgetDataSeries(interval: number, detailLevel = Intervals.INTRADAY): DataSeries | null\n\t\t{\n\t\t\tif (!this.hash[\"series\" + interval])\n\t\t\t\treturn null;\n\n\t\t\treturn this.hash[\"series\" + interval][detailLevel];\n\t\t}\n\n\t\thasInterval(interval: number): boolean\n\t\t{\n\t\t\tlet index = this.intervals.length;\n\t\t\twhile (index >= 0 && this.intervals[index] !== interval)\n\t\t\t\tindex--;\n\n\t\t\treturn index !== -1;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextFormat;\n\t// import flash.text.TextField;\n\t// import flash.text.TextFieldAutoSize;\n\n\texport class InfoDotInfo\n\t{\n\t\tdisplayName: string;\n\n\t\tquote: string;\n\t\tvalue: string;\n\n\t\tquoteColor: number;\n\t\tvalueColor: number;\n\t}\n\n\texport class InfoDot extends flash.display.Sprite\n\t{\n\t\tprivate static readonly TEXT_SPACING = 5;\n\t\tprivate static readonly tickerFormat = new flash.text.TextFormat(\"Helvetica\", 12, 0, true, false, false);\n\t\tprivate static readonly valueFormat = new flash.text.TextFormat(\"Helvetica\", 10, 0x999999, false, false, false);\n\n\t\tprivate readonly tickerText = new flash.text.TextField();\n\t\tprivate readonly valueText = new flash.text.TextField();\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.tickerText.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.tickerText.selectable = false;\n\t\t\tthis.valueText.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.valueText.selectable = false;\n\t\t\tthis.addChild(this.tickerText);\n\t\t\tthis.addChild(this.valueText);\n\t\t}\n\n\t\tsetInfo(infoDotInfo: InfoDotInfo)\n\t\t{\n\t\t\tconst quoteColor = infoDotInfo.quoteColor;\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tgr.lineStyle(10, quoteColor, 1);\n\t\t\tgr.moveTo(0, 9);\n\t\t\tgr.lineTo(0.5, 9);\n\t\t\t//gr.endStroke();\n\t\t\tInfoDot.tickerFormat.color = quoteColor;\n\t\t\tthis.tickerText.defaultTextFormat = InfoDot.tickerFormat;\n\t\t\tthis.tickerText.x = this.tickerText.x + InfoDot.TEXT_SPACING;\n\t\t\tif (infoDotInfo.displayName)\n\t\t\t\tthis.tickerText.text = infoDotInfo.displayName;\n\t\t\telse\n\t\t\t\tthis.tickerText.text = infoDotInfo.quote;\n\n\t\t\tInfoDot.valueFormat.color = infoDotInfo.valueColor;\n\t\t\tthis.valueText.defaultTextFormat = InfoDot.valueFormat;\n\t\t\tthis.valueText.text = infoDotInfo.value;\n\t\t\tthis.valueText.y = this.tickerText.height - this.valueText.height;\n\t\t\tthis.valueText.x = this.tickerText.width + this.tickerText.x - InfoDot.TEXT_SPACING;\n\t\t}\n\t}\n}\n","/// <reference path=\"IntervalBasedChartLayer.ts\" />\n\nnamespace com.google.finance\n{\n\texport class IntervalBasedAHChartLayer extends IntervalBasedChartLayer\n\t{\n\t\tprivate regionsXLimits: IntervalSet;\n\t\tprivate visibleSessionsTimes: IntervalSet;\n\n\t\tconstructor(viewPoint: ViewPoint, dataSoure: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSoure);\n\t\t\tthis.setEnabled(true);\n\t\t}\n\n\t\tprivate drawOhlcBars(dataUnits: DataUnit[], param2: number, param3: number, context: Context)\n\t\t{\n\t\t\tconst afterHoursBarWidth = this.getAfterHoursBarWidth();\n\t\t\tconst gr = this.graphics;\n\t\t\tfor (let _loc6_ = param3; _loc6_ > param2; _loc6_--)\n\t\t\t{\n\t\t\t\tif (!(isNaN(dataUnits[_loc6_].high) || isNaN(dataUnits[_loc6_].low) || isNaN(dataUnits[_loc6_].open)))\n\t\t\t\t{\n\t\t\t\t\tconst unit = dataUnits[_loc6_];\n\t\t\t\t\tconst x = this.viewPoint.getXPos(unit);\n\t\t\t\t\tconst ohlcYPos = this.getOhlcYPos(context, unit);\n\t\t\t\t\tgr.lineStyle(1, this.getOhlcColor(unit, dataUnits[Math.max(_loc6_ - 1, 0)]));\n\t\t\t\t\tif (!unit.fake)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (Math.abs(ohlcYPos.highY - ohlcYPos.lowY) <= 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc11_ = (ohlcYPos.highY + ohlcYPos.lowY) / 2;\n\t\t\t\t\t\t\tif (afterHoursBarWidth === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgr.moveTo(x, _loc11_ - 0.5);\n\t\t\t\t\t\t\t\tgr.lineTo(x, _loc11_ + 0.5);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgr.moveTo(x - afterHoursBarWidth / 2, _loc11_);\n\t\t\t\t\t\t\t\tgr.lineTo(x + afterHoursBarWidth / 2, _loc11_);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tgr.moveTo(x - afterHoursBarWidth / 2, ohlcYPos.openY);\n\t\t\t\t\t\t\tgr.lineTo(x, ohlcYPos.openY);\n\t\t\t\t\t\t\tgr.moveTo(x, ohlcYPos.closeY);\n\t\t\t\t\t\t\tgr.lineTo(x + afterHoursBarWidth / 2, ohlcYPos.closeY);\n\t\t\t\t\t\t\tgr.moveTo(x, ohlcYPos.highY);\n\t\t\t\t\t\t\tgr.lineTo(x, ohlcYPos.lowY);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.graphics.clear();\n\t\t\tconst vp = <ViewPoint>this.viewPoint;\n\t\t\tconst detailLevel = vp.getDetailLevelForTechnicalStyle();\n\t\t\tconst displayManager = vp.getDisplayManager().getEnabledChartLayer();\n\t\t\tif (detailLevel >= Intervals.DAILY || detailLevel !== Intervals.INTRADAY && displayManager !== Const.LINE_CHART)\n\t\t\t\treturn;\n\n\t\t\tconst points = this.getDataSeries().getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\tif (!points)\n\t\t\t\treturn;\n\n\t\t\tthis.visibleSessionsTimes = this.getVisibleSessionsTimes(context, points);\n\t\t\tthis.localYOffset = vp.miny + vp.medPriceY + vp.V_OFFSET;\n\t\t\tthis.localYScale = vp.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t\tthis.regionsXLimits = new IntervalSet();\n\n\t\t\tfor (let intervalIndex = 0; intervalIndex < this.visibleSessionsTimes.length(); intervalIndex++)\n\t\t\t{\n\t\t\t\tconst interval = this.visibleSessionsTimes.getIntervalAt(intervalIndex);\n\t\t\t\tthis.drawAfterHoursSession(interval.start, interval.end, context, points);\n\t\t\t}\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t\tif (!this.regionsXLimits || !this.regionsXLimits.containsValue(x))\n\t\t\t{\n\t\t\t\tthis.clearHighlight();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsuper.highlightPoint(context, x, state);\n\t\t}\n\n\t\tprivate getVisibleSessionsTimes(context: Context, dataUnits: DataUnit[]): IntervalSet\n\t\t{\n\t\t\tconst intervalSet = new IntervalSet();\n\t\t\tconst visibleExtendedHours = this.dataSource.visibleExtendedHours;\n\t\t\tfor (let _loc5_ = visibleExtendedHours.length() - 1; _loc5_ >= 0; _loc5_--)\n\t\t\t{\n\t\t\t\tconst interval = visibleExtendedHours.getIntervalAt(_loc5_);\n\t\t\t\tconst startUnit = dataUnits[interval.start];\n\t\t\t\tconst endUnit = dataUnits[interval.end];\n\t\t\t\tif (ViewPoint.sessionVisible(startUnit, endUnit, context))\n\t\t\t\t\tintervalSet.addInterval(startUnit.time, endUnit.time);\n\t\t\t}\n\t\t\treturn intervalSet;\n\t\t}\n\n\t\tprivate drawCandleSticks(dataUnits: DataUnit[], param2: number, param3: number, context: Context)\n\t\t{\n\t\t\tconst afterHoursBarWidth = this.getAfterHoursBarWidth();\n\t\t\tconst gr = this.graphics;\n\t\t\tfor (let _loc6_ = param3; _loc6_ > param2; _loc6_--)\n\t\t\t{\n\t\t\t\tif (!(isNaN(dataUnits[_loc6_].high) || isNaN(dataUnits[_loc6_].low) || isNaN(dataUnits[_loc6_].open)))\n\t\t\t\t{\n\t\t\t\t\tconst unit = dataUnits[_loc6_];\n\t\t\t\t\tconst x = this.viewPoint.getXPos(unit);\n\t\t\t\t\tconst ohlcYPos = this.getOhlcYPos(context, unit);\n\t\t\t\t\t//const _loc10_ = Math.abs(_loc9_.closeY - _loc9_.openY);\n\t\t\t\t\tconst _loc11_ = unit.close >= unit.open;\n\t\t\t\t\tconst candleStickColor = this.getCandleStickColor(unit);\n\t\t\t\t\tgr.lineStyle(1, candleStickColor);\n\t\t\t\t\tif (!unit.fake)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (Math.abs(ohlcYPos.closeY - ohlcYPos.openY) <= 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc13_ = (ohlcYPos.closeY + ohlcYPos.openY) / 2;\n\t\t\t\t\t\t\tif (afterHoursBarWidth === 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgr.moveTo(x, _loc13_ - 0.5);\n\t\t\t\t\t\t\t\tgr.lineTo(x, _loc13_ + 0.5);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgr.moveTo(x - afterHoursBarWidth / 2, _loc13_);\n\t\t\t\t\t\t\t\tgr.lineTo(x + afterHoursBarWidth / 2, _loc13_);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tgr.moveTo(x - afterHoursBarWidth / 2, _loc11_ ? Number(ohlcYPos.closeY) : ohlcYPos.openY);\n\t\t\t\t\t\t\tif (!_loc11_)\n\t\t\t\t\t\t\t\tgr.beginFill(candleStickColor);\n\n\t\t\t\t\t\t\tgr.lineTo(x + afterHoursBarWidth / 2, _loc11_ ? Number(ohlcYPos.closeY) : ohlcYPos.openY);\n\t\t\t\t\t\t\tgr.lineTo(x + afterHoursBarWidth / 2, _loc11_ ? Number(ohlcYPos.openY) : ohlcYPos.closeY);\n\t\t\t\t\t\t\tgr.lineTo(x - afterHoursBarWidth / 2, _loc11_ ? Number(ohlcYPos.openY) : ohlcYPos.closeY);\n\t\t\t\t\t\t\tgr.lineTo(x - afterHoursBarWidth / 2, _loc11_ ? Number(ohlcYPos.closeY) : ohlcYPos.openY);\n\t\t\t\t\t\t\tif (!_loc11_)\n\t\t\t\t\t\t\t\tgr.endFill();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgr.moveTo(x, ohlcYPos.lowY);\n\t\t\t\t\t\tgr.lineTo(x, _loc11_ ? Number(ohlcYPos.openY) : ohlcYPos.closeY);\n\t\t\t\t\t\tgr.moveTo(x, _loc11_ ? Number(ohlcYPos.closeY) : ohlcYPos.openY);\n\t\t\t\t\t\tgr.lineTo(x, ohlcYPos.highY);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\tif (this.dataSource.visibleExtendedHours.length() > 0)\n\t\t\t\treturn super.getContext(context, param2);\n\n\t\t\treturn context;\n\t\t}\n\n\t\tprivate drawLines(dataUnits: DataUnit[], param2: number, unitIndex: number, context: Context)\n\t\t{\n\t\t\tlet xPos = this.viewPoint.getXPos(dataUnits[unitIndex]);\n\t\t\tlet closeYPos = this.getCloseYPos(context, dataUnits[unitIndex]);\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tgr.beginFill(Const.ECN_LINE_CHART_FILL_COLOR, Const.ECN_LINE_CHART_FILL_VISIBILITY);\n\t\t\tgr.moveTo(xPos, this.viewPoint.maxy - 15);\n\t\t\tgr.lineTo(xPos, closeYPos);\n\t\t\tgr.lineStyle(Const.ECN_LINE_CHART_LINE_THICKNESS, Const.ECN_LINE_CHART_LINE_COLOR, Const.ECN_LINE_CHART_LINE_VISIBILITY);\n\t\t\tfor (let _loc7_ = unitIndex; _loc7_ > param2; _loc7_--)\n\t\t\t{\n\t\t\t\txPos = this.viewPoint.getXPos(dataUnits[_loc7_]);\n\t\t\t\tcloseYPos = this.getCloseYPos(context, dataUnits[_loc7_]);\n\t\t\t\tgr.lineTo(xPos, closeYPos);\n\t\t\t}\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tgr.lineTo(xPos, this.viewPoint.maxy - 15);\n\t\t\tgr.endFill();\n\t\t}\n\n\t\tprivate getAfterHoursBarWidth(): number\n\t\t{\n\t\t\tconst _loc1_ = Const.BAR_WIDTH_RATIO * this.viewPoint.minutePix * 2;\n\t\t\treturn _loc1_ % 2 === 0 ? _loc1_ : (_loc1_ - 1);\n\t\t}\n\n\t\tgetDataSeries(context?: Context): DataSeries\n\t\t{\n\t\t\treturn this.dataSource.afterHoursData;\n\t\t}\n\n\t\tprivate drawAfterHoursSession(param1: number, param2: number, context: Context, dataUnits: DataUnit[])\n\t\t{\n\t\t\tconst timeIndex1 = DataSource.getTimeIndex(param2, dataUnits);\n\t\t\tconst timeIndex2 = DataSource.getTimeIndex(param1, dataUnits);\n\t\t\tconst _loc7_ = Math.min(timeIndex1, this.getLastRealPointIndex(dataUnits));\n\t\t\tswitch (this.viewPoint.getDisplayManager().getEnabledChartLayer())\n\t\t\t{\n\t\t\t\tcase Const.CANDLE_STICK:\n\t\t\t\t\tthis.drawCandleSticks(dataUnits, timeIndex2, _loc7_, context);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Const.OHLC_CHART:\n\t\t\t\t\tthis.drawOhlcBars(dataUnits, timeIndex2, _loc7_, context);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.drawLines(dataUnits, timeIndex2, _loc7_, context);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.regionsXLimits.addInterval(this.viewPoint.getXPos(dataUnits[timeIndex2]), this.viewPoint.getXPos(dataUnits[timeIndex1]));\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class IntervalBasedVolumeLayer extends AbstractDrawingLayer<ViewPoint>\n\t{\n\t\tprivate localYScale: number;\n\n\t\tprotected highlightCanvas = new flash.display.Sprite(\"highlightCanvas\");\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.addChild(this.highlightCanvas);\n\t\t}\n\n\t\tprotected getYPos(param1: number, viewPoint: IViewPoint): number\n\t\t{\n\t\t\treturn viewPoint.maxy - (param1 >= 0 ? param1 : 0) * this.localYScale;\n\t\t}\n\n\t\tprotected findPointIndex(x: number): number\n\t\t{\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tconst detailLevel = this.viewPoint.getDetailLevelForTechnicalStyle();\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst points = dataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points)\n\t\t\t\treturn -1;\n\n\t\t\tconst minute = this.viewPoint.getMinuteOfX(x);\n\t\t\tlet relativeMinuteIndex = dataSeries.getRelativeMinuteIndex(minute, points);\n\t\t\tif (relativeMinuteIndex === points.length - 2)\n\t\t\t{\n\t\t\t\tif (Math.abs(minute - points[relativeMinuteIndex].relativeMinutes) > Math.abs(minute - points[relativeMinuteIndex + 1].relativeMinutes))\n\t\t\t\t\trelativeMinuteIndex++;\n\t\t\t}\n\t\t\tif (detailLevel === Intervals.WEEKLY)\n\t\t\t{\n\t\t\t\twhile (relativeMinuteIndex + 1 < points.length && points[relativeMinuteIndex + 1].weeklyXPos <= x)\n\t\t\t\t\trelativeMinuteIndex++;\n\t\t\t}\n\t\t\twhile (relativeMinuteIndex > 0 && (points[relativeMinuteIndex].fake || points[relativeMinuteIndex].duplicate || points[relativeMinuteIndex].volumes[detailLevelInterval] === 0))\n\t\t\t\trelativeMinuteIndex--;\n\n\t\t\treturn relativeMinuteIndex;\n\t\t}\n\n\t\tclearHighlight()\n\t\t{\n\t\t\tthis.highlightCanvas.graphics.clear();\n\t\t}\n\n\t\tprivate drawHorizontalLine(param1: number)\n\t\t{\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(0, Const.HORIZONTAL_GRID_COLOR, 1);\n\t\t\tgr.moveTo(this.viewPoint.minx + 1, param1);\n\t\t\tgr.lineTo(this.viewPoint.maxx - 1, param1);\n\t\t}\n\n\t\tprivate drawOneBar(param1: number, param2: number, viewPoint: IViewPoint, sprite: flash.display.Sprite, param5: number, color: number = -1)\n\t\t{\n\t\t\tif (viewPoint.maxy - param2 < 1 && viewPoint.maxy - param2 > 0)\n\t\t\t\tparam2 = viewPoint.maxy - 1;\n\t\t\telse if (param2 < viewPoint.miny)\n\t\t\t\tparam2 = viewPoint.miny;\n\n\t\t\tconst gr = sprite.graphics;\n\t\t\tif (color !== -1)\n\t\t\t\tgr.beginFill(color);\n\n\t\t\tgr.drawRect(param1 - param5 / 2, param2, param5, viewPoint.maxy - param2);\n\t\t\tif (color !== -1)\n\t\t\t\tgr.endFill();\n\t\t}\n\n\t\tprotected drawOneLine(param1: number, param2: number, viewPoint: IViewPoint, sprite: flash.display.Sprite)\n\t\t{\n\t\t\tif (viewPoint.maxy - param2 < 1 && viewPoint.maxy - param2 > 0)\n\t\t\t\tparam2 = viewPoint.maxy - 1;\n\t\t\telse if (param2 < viewPoint.miny)\n\t\t\t\tparam2 = viewPoint.miny;\n\n\t\t\tconst gr = sprite.graphics;\n\t\t\tgr.moveTo(param1, param2);\n\t\t\tgr.lineTo(param1, viewPoint.maxy);\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\tconst dataSeries = notnull(this.getDataSeries(context));\n\t\t\tconst detailLevel = this.viewPoint.getDetailLevelForTechnicalStyle(context.lastMinute, context.count);\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst points = dataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points)\n\t\t\t\treturn context;\n\n\t\t\tconst _loc7_ = context.lastMinute - context.count;\n\t\t\tlet _loc8_ = dataSeries.getRelativeMinuteIndex(_loc7_, points) - 1;\n\t\t\tif (_loc8_ < 0)\n\t\t\t\t_loc8_ = 0;\n\n\t\t\tlet _loc9_ = dataSeries.getRelativeMinuteIndex(context.lastMinute, points) + 1;\n\t\t\tif (_loc9_ >= points.length)\n\t\t\t\t_loc9_ = points.length - 1;\n\n\t\t\tlet _loc10_ = points[_loc9_].volumes[detailLevelInterval];\n\t\t\tfor (let _loc11_ = _loc9_ - 1; _loc11_ >= _loc8_; _loc11_--)\n\t\t\t{\n\t\t\t\t_loc10_ = Utils.extendedMax(_loc10_, points[_loc11_].volumes[detailLevelInterval]);\n\t\t\t}\n\t\t\tlet _loc12_ = NaN;\n\t\t\tfor (let scaleIndex = 1; scaleIndex < Const.VOLUME_SCALES.length; scaleIndex++)\n\t\t\t{\n\t\t\t\t_loc12_ = Const.VOLUME_SCALES[scaleIndex];\n\t\t\t\tif (Math.floor(_loc10_ / _loc12_) < 10)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst _loc13_ = (Math.floor(_loc10_ / _loc12_) + 1) * _loc12_;\n\t\t\tcontext.maxVolume = Utils.extendedMax(context.maxVolume, _loc13_);\n\t\t\treturn context;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tconst detailLevel = viewPoint.getDetailLevelForTechnicalStyle();\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst points = dataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points || points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tif (context.maxVolume === undefined)\n\t\t\t\treturn;\n\n\t\t\tthis.localYScale = (viewPoint.maxy - viewPoint.miny - Const.BOTTOM_VIEWPOINT_HEADER_HEIGHT) / context.maxVolume;\n\t\t\tconst _loc7_ = Math.max(dataSeries.getRelativeMinuteIndex(viewPoint.getFirstMinute(), points) - 1, 0);\n\t\t\tconst _loc8_ = Math.min(dataSeries.getRelativeMinuteIndex(viewPoint.getLastMinute(), points) + 1, this.getLastRealPointIndex(points));\n\t\t\tconst displayManager = viewPoint.getDisplayManager().getEnabledChartLayer();\n\t\t\tlet _loc14_ = Number.MAX_VALUE;\n\t\t\tif (Const.VOLUME_PLUS_ENABLED && Const.VOLUME_PLUS_CHART_TYPE.indexOf(displayManager) !== -1)\n\t\t\t{\n\t\t\t\tconst barWidth = this.getBarWidth(detailLevel, dataSeries);\n\t\t\t\tfor (let _loc11_ = _loc8_; _loc11_ >= _loc7_; _loc11_--)\n\t\t\t\t{\n\t\t\t\t\tconst _loc10_ = points[_loc11_];\n\t\t\t\t\tif (!isNaN(_loc10_.open))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (_loc10_.close >= _loc10_.open)\n\t\t\t\t\t\t\tgr.lineStyle(1, Const.POSITIVE_DIFFERENCE_COLOR);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tgr.lineStyle(1, Const.NEGATIVE_DIFFERENCE_COLOR);\n\n\t\t\t\t\t\tif (!dataSeries.minuteIsStartOfDataSession(_loc10_.dayMinute))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet _loc12_: number;\n\t\t\t\t\t\t\tif (detailLevel === Intervals.WEEKLY && displayManager !== Const.LINE_CHART)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_loc12_ = this.getWeeklyBarXPos(_loc10_, _loc14_);\n\t\t\t\t\t\t\t\t_loc14_ = _loc12_;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_loc12_ = viewPoint.getXPos(_loc10_);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst yPos = this.getYPos(_loc10_.volumes[detailLevelInterval], viewPoint);\n\t\t\t\t\t\t\tthis.drawOneBar(_loc12_, yPos, viewPoint, this, barWidth, _loc10_.close >= _loc10_.open ? -1 : Const.NEGATIVE_DIFFERENCE_COLOR);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tgr.lineStyle(1, Const.LINE_CHART_LINE_COLOR);\n\t\t\t\tfor (let _loc11_ = _loc8_; _loc11_ >= _loc7_; _loc11_--)\n\t\t\t\t{\n\t\t\t\t\tconst _loc10_ = points[_loc11_];\n\t\t\t\t\tif (!dataSeries.minuteIsStartOfDataSession(_loc10_.dayMinute))\n\t\t\t\t\t{\n\t\t\t\t\t\tlet _loc12_: number;\n\t\t\t\t\t\tif (detailLevel === Intervals.WEEKLY && displayManager !== Const.LINE_CHART)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc12_ = this.getWeeklyBarXPos(_loc10_, _loc14_);\n\t\t\t\t\t\t\t_loc14_ = _loc12_;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc12_ = viewPoint.getXPos(_loc10_);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst yPos = this.getYPos(_loc10_.volumes[detailLevelInterval], viewPoint);\n\t\t\t\t\t\tthis.drawOneLine(_loc12_, yPos, viewPoint, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.drawHorizontalLine(viewPoint.miny + Const.BOTTOM_VIEWPOINT_HEADER_HEIGHT);\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t\tif (state[\"ahsetter\"])\n\t\t\t\treturn;\n\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst pointIndex = this.findPointIndex(x);\n\t\t\tconst detailLevel = viewPoint.getDetailLevelForTechnicalStyle();\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst points = dataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points || pointIndex === -1)\n\t\t\t\treturn;\n\n\t\t\tconst _loc10_ = points[pointIndex];\n\t\t\tthis.clearHighlight();\n\t\t\tconst _loc11_ = !isNaN(_loc10_.weeklyXPos) ? Number(_loc10_.weeklyXPos) : viewPoint.getXPos(_loc10_);\n\t\t\tconst yPos = this.getYPos(_loc10_.volumes[detailLevelInterval], viewPoint);\n\t\t\tconst displayManager = viewPoint.getDisplayManager().getEnabledChartLayer();\n\t\t\tconst gr = this.highlightCanvas.graphics;\n\t\t\tif (Const.VOLUME_PLUS_ENABLED && Const.VOLUME_PLUS_CHART_TYPE.indexOf(displayManager) !== -1)\n\t\t\t{\n\t\t\t\tgr.lineStyle(5, Const.DOT_COLOR, 1);\n\t\t\t\tgr.moveTo(_loc11_, yPos - 0.2);\n\t\t\t\tgr.lineTo(_loc11_, yPos + 0.2);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tgr.lineStyle(2, Const.VOLUME_HIGHLIGHT_COLOR, 1);\n\t\t\t\tthis.drawOneLine(_loc11_, yPos, viewPoint, this.highlightCanvas);\n\t\t\t}\n\t\t\tstate[SpaceText.VOLUME_STR] = _loc10_.volumes[detailLevelInterval];\n\t\t\tstate[\"volumesetter\"] = this;\n\t\t}\n\t}\n}\n","/// <reference path=\"IntervalBasedVolumeLayer.ts\" />\n\nnamespace com.google.finance\n{\n\texport class IntervalBasedAHVolumeLayer extends IntervalBasedVolumeLayer\n\t{\n\t\tprivate regionsXLimits: IntervalSet;\n\n\t\thighlightPoint(context: Context, param2: number, state: Dictionary)\n\t\t{\n\t\t\tthis.clearHighlight();\n\t\t\tif (!this.regionsXLimits || !this.regionsXLimits.containsValue(param2))\n\t\t\t\treturn;\n\n\t\t\tif (state[\"volumesetter\"])\n\t\t\t\tstate[\"volumesetter\"].clearHighlight();\n\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst pointIndex = this.findPointIndex(param2);\n\t\t\tconst detailLevel = viewPoint.getDetailLevelForTechnicalStyle();\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst points = dataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points || pointIndex === -1)\n\t\t\t\treturn;\n\n\t\t\tconst unit = points[pointIndex];\n\t\t\tconst x = viewPoint.getXPos(unit);\n\t\t\tconst y = this.getYPos(unit.volumes[detailLevelInterval], viewPoint);\n\t\t\tthis.highlightCanvas.graphics.lineStyle(2, Const.VOLUME_HIGHLIGHT_COLOR, 1);\n\t\t\tthis.drawOneLine(x, y, viewPoint, this.highlightCanvas);\n\t\t\tstate[SpaceText.VOLUME_STR] = unit.volumes[detailLevelInterval];\n\t\t\tstate[\"ahsetter\"] = this;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.graphics.clear();\n\t\t\tconst vp = this.viewPoint;\n\t\t\tif (vp.getDetailLevelForTechnicalStyle() !== Intervals.INTRADAY)\n\t\t\t\treturn;\n\n\t\t\tconst points = this.getDataSeries().getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\tif (!points)\n\t\t\t\treturn;\n\n\t\t\tconst visibleExtendedHours = this.dataSource.visibleExtendedHours;\n\t\t\tif (visibleExtendedHours.length() === 0)\n\t\t\t\treturn;\n\n\t\t\tthis.regionsXLimits = new IntervalSet();\n\n\t\t\tfor (let intervalIndex = 0; intervalIndex < visibleExtendedHours.length(); intervalIndex++)\n\t\t\t{\n\t\t\t\tconst interval = visibleExtendedHours.getIntervalAt(intervalIndex);\n\t\t\t\tconst startUnit = points[interval.start];\n\t\t\t\tconst endUnit = points[interval.end];\n\t\t\t\tif (ViewPoint.sessionVisible(startUnit, endUnit, context))\n\t\t\t\t{\n\t\t\t\t\tconst startX = vp.getXPos(startUnit);\n\t\t\t\t\tconst endX = vp.getXPos(endUnit);\n\t\t\t\t\tthis.regionsXLimits.addInterval(startX, endX);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsuper.renderLayer(context);\n\t\t}\n\n\t\tgetDataSeries(context?: Context): DataSeries\n\t\t{\n\t\t\treturn this.dataSource.afterHoursData;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.utils.getDefinitionByName;\n\n\texport class IntervalBasedChartManagerLayer extends AbstractDrawingLayer<ViewPoint>\n\t{\n\t\tprivate static enabledChartLayerName: string | null;\n\n\t\tprivate chartLayers: IntervalBasedChartLayer[] = [];\n\t\tprivate enabledChartLayer: IntervalBasedChartLayer | null;\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tif (!IntervalBasedChartManagerLayer.enabledChartLayerName)\n\t\t\t\tIntervalBasedChartManagerLayer.enabledChartLayerName = Const.DEFAULT_CHART_STYLE_NAME;\n\n\t\t\tfor (const styleName of Const.CHART_STYLE_NAMES)\n\t\t\t{\n\t\t\t\tconst className = getDefinitionByName(\"com.google.finance.\" + styleName) as typeof IntervalBasedChartLayer;\n\t\t\t\tconst chartLayer = new className(viewPoint, dataSource);\n\t\t\t\tchartLayer.name = styleName;\n\t\t\t\tchartLayer.layerId = styleName;\n\t\t\t\tchartLayer.setLayerName(styleName);\n\t\t\t\tthis.chartLayers.push(chartLayer);\n\t\t\t\tif (styleName === IntervalBasedChartManagerLayer.enabledChartLayerName)\n\t\t\t\t{\n\t\t\t\t\tchartLayer.setEnabled(true);\n\t\t\t\t\tthis.enabledChartLayer = chartLayer;\n\t\t\t\t}\n\t\t\t\tthis.addChild(chartLayer);\n\t\t\t}\n\t\t}\n\n\t\tstatic getEnabledChartLayerName()\n\t\t{\n\t\t\treturn IntervalBasedChartManagerLayer.enabledChartLayerName;\n\t\t}\n\n\t\tgetEnabledLayerName(): string\n\t\t{\n\t\t\treturn this.enabledChartLayer ? this.enabledChartLayer.getLayerName() : \"\";\n\t\t}\n\n\t\tsetEnabledLayer(layerName: string)\n\t\t{\n\t\t\tif (this.getEnabledLayerName() === layerName)\n\t\t\t\treturn;\n\n\t\t\tif (this.enabledChartLayer)\n\t\t\t{\n\t\t\t\tthis.enabledChartLayer.setEnabled(false);\n\t\t\t\tthis.enabledChartLayer = null;\n\t\t\t\tIntervalBasedChartManagerLayer.enabledChartLayerName = null;\n\t\t\t}\n\t\t\tfor (const layer of this.chartLayers)\n\t\t\t{\n\t\t\t\tif (layer.getLayerName() === layerName)\n\t\t\t\t{\n\t\t\t\t\tlayer.setEnabled(true);\n\t\t\t\t\tthis.enabledChartLayer = layer;\n\t\t\t\t\tIntervalBasedChartManagerLayer.enabledChartLayerName = layerName;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\treturn this.enabledChartLayer ? this.enabledChartLayer.getContext(context, param2) : context;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tif (this.enabledChartLayer)\n\t\t\t\tthis.enabledChartLayer.renderLayer(context);\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t\tif (this.enabledChartLayer)\n\t\t\t\tthis.enabledChartLayer.highlightPoint(context, x, state);\n\t\t}\n\n\t\tclearHighlight()\n\t\t{\n\t\t\tif (this.enabledChartLayer)\n\t\t\t\tthis.enabledChartLayer.clearHighlight();\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\n\texport class IntervalBasedIndependentObjectsLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tstatic readonly POSITION_BOTTOM = \"bottom\";\n\t\tstatic readonly HIDE_TEXT_THRESHOLD = 1500;\n\t\tstatic readonly POSITION_CHART = \"chart\";\n\t\tstatic readonly TOP_DEPTH = 16000;\n\t\tstatic readonly MIN_PADDING = 20;\n\t\tstatic readonly OBJECT_DISTANCE = 6;\n\n\t\tprivate readonly movies: SplitMovie[] = [];\n\t\tprivate activeMovies: number = 0;\n\n\t\trenderObj: string;\n\t\tavoidObj: string;\n\t\tpositioning = IntervalBasedIndependentObjectsLayer.POSITION_CHART;\n\t\treadonly highlightCanvas = new flash.display.Sprite(\"highlightCanvas\");\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.viewPoint.addChildToTopCanvas(this.highlightCanvas);\n\t\t}\n\n\t\tprivate resetCanvas()\n\t\t{\n\t\t\tfor (const movie of this.movies)\n\t\t\t\tthis.removeChild(movie);\n\n\t\t\tthis.movies.splice(0);\n\t\t}\n\n\t\tprivate getDataUnit(stockAssociatedObject: StockAssociatedObject, param2: number): DataUnit\n\t\t{\n\t\t\tconst posInInterval = notnull(stockAssociatedObject.posInInterval);\n\t\t\tconst _loc3_ = notnull(posInInterval[param2].refDataSeries);\n\t\t\tconst points = _loc3_.getPointsInIntervalArray(param2);\n\t\t\treturn points[posInInterval[param2].position];\n\t\t}\n\n\t\tgetYPos(context: Context, dataUnit: DataUnit): number\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\treturn viewPoint.miny + viewPoint.V_OFFSET + viewPoint.medPriceY - (dataUnit.close - context.medPrice) * viewPoint.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tif (isNaN(context.lastMinute) || isNaN(context.count) || context.count === 0)\n\t\t\t\treturn;\n\n\t\t\tconst objects = this.dataSource.objects[this.renderObj];\n\t\t\tif (!objects || objects.length === 0)\n\t\t\t{\n\t\t\t\tthis.resetCanvas();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst detailLevel = this.viewPoint.getDetailLevelForTechnicalStyle();\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tthis.activeMovies = 0;\n\t\t\tconst firstVisibleObject = this.getFirstVisibleObject(objects, detailLevelInterval, context);\n\t\t\tif (firstVisibleObject === -1)\n\t\t\t{\n\t\t\t\tthis.resetCanvas();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst lastVisibleObject = this.getLastVisibleObject(objects, detailLevelInterval, context);\n\t\t\tconst _loc7_ = this.viewPoint.count / this.dataSource.data.marketDayLength;\n\t\t\tcontext[this.renderObj] = [];\n\t\t\tlet _loc8_ = 0;\n\t\t\tfor (let visibleObjectIndex = firstVisibleObject; visibleObjectIndex <= lastVisibleObject; visibleObjectIndex++)\n\t\t\t{\n\t\t\t\tconst obj = objects[visibleObjectIndex];\n\t\t\t\tif (notnull(obj.posInInterval)[detailLevelInterval])\n\t\t\t\t{\n\t\t\t\t\tconst position = this.getPosition(obj, detailLevelInterval, context);\n\t\t\t\t\tconst _loc12_ = this.putObject(obj, position);\n\t\t\t\t\tif (_loc7_ > IntervalBasedIndependentObjectsLayer.HIDE_TEXT_THRESHOLD)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc12_.hideText();\n\t\t\t\t\t\t_loc12_.setPersistentHide(true);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc12_.setPersistentHide(false);\n\t\t\t\t\t}\n\t\t\t\t\tcontext[this.renderObj].push(_loc12_);\n\t\t\t\t\tif (this.avoidObj && context[this.avoidObj])\n\t\t\t\t\t{\n\t\t\t\t\t\twhile (_loc8_ < context[this.avoidObj].length - 1 && context[this.avoidObj][_loc8_].x < _loc12_.x)\n\t\t\t\t\t\t\t_loc8_++;\n\n\t\t\t\t\t\tif (_loc8_ < context[this.avoidObj].length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc13_ = context[this.avoidObj][_loc8_];\n\t\t\t\t\t\t\tif (_loc13_.x === _loc12_.x)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t_loc13_.setOrientation(Orientations.SIDEWAYS + position.orientation);\n\t\t\t\t\t\t\t\t_loc12_.setOrientation(Orientations.SIDEWAYS + position.orientation);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let movieIndex = this.activeMovies; movieIndex < this.movies.length; movieIndex++)\n\t\t\t\tthis.removeChild(this.movies[movieIndex]);\n\n\t\t\tthis.movies.splice(this.activeMovies);\n\t\t}\n\n\t\tprivate getPosition(stockAssociatedObject: StockAssociatedObject, param2: number, context: Context): Position\n\t\t{\n\t\t\tconst position = new Position();\n\t\t\tconst dataUnit = this.getDataUnit(stockAssociatedObject, param2);\n\t\t\tconst x = !isNaN(dataUnit.weeklyXPos) ? Number(dataUnit.weeklyXPos) : this.viewPoint.getXPos(dataUnit);\n\t\t\tconst y = this.getYPos(context, dataUnit);\n\t\t\t//const _loc8_ = (this.viewPoint.maxy + this.viewPoint.miny) / 2;\n\t\t\tif (this.positioning === IntervalBasedIndependentObjectsLayer.POSITION_CHART)\n\t\t\t{\n\t\t\t\tif (y > this.viewPoint.miny + 40)\n\t\t\t\t{\n\t\t\t\t\tposition.y = y - IntervalBasedIndependentObjectsLayer.OBJECT_DISTANCE;\n\t\t\t\t\tposition.orientation = Orientations.DOWN;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tposition.y = y + IntervalBasedIndependentObjectsLayer.OBJECT_DISTANCE;\n\t\t\t\t\tposition.orientation = Orientations.UP;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.positioning === IntervalBasedIndependentObjectsLayer.POSITION_BOTTOM)\n\t\t\t{\n\t\t\t\tconst bottomLayer = this.viewPoint.getLayer(\"BottomBarLayer\") as BottomBarLayer;\n\t\t\t\tlet _loc10_ = 0;\n\t\t\t\tif (bottomLayer)\n\t\t\t\t\t_loc10_ = Number(bottomLayer.bottomTextHeight);\n\n\t\t\t\tposition.y = this.viewPoint.maxy - _loc10_;\n\t\t\t\tposition.orientation = Orientations.DOWN;\n\t\t\t}\n\t\t\tposition.x = x;\n\t\t\treturn position;\n\t\t}\n\n\t\tprivate getLastVisibleObject(stockAssociatedObjects: StockAssociatedObject[], param2: number, context: Context): number\n\t\t{\n\t\t\tconst lastMinute = context.lastMinute;\n\t\t\tfor (let objectIndex = stockAssociatedObjects.length - 1; objectIndex >= 0; objectIndex--)\n\t\t\t{\n\t\t\t\tif (notnull(stockAssociatedObjects[objectIndex].posInInterval)[param2])\n\t\t\t\t{\n\t\t\t\t\tconst dataUnit = this.getDataUnit(stockAssociatedObjects[objectIndex], param2);\n\t\t\t\t\tif (dataUnit && dataUnit.relativeMinutes < lastMinute)\n\t\t\t\t\t\treturn objectIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tprivate putObject(stockAssociatedObject: StockAssociatedObject, position: Position): SplitMovie\n\t\t{\n\t\t\tlet movie: SplitMovie;\n\t\t\tif (this.activeMovies >= this.movies.length)\n\t\t\t{\n\t\t\t\tlet movieType: typeof SplitMovie;\n\t\t\t\tswitch (this.renderObj)\n\t\t\t\t{\n\t\t\t\t\tcase \"split\":\n\t\t\t\t\t\tmovieType = SplitMovie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"dividend\":\n\t\t\t\t\t\tmovieType = DividendMovie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"stock_dividend\":\n\t\t\t\t\t\tmovieType = StockDividendMovie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error();\n\t\t\t\t}\n\t\t\t\tmovie = new movieType();\n\t\t\t\tthis.addChild(movie);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmovie = this.movies[this.activeMovies];\n\t\t\t}\n\t\t\tmovie.x = position.x;\n\t\t\tmovie.y = position.y;\n\t\t\tmovie.setObject(stockAssociatedObject);\n\t\t\tif (stockAssociatedObject.originalObject._orientation)\n\t\t\t{\n\t\t\t\tswitch (stockAssociatedObject.originalObject._orientation)\n\t\t\t\t{\n\t\t\t\t\tcase \"down\":\n\t\t\t\t\t\tposition.orientation = Orientations.DOWN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"up\":\n\t\t\t\t\t\tposition.orientation = Orientations.UP;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmovie.setOrientation(position.orientation);\n\t\t\tmovie.setSupportingLayer(this);\n\t\t\tmovie.setHighlightCanvas(this.highlightCanvas);\n\t\t\tif (this.activeMovies >= this.movies.length)\n\t\t\t\tthis.movies.push(movie);\n\n\t\t\tthis.activeMovies++;\n\t\t\treturn movie;\n\t\t}\n\n\t\tprivate getFirstVisibleObject(stockAssociatedObjects: StockAssociatedObject[], param2: number, context: Context): number\n\t\t{\n\t\t\tconst _loc4_ = context.lastMinute - context.count;\n\t\t\tfor (let objectIndex = 0; objectIndex < stockAssociatedObjects.length; objectIndex++)\n\t\t\t{\n\t\t\t\tif (notnull(stockAssociatedObjects[objectIndex].posInInterval)[param2])\n\t\t\t\t{\n\t\t\t\t\tconst dataUnit = this.getDataUnit(stockAssociatedObjects[objectIndex], param2);\n\t\t\t\t\tif (dataUnit && dataUnit.relativeMinutes > _loc4_)\n\t\t\t\t\t\treturn objectIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class IntervalBasedLineChartLayer extends IntervalBasedChartLayer\n\t{\n\t\tprivate drawLine(detailLevel: Intervals, context: Context, dataUnit: DataUnit[], param4: number, param5: number, param6: number, param7: number): number\n\t\t{\n\t\t\tlet _loc8_ = NaN;\n\t\t\tconst gr = this.graphics;\n\t\t\tswitch (detailLevel)\n\t\t\t{\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\tif (isNaN(param7))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst x = this.viewPoint.getXPos(dataUnit[param5]);\n\t\t\t\t\t\tgr.moveTo(x, this.viewPoint.maxy);\n\t\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\t\tgr.lineTo(x, this.getCloseYPos(context, dataUnit[param5]));\n\t\t\t\t\t\tparam5--;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\twhile (param5 >= param4 && this.viewPoint.getXPos(dataUnit[param5]) >= param6)\n\t\t\t\t\t\t\tparam5--;\n\n\t\t\t\t\t\tif (param5 < param4)\n\t\t\t\t\t\t\treturn param6;\n\n\t\t\t\t\t\tgr.moveTo(param6, this.viewPoint.maxy);\n\t\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\t\tgr.lineTo(param6, param7);\n\t\t\t\t\t}\n\t\t\t\t\tgr.lineStyle(this.lineThickness, this.lineColor, this.lineVisibility);\n\t\t\t\t\tfor (let _loc13_ = param5; _loc13_ >= param4; _loc13_--)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc8_ = this.viewPoint.getXPos(dataUnit[_loc13_]);\n\t\t\t\t\t\tgr.lineTo(_loc8_, this.getCloseYPos(context, dataUnit[_loc13_]));\n\t\t\t\t\t}\n\t\t\t\t\treturn _loc8_;\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\tcase Intervals.FIVE_MINUTES:\n\t\t\t\tcase Intervals.HALF_HOUR:\n\t\t\t\t\twhile (param5 >= param4 && this.viewPoint.getXPos(dataUnit[param5]) >= param6)\n\t\t\t\t\t\tparam5--;\n\n\t\t\t\t\tif (param5 < param4)\n\t\t\t\t\t\treturn param6;\n\n\t\t\t\t\t_loc8_ = this.viewPoint.getXPos(dataUnit[param5]);\n\t\t\t\t\tgr.moveTo(_loc8_, this.viewPoint.maxy);\n\t\t\t\t\tlet _loc10_ = param5;\n\t\t\t\t\tconst _loc11_ = this.dataSource.visibleExtendedHours.length() === 0;\n\t\t\t\t\tconst marketDayLength = this.dataSource.data.marketDayLength;\n\t\t\t\t\twhile (_loc10_ > param4)\n\t\t\t\t\t{\n\t\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\t\t_loc8_ = this.viewPoint.getXPos(dataUnit[_loc10_]);\n\t\t\t\t\t\tgr.lineTo(_loc8_, this.viewPoint.maxy);\n\t\t\t\t\t\tgr.lineTo(_loc8_, this.getCloseYPos(context, dataUnit[_loc10_]));\n\t\t\t\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\t\t\t\tgr.lineStyle(this.lineThickness, this.lineColor, this.lineVisibility);\n\t\t\t\t\t\twhile (_loc10_ > param4 && dataUnit[_loc10_].dayMinute !== dataSeries.marketOpenMinute)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc10_--;\n\t\t\t\t\t\t\t_loc8_ = this.viewPoint.getXPos(dataUnit[_loc10_]);\n\t\t\t\t\t\t\tgr.lineTo(_loc8_, this.getCloseYPos(context, dataUnit[_loc10_]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\t\tgr.lineTo(_loc8_, this.viewPoint.maxy);\n\t\t\t\t\t\t_loc10_--;\n\t\t\t\t\t\tif (_loc11_ && _loc10_ > param4)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst minute = dataUnit[_loc10_].relativeMinutes;\n\t\t\t\t\t\t\tconst nextMinute = dataUnit[_loc10_ + 1].relativeMinutes;\n\t\t\t\t\t\t\tif (nextMinute > minute + marketDayLength)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst closeYPos = this.getCloseYPos(context, dataUnit[_loc10_]);\n\t\t\t\t\t\t\t\t_loc8_ = this.viewPoint.getMinuteXPos(nextMinute - 1);\n\t\t\t\t\t\t\t\tgr.lineTo(_loc8_, this.viewPoint.maxy);\n\t\t\t\t\t\t\t\tgr.lineTo(_loc8_, closeYPos);\n\t\t\t\t\t\t\t\tgr.lineStyle(this.lineThickness, this.lineColor, this.lineVisibility);\n\t\t\t\t\t\t\t\t_loc8_ = this.viewPoint.getMinuteXPos(minute + 1);\n\t\t\t\t\t\t\t\tgr.lineTo(_loc8_, closeYPos);\n\t\t\t\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\t\t\t\tgr.lineTo(_loc8_, this.viewPoint.maxy);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this.viewPoint.getXPos(dataUnit[param4]);\n\t\t\t\tdefault:\n\t\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn;\n\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tthis.localYOffset = vp.miny + vp.medPriceY + vp.V_OFFSET;\n\t\t\tthis.localYScale = vp.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t\tthis.lineThickness = Const.LINE_CHART_LINE_THICKNESS;\n\t\t\tthis.lineColor = Const.LINE_CHART_LINE_COLOR;\n\t\t\tthis.lineVisibility = Const.LINE_CHART_LINE_VISIBILITY;\n\t\t\tlet detailLevel = vp.getDetailLevelForTechnicalStyle();\n\t\t\tlet _loc4_ = 0;\n\t\t\tlet _loc6_ = Number.MAX_VALUE;\n\t\t\tlet _loc7_ = NaN;\n\t\t\tlet _loc8_ = true;\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tdo\n\t\t\t{\n\t\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\t\tconst points = dataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\t\tif (!points || points.length === 0)\n\t\t\t\t{\n\t\t\t\t\tdetailLevel++;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_loc4_ = Math.max(dataSeries.getRelativeMinuteIndex(vp.getFirstMinute(), points) - 1, 0);\n\t\t\t\t\tconst lastMinuteIndex = Math.min(dataSeries.getRelativeMinuteIndex(vp.getLastMinute(), points) + 1, this.getLastRealPointIndex(points));\n\t\t\t\t\tconst unit = points[points.length - 1];\n\t\t\t\t\tif (_loc8_ && detailLevel >= Intervals.DAILY && lastMinuteIndex === points.length - 1 && unit.relativeMinutes < vp.getLastMinute())\n\t\t\t\t\t{\n\t\t\t\t\t\tconst _loc12_ = dataSeries.getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\t\t\t\tif (_loc12_ && _loc12_.length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc13_ = _loc12_[_loc12_.length - 1];\n\t\t\t\t\t\t\tlet xPos = vp.getXPos(_loc13_);\n\t\t\t\t\t\t\tlet closeYPos = this.getCloseYPos(context, _loc13_);\n\t\t\t\t\t\t\tgr.beginFill(Const.LINE_CHART_FILL_COLOR, Const.LINE_CHART_FILL_VISIBILITY);\n\t\t\t\t\t\t\tgr.moveTo(xPos, vp.maxy);\n\t\t\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\t\t\tgr.lineTo(xPos, closeYPos);\n\t\t\t\t\t\t\txPos = vp.getXPos(unit);\n\t\t\t\t\t\t\tcloseYPos = this.getCloseYPos(context, unit);\n\t\t\t\t\t\t\tgr.lineStyle(this.lineThickness, this.lineColor, this.lineVisibility);\n\t\t\t\t\t\t\tgr.lineTo(xPos, closeYPos);\n\t\t\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\t\t\tgr.lineTo(xPos, vp.maxy);\n\t\t\t\t\t\t\tgr.endFill();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tgr.beginFill(Const.LINE_CHART_FILL_COLOR, Const.LINE_CHART_FILL_VISIBILITY);\n\t\t\t\t\t_loc6_ = this.drawLine(detailLevel, context, points, _loc4_, lastMinuteIndex, _loc6_, _loc7_);\n\t\t\t\t\t_loc7_ = this.getCloseYPos(context, points[_loc4_]);\n\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\tgr.lineTo(_loc6_, vp.maxy);\n\t\t\t\t\tgr.endFill();\n\t\t\t\t\t_loc8_ = false;\n\t\t\t\t\tdetailLevel++;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (detailLevel <= Intervals.WEEKLY && _loc4_ === 0);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class IntervalBasedPinPointsLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tprivate static readonly FLAG_HEIGHT = 14;\n\t\tprivate static readonly MIN_FLAGS_DIST = 10;\n\t\tprivate static readonly FLAG_POLE_HEIGHT = 10;\n\t\t/*\n\t\tprivate static readonly LEFT_SIDE_OFFSET = 4;\n\t\tprivate static readonly FLAG_WIDTH = 18;\n\t\tprivate static readonly MAX_FLAGS_DEPTH = 1000;\n\t\t*/\n\n\t\tprivate localYOffset = 0;\n\t\tprivate lastAbsoluteHeightMax: number;\n\t\tprivate pinPointContentMovie: PinPointContentMovie;\n\t\tprivate localYScale = 0;\n\t\tprivate pinPointYWhenContentDisplayed = 0;\n\t\tprivate activeMovies: number = 0;\n\t\tprivate pinMovies: PinPointMovie[] = [];\n\t\tprivate lastAbsoluteHeightMin: number;\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.pinPointContentMovie = new PinPointContentMovie(viewPoint);\n\t\t\tviewPoint.addChildToTopCanvas(this.pinPointContentMovie);\n\t\t}\n\n\t\tprivate getDataUnit(stockAssociatedObject: StockAssociatedObject, param2: number): DataUnit\n\t\t{\n\t\t\tconst posInInterval = notnull(stockAssociatedObject.posInInterval);\n\t\t\tconst refDataSeries = posInInterval[param2].refDataSeries;\n\t\t\tconst points = notnull(refDataSeries).getPointsInIntervalArray(param2);\n\t\t\treturn points[posInInterval[param2].position];\n\t\t}\n\n\t\tprivate getLastVisibleFlagIndex(context: Context, stockAssociatedObjects: StockAssociatedObject[], param3: number): number\n\t\t{\n\t\t\tfor (let objectIndex = stockAssociatedObjects.length - 1; objectIndex >= 0; objectIndex--)\n\t\t\t{\n\t\t\t\tconst object = stockAssociatedObjects[objectIndex];\n\t\t\t\tif (notnull(object.posInInterval)[param3])\n\t\t\t\t{\n\t\t\t\t\tif (this.getDataUnit(object, param3).relativeMinutes <= context.lastMinute)\n\t\t\t\t\t\treturn objectIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tprivate getFirstVisibleFlagIndex(context: Context, stockAssociatedObjects: StockAssociatedObject[], param3: number): number\n\t\t{\n\t\t\tfor (let objectIndex = 0; objectIndex < stockAssociatedObjects.length; objectIndex++)\n\t\t\t{\n\t\t\t\tconst _loc5_ = stockAssociatedObjects[objectIndex];\n\t\t\t\tif (notnull(_loc5_.posInInterval)[param3])\n\t\t\t\t{\n\t\t\t\t\tif (this.getDataUnit(_loc5_, param3).relativeMinutes > context.lastMinute - context.count)\n\t\t\t\t\t\treturn objectIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn stockAssociatedObjects.length - 1;\n\t\t}\n\n\t\tprivate getPinPointMovieClip(pinPoint: PinPoint): PinPointMovie\n\t\t{\n\t\t\tlet movie: PinPointMovie | null;\n\t\t\tconst objectColor = pinPoint.originalObject._color ? pinPoint.originalObject._color : \"gray\";\n\t\t\tif (this.activeMovies >= this.pinMovies.length)\n\t\t\t{\n\t\t\t\tmovie = objectColor === \"orange\" ? new OrangePinPointMovie() : new PinPointMovie();\n\t\t\t\tthis.addChild(movie);\n\t\t\t\tthis.pinMovies.push(movie);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmovie = this.pinMovies[this.activeMovies];\n\t\t\t\tconst movieColor = movie instanceof OrangePinPointMovie ? \"orange\" : \"gray\";\n\t\t\t\tif (movieColor !== objectColor)\n\t\t\t\t{\n\t\t\t\t\tmovie = objectColor === \"orange\" ? new OrangePinPointMovie() : new PinPointMovie();\n\t\t\t\t\tthis.removeChild(this.pinMovies[this.activeMovies]);\n\t\t\t\t\tthis.pinMovies[this.activeMovies].clearReferences();\n\t\t\t\t\tdelete this.pinMovies[this.activeMovies];\n\t\t\t\t\tthis.pinMovies[this.activeMovies] = movie;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmovie.setPinPointContentMovie(this.pinPointContentMovie);\n\t\t\tthis.activeMovies++;\n\t\t\treturn movie;\n\t\t}\n\n\t\tprivate removePinMovies(firstIndex: number)\n\t\t{\n\t\t\tfor (let movieIndex = firstIndex; movieIndex < this.pinMovies.length; movieIndex++)\n\t\t\t{\n\t\t\t\tthis.removeChild(this.pinMovies[movieIndex]);\n\t\t\t\tthis.pinMovies[movieIndex].clearReferences();\n\t\t\t\tdelete this.pinMovies[movieIndex];\n\t\t\t}\n\t\t\tthis.pinMovies.splice(firstIndex);\n\t\t}\n\n\t\tprivate getYPos(context: Context, dataUnit: DataUnit): number\n\t\t{\n\t\t\treturn this.localYOffset - (dataUnit.getCloseLogValue(context.verticalScaling) - context.medPrice) * this.localYScale;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tif (isNaN(context.lastMinute) || isNaN(context.count) || context.count === 0)\n\t\t\t\treturn;\n\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst newsObjects = <PinPoint[]>this.dataSource.objects[\"newspin\"];\n\t\t\tthis.activeMovies = 0;\n\t\t\tthis.pinPointContentMovie.clearMovie();\n\t\t\tif (!newsObjects || newsObjects.length === 0)\n\t\t\t{\n\t\t\t\tthis.removePinMovies(0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst _loc3_ = newsObjects[0].originalObject._color !== \"orange\";\n\t\t\tif (!Const.DISPLAY_NEWS_PINS && _loc3_)\n\t\t\t{\n\t\t\t\tthis.removePinMovies(0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.localYOffset = vp.miny + vp.medPriceY + vp.V_OFFSET;\n\t\t\tthis.localYScale = vp.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t\tconst layer = vp.getLayer(\"BottomBarLayer\") as BottomBarLayer;\n\t\t\tthis.pinPointYWhenContentDisplayed = vp.maxy - (!layer ? 0 : layer.bottomTextHeight);\n\t\t\tconst detailLevel = vp.getDetailLevelForTechnicalStyle();\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst firstVisibleFlagIndex = this.getFirstVisibleFlagIndex(context, newsObjects, detailLevelInterval);\n\t\t\tconst lastVisibleFlagIndex = this.getLastVisibleFlagIndex(context, newsObjects, detailLevelInterval);\n\t\t\tthis.lastAbsoluteHeightMin = 0;\n\t\t\tthis.lastAbsoluteHeightMax = 0;\n\t\t\tthis.renderFlagGroups(context, newsObjects, firstVisibleFlagIndex, lastVisibleFlagIndex, detailLevelInterval);\n\t\t\tthis.removePinMovies(this.activeMovies);\n\t\t\tif (!_loc3_)\n\t\t\t\tthis.pinPointContentMovie.renderMovie();\n\t\t}\n\n\t\tprivate renderFlagGroups(context: Context, pinPoints: PinPoint[], param3: number, param4: number, param5: number)\n\t\t{\n\t\t\tlet _loc11_ = 0;\n\t\t\tconst _loc7_: number[] = [];\n\t\t\tconst _loc8_: number[] = [];\n\t\t\tconst _loc9_: number[] = [];\n\t\t\tconst _loc10_: number[] = [];\n\t\t\tfor (let _loc6_ = param3; _loc6_ <= param4; _loc6_ += _loc11_)\n\t\t\t{\n\t\t\t\t_loc7_.push(_loc6_);\n\t\t\t\t_loc11_ = this.getFlagGroupCount(context, pinPoints, _loc6_, param5);\n\t\t\t\t_loc8_.push(_loc11_);\n\t\t\t\tconst dataUnit = this.getDataUnit(pinPoints[_loc6_], param5);\n\t\t\t\t_loc9_.push(Math.floor(!isNaN(dataUnit.weeklyXPos) ? Number(dataUnit.weeklyXPos) : this.viewPoint.getXPos(dataUnit)));\n\t\t\t\t_loc10_.push(this.getYPos(context, dataUnit));\n\t\t\t}\n\t\t\tif (_loc7_.length > 0)\n\t\t\t{\n\t\t\t\tconst pinOrientations: PinOrientations[] = [];\n\t\t\t\tfor (let _loc14_ = _loc7_.length - 1; _loc14_ >= 0; _loc14_--)\n\t\t\t\t{\n\t\t\t\t\tif ((pinOrientations.length === 0 || pinOrientations[pinOrientations.length - 1] === PinOrientations.LEFT_ORIENTATION) && _loc9_[_loc14_] + (_loc7_.length - _loc14_) * IntervalBasedPinPointsLayer.MIN_FLAGS_DIST > this.viewPoint.maxx)\n\t\t\t\t\t\tpinOrientations.push(PinOrientations.LEFT_ORIENTATION);\n\t\t\t\t\telse\n\t\t\t\t\t\tpinOrientations.push(PinOrientations.RIGHT_ORIENTATION);\n\n\t\t\t\t}\n\t\t\t\tpinOrientations.reverse();\n\t\t\t\tfor (let _loc14_ = 0; _loc14_ < _loc7_.length; _loc14_++)\n\t\t\t\t\tthis.renderFlagsGroup(context, param5, _loc9_[_loc14_], _loc10_[_loc14_], _loc7_[_loc14_], _loc8_[_loc14_], pinPoints, IntervalBasedPinPointsLayer.FLAG_POLE_HEIGHT + IntervalBasedPinPointsLayer.FLAG_HEIGHT, pinOrientations[_loc14_]);\n\t\t\t}\n\t\t}\n\n\t\tprivate renderFlag(x: number, pinOrientation: PinOrientations, height: number, pinPoint: PinPoint, param5?: PinPoint, count = 1)\n\t\t{\n\t\t\tconst pinPointMovieClip = this.getPinPointMovieClip(pinPoint);\n\t\t\tthis.addChild(pinPointMovieClip);\n\t\t\tpinPointMovieClip.x = x;\n\t\t\tpinPointMovieClip.y = this.pinPointYWhenContentDisplayed;\n\t\t\tpinPointMovieClip.setCount(count);\n\t\t\tpinPointMovieClip.setObj(pinPoint);\n\t\t\tpinPointMovieClip.setOrientation(pinOrientation);\n\t\t\tpinPointMovieClip.setHeight(height);\n\t\t}\n\n\t\tprivate getFlagGroupCount(context: Context, pinPoints: PinPoint[], pinIndex: number, param4: number): number\n\t\t{\n\t\t\tlet _loc5_ = 1;\n\t\t\tconst _loc6_ = pinPoints[pinIndex];\n\t\t\tconst _loc7_ = notnull(_loc6_.posInInterval)[param4];\n\t\t\tif (!_loc7_)\n\t\t\t\treturn _loc5_;\n\n\t\t\twhile (pinIndex + _loc5_ < pinPoints.length)\n\t\t\t{\n\t\t\t\tconst _loc8_ = notnull(pinPoints[pinIndex + _loc5_].posInInterval)[param4];\n\t\t\t\tif (!_loc8_ || _loc7_.position !== _loc8_.position || _loc7_.refDataSeries !== _loc8_.refDataSeries)\n\t\t\t\t\tbreak;\n\n\t\t\t\t_loc5_++;\n\t\t\t}\n\t\t\treturn _loc5_;\n\t\t}\n\n\t\tprivate renderFlagsGroup(context: Context, param2: number, param3: number, param4: number, param5: number, param6: number, pinPoints: PinPoint[], param8: number, pinOrientation: PinOrientations)\n\t\t{\n\t\t\tthis.lastAbsoluteHeightMin = param4 - param8 + IntervalBasedPinPointsLayer.FLAG_HEIGHT;\n\t\t\tlet _loc10_ = false;\n\t\t\tfor (let _loc11_ = param5; _loc11_ < param5 + param6; _loc11_++)\n\t\t\t\t_loc10_ = _loc10_ || pinPoints[_loc11_].active || pinPoints[_loc11_].forceExpandInGroup;\n\n\t\t\tlet _loc12_: number;\n\t\t\tif (param6 > 1 && _loc10_ || !Boolean(Const.ENABLE_COMPACT_FLAGS))\n\t\t\t{\n\t\t\t\t_loc12_ = param8 + (param6 - 1) * IntervalBasedPinPointsLayer.FLAG_HEIGHT;\n\t\t\t\tfor (let _loc11_ = param5; _loc11_ < param5 + param6; _loc11_++)\n\t\t\t\t{\n\t\t\t\t\tconst _loc13_ = param8 + (_loc11_ - param5) * IntervalBasedPinPointsLayer.FLAG_HEIGHT;\n\t\t\t\t\tthis.renderFlag(param3, pinOrientation, _loc13_, pinPoints[_loc11_]);\n\t\t\t\t\tif (pinPoints[_loc11_].active)\n\t\t\t\t\t\tthis.pinPointContentMovie.setActivePinPoint(pinPoints[_loc11_], param3, this.pinPointYWhenContentDisplayed - _loc12_);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst _loc14_ = Math.min(param6, PinPointMovie.MAX_SHOWN_GROUP_COUNT) * 2;\n\t\t\t\t_loc12_ = param8 + _loc14_;\n\t\t\t\tthis.renderFlag(param3, pinOrientation, param8 + _loc14_, pinPoints[param5 + param6 - 1], pinPoints[param5], param6);\n\t\t\t\tif (pinPoints[param5].active)\n\t\t\t\t\tthis.pinPointContentMovie.setActivePinPoint(pinPoints[param5], param3, this.pinPointYWhenContentDisplayed - _loc12_);\n\t\t\t}\n\t\t\tthis.lastAbsoluteHeightMax = param4 - this.pinMovies[this.activeMovies - 1].getHeight();\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class IntervalSet\n\t{\n\t\tprivate intervals: StartEndPair[] = [];\n\n\t\tgetIntervalForValue(value: number): StartEndPair | null\n\t\t{\n\t\t\tlet index = this.intervals.length - 1;\n\t\t\twhile (index >= 0 && this.intervals[index].start > value)\n\t\t\t\tindex--;\n\n\t\t\tif (index === -1 || this.intervals[index].end < value)\n\t\t\t\treturn null;\t// error?\n\n\t\t\treturn this.intervals[index];\n\t\t}\n\n\t\taddInterval(start: number, end: number)\n\t\t{\n\t\t\tthis.addPair(new StartEndPair(start, end));\n\t\t}\n\n\t\tgetClosestEarlierIntervalForValue(value: number): StartEndPair | null\n\t\t{\n\t\t\tif (this.intervals.length === 0)\n\t\t\t\treturn null;\t// throw?\n\n\t\t\tlet latestInterval: StartEndPair | null = null;\n\t\t\tfor (const interval of this.intervals)\n\t\t\t{\n\t\t\t\tif (interval.start <= value && value <= interval.end)\n\t\t\t\t\treturn interval;\n\n\t\t\t\tif (interval.end < value)\n\t\t\t\t{\n\t\t\t\t\tif (!latestInterval || latestInterval.end < interval.end)\n\t\t\t\t\t\tlatestInterval = interval;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (latestInterval)\n\t\t\t\treturn latestInterval;\n\n\t\t\treturn this.getEarliestInterval();\n\t\t}\n\n\t\ttoString(): string\n\t\t{\n\t\t\treturn this.intervals.join(',');\n\t\t}\n\n\t\tlength(): number\n\t\t{\n\t\t\treturn this.intervals.length;\n\t\t}\n\n\t\tgetEarliestInterval(): StartEndPair | null\n\t\t{\n\t\t\tif (this.intervals.length === 0)\n\t\t\t\treturn null;\t// throw?\n\n\t\t\treturn this.intervals[0];\n\t\t}\n\n\t\tcontainsValue(value: number): boolean\n\t\t{\n\t\t\treturn !!this.getIntervalForValue(value);\n\t\t}\n\n\t\tallIntervalsLength(): number\n\t\t{\n\t\t\tlet _loc1_ = 0;\n\t\t\tfor (const interval of this.intervals)\n\t\t\t\t_loc1_ = Number(_loc1_ + (interval.end - interval.start));\n\t\t\treturn _loc1_;\n\t\t}\n\n\t\tgetIntervalAt(index: number): StartEndPair\n\t\t{\n\t\t\treturn this.intervals[index];\n\t\t}\n\n\t\taddPair(pair: StartEndPair)\n\t\t{\n\t\t\tif (pair.start > pair.end)\n\t\t\t\treturn;\n\n\t\t\tlet intervalIndex: number = 0;\n\t\t\twhile (intervalIndex < this.intervals.length)\n\t\t\t{\n\t\t\t\tif (pair.end < this.intervals[intervalIndex].start)\n\t\t\t\t{\n\t\t\t\t\tthis.intervals.splice(intervalIndex, 0, pair);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (pair.start <= this.intervals[intervalIndex].end)\n\t\t\t\t{\n\t\t\t\t\tpair.start = Math.min(pair.start, this.intervals[intervalIndex].start);\n\t\t\t\t\tpair.end = Math.max(pair.end, this.intervals[intervalIndex].end);\n\t\t\t\t\tthis.intervals.splice(intervalIndex, 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tintervalIndex++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (intervalIndex === this.intervals.length)\n\t\t\t\tthis.intervals.push(pair);\n\t\t}\n\n\t\tequals(param1: any): boolean\n\t\t{\n\t\t\tif (!(param1 instanceof IntervalSet))\n\t\t\t\treturn false;\n\n\t\t\tif (param1.intervals.length !== this.intervals.length)\n\t\t\t\treturn false;\n\n\t\t\tfor (let pairIndex = 0; pairIndex < this.intervals.length; pairIndex++)\n\t\t\t{\n\t\t\t\tif (!this.intervals[pairIndex].equals(param1.intervals[pairIndex]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.system.Capabilities;\n\t// import flash.external.ExternalInterface;\n\t// import flash.utils.getDefinitionByName;\n\t// import flash.events.MouseEvent;\n\n\texport class JSProxy\n\t{\n\t\tprivate javascriptRequestMade = false;\n\t\tprivate javascriptNotified = false;\n\n\t\tconstructor(private readonly mainManager: MainManager)\n\t\t{\n\t\t\tif (!MainManager.paramsObj[\"disableExternalInterface\"] && flash.external.ExternalInterface.available)\n\t\t\t{\n\t\t\t\t(<Dictionary>mainManager.stage.element)[\"callAsFunction\"] = flash.display.Stage.bind(this.callAsFunction, this);\n\t\t\t\t//flash.external.ExternalInterface.addCallback(\"callAsFunction\", this.callAsFunction.bind(this));\n\t\t\t}\n\t\t\t//TODO if (Capabilities.os.search(/Linux*/) === 0)\n\t\t\t{\n\t\t\t\tmainManager.stage.addEventListener(MouseEvents.MOUSE_WHEEL, flash.display.Stage.bind(this.playerMouseWheelHandler, this));\n\t\t\t}\n\t\t}\n\n\t\tstatic isPlayingInBrowser(): boolean\n\t\t{\n\t\t\treturn true;\n\t\t\t//return Capabilities.playerType !== \"StandAlone\" && Capabilities.playerType !== \"External\";\n\t\t}\n\n\t\taddObject(ticker: string, type: string, date: Date, letter: string, id: number)\n\t\t{\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tthis.mainManager.addObject({\n\t\t\t\t_qname: ticker,\n\t\t\t\t_type: type,\n\t\t\t\t_date: date,\n\t\t\t\t_id: id,\n\t\t\t\t_letter: letter\n\t\t\t});\n\t\t}\n\n\t\tremoveLayerFromStyle(layerInfo: LayerInfo, param2: string)\n\t\t{\n\t\t\tconst layersManager = this.mainManager.layersManager;\n\t\t\tlayersManager.removeLayerFromStyle(layerInfo, param2);\n\t\t}\n\n\t\tinitIndicators()\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tif (!Const.INDICATOR_ENABLED)\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"google.finance.initTechnicals\");\n\t\t}\n\n\t\tprivate handleMouseWheel(delta: number)\n\t\t{\n\t\t\tthis.mainManager.displayManager.mainController.handleMouseWheel(delta);\n\t\t}\n\n\t\tlogIntervalButtonClick(param1: string)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_GF_click\", \"\", \"chs_in\", param1.replace(/\\\\/g, \"\\\\\\\\\"), \"\");\n\t\t}\n\n\t\tchangePrimaryTicker(ticker: string, param2: string, param3 = false)\n\t\t{\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tthis.mainManager.changePrimaryTicker(ticker, param2, param3);\n\t\t}\n\n\t\tprivate getIndicatorInstanceArray(indicatorName: string, params: any[]): any[]\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst indicatorClass = getDefinitionByName(\"com.google.finance.indicator.\" + indicatorName + \"IndicatorLayer\") as typeof indicator.IndicatorLayer;\n\t\t\t\t//let parameterNames = (<any>indicatorClass.getParameterNames())[\"getParameterNames\"]() as string[];\n\t\t\t\tconst parameterNames = indicatorClass.getParameterNames();\n\n\t\t\t\tlet instances: any[] = [];\n\t\t\t\tlet index = 1;\n\t\t\t\twhile (index < params.length)\n\t\t\t\t{\n\t\t\t\t\tconst instance = <any>{};\t// TODO\n\t\t\t\t\tlet finished = true;\n\t\t\t\t\tfor (const parameterName of parameterNames)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (index === params.length)\n\t\t\t\t\t\t\tfinished = false;\n\n\t\t\t\t\t\t(<any>instance)[parameterName] = params[index++];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (finished)\n\t\t\t\t\t\tinstances.push(instance);\n\t\t\t\t}\n\t\t\t\tif (instances.length === 0)\n\t\t\t\t\tinstances = Const.INDICATOR_PARAMETERS[indicatorName];\n\t\t\t\telse\n\t\t\t\t\tConst.INDICATOR_PARAMETERS[indicatorName] = instances;\n\n\t\t\t\treturn instances;\n\t\t\t}\n\t\t\tcatch (re /*: ReferenceError*/)\n\t\t\t{\n\t\t\t\treturn Const.INDICATOR_PARAMETERS[indicatorName];\n\t\t\t}\n\t\t}\n\n\t\timportGVizData(param1: any, indicatorName: string, param3: number)\n\t\t{\n\t\t\tconst firstDataSource = this.mainManager.layersManager.getFirstDataSource();\n\t\t\tif (!firstDataSource)\n\t\t\t\treturn;\n\n\t\t\tif (!firstDataSource.indicators[indicatorName])\n\t\t\t\tfirstDataSource.indicators[indicatorName] = new Indicator();\n\n\t\t\tGVizFormatConverter.convertGVizData(param1, param3, firstDataSource.data, firstDataSource.indicators[indicatorName]);\n\t\t}\n\n\t\tupdateLastPrice(param1: boolean, param2: number)\n\t\t{\n\t\t\tconst firstDataSource = this.mainManager.layersManager.getFirstDataSource();\n\t\t\tconst displayManager = this.mainManager.displayManager;\n\t\t\tif (!firstDataSource)\n\t\t\t\treturn;\n\n\t\t\tif (this.updateLastPriceInDataSeries(param1 ? firstDataSource.afterHoursData : firstDataSource.data, param2))\n\t\t\t{\n\t\t\t\tif (displayManager.getDetailLevel() === Intervals.INTRADAY)\n\t\t\t\t\tdisplayManager.update(true);\n\t\t\t}\n\t\t}\n\n\t\tprivate playerMouseWheelHandler(wheelEvent: WheelEvent)\n\t\t{\n\t\t\tconst delta = wheelEvent.deltaY < 0 ? 3 : -3;\n\t\t\tthis.handleMouseWheel(delta);\n\n\t\t\twheelEvent.preventDefault();\n\t\t\twheelEvent.stopPropagation();\n\t\t}\n\n\t\tfirstDataIsHere()\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tif (this.javascriptNotified)\n\t\t\t\treturn;\n\n\t\t\tthis.javascriptNotified = true;\n\t\t\tflash.external.ExternalInterface.call(\"_firstDataIsHere\");\n\t\t}\n\n\t\tsetChartFocus(param1: boolean)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_setChartFocus\", param1);\n\t\t}\n\n\t\tresetChartHeight(param1: number)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_setChartSize\", param1 + \"px\");\n\t\t}\n\n\t\tsetJsCurrentViewParam(param1: string, param2: any)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_setCurrentViewParam\", encodeURIComponent(param1), encodeURIComponent(param2.toString()));\n\t\t}\n\n\t\ttoggleIndicator(viewpointName: string, param2: string)\n\t\t{\n\t\t\tconst layersManager = this.mainManager.layersManager;\n\t\t\tconst displayManager = this.mainManager.displayManager;\n\t\t\tconst _loc5_ = param2.split('*');\n\t\t\tif (Const.DEPENDENT_INDICATOR_NAMES.indexOf(viewpointName) !== -1 || Const.VOLUME_DEPENDENT_INDICATOR_NAMES.indexOf(viewpointName) !== -1)\n\t\t\t{\n\t\t\t\tconst _loc6_ = Const.DEPENDENT_INDICATOR_NAMES.indexOf(viewpointName) !== -1 ? Const.MAIN_VIEW_POINT_NAME : Const.BOTTOM_VIEW_POINT_NAME;\n\t\t\t\tif (Boolean(_loc5_[0]))\n\t\t\t\t{\n\t\t\t\t\tdisplayManager.enableIndicatorConfig(viewpointName, true);\n\t\t\t\t\tdisplayManager.enableIndicatorLayer(viewpointName, _loc6_, true);\n\t\t\t\t\tdisplayManager.setIndicatorInstanceArray(viewpointName, this.getIndicatorInstanceArray(viewpointName, _loc5_));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdisplayManager.enableIndicatorConfig(viewpointName, false);\n\t\t\t\t\tdisplayManager.enableIndicatorLayer(viewpointName, _loc6_, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (Const.INDEPENDENT_INDICATOR_NAMES.indexOf(viewpointName) !== -1)\n\t\t\t{\n\t\t\t\tif (Boolean(_loc5_[0]))\n\t\t\t\t{\n\t\t\t\t\tif (!displayManager.isIndicatorConfigEnabled(viewpointName))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.mainManager.layersManager.chartHeightInStyle[LayersManager.SINGLE] = this.mainManager.layersManager.chartHeightInStyle[LayersManager.SINGLE] + Const.TECHNICAL_INDICATOR_HEIGHT;\n\t\t\t\t\t\tdisplayManager.enableIndicatorConfig(viewpointName, true);\n\t\t\t\t\t\tlayersManager.unhideViewPoint(viewpointName, LayersManager.SINGLE);\n\t\t\t\t\t\tdisplayManager.setIndicatorInstanceArray(viewpointName, this.getIndicatorInstanceArray(viewpointName, _loc5_));\n\t\t\t\t\t\tConst.MOVIE_HEIGHT = this.mainManager.stage.stageHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (displayManager.isIndicatorConfigEnabled(viewpointName))\n\t\t\t\t{\n\t\t\t\t\tthis.mainManager.layersManager.chartHeightInStyle[LayersManager.SINGLE] = this.mainManager.layersManager.chartHeightInStyle[LayersManager.SINGLE] - Const.TECHNICAL_INDICATOR_HEIGHT;\n\t\t\t\t\tdisplayManager.enableIndicatorConfig(viewpointName, false);\n\t\t\t\t\tlayersManager.hideViewPoint(viewpointName, LayersManager.SINGLE);\n\t\t\t\t\tConst.MOVIE_HEIGHT = this.mainManager.stage.stageHeight;\n\t\t\t\t}\n\t\t\t\tconst mainViewPoint = displayManager.getMainViewPoint();\n\t\t\t\tif (mainViewPoint)\n\t\t\t\t\tmainViewPoint.checkEvents();\n\n\t\t\t\tdisplayManager.update();\n\t\t\t}\n\t\t}\n\n\t\tremoveCompareTo(ticker: string)\n\t\t{\n\t\t\tif (!this.mainManager.layersManager.getFirstDataSource())\n\t\t\t\treturn;\n\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tthis.mainManager.removeCompareTo(ticker);\n\t\t}\n\n\t\taddCompareTo(ticker: string, param2: string, param3 = false)\n\t\t{\n\t\t\tif (!this.mainManager.layersManager.getFirstDataSource())\n\t\t\t\treturn;\n\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tthis.mainManager.addCompareTo(ticker, param2, param3);\n\t\t}\n\n\t\tgetData(ticker: string, param2: string)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tif (this.javascriptRequestMade)\n\t\t\t\treturn;\n\n\t\t\tthis.javascriptRequestMade = true;\n\t\t\tflash.external.ExternalInterface.call(\"_sendAllDataToChart\", encodeURIComponent(ticker), \"flash\");\n\t\t}\n\n\t\tsetLineStyle(lineStyle: string)\n\t\t{\n\t\t\tif (this.mainManager.layersManager.getStyle() === LayersManager.SINGLE)\n\t\t\t{\n\t\t\t\tconst displayManager = this.mainManager.displayManager;\n\t\t\t\tconst chartLayer = displayManager.getEnabledChartLayer();\n\t\t\t\tconst layerType = lineStyle + \"ChartLayer\";\n\t\t\t\tdisplayManager.setEnabledChartLayer(\"\");\n\t\t\t\tdisplayManager.mainController.toggleZoomIntervalButtons(chartLayer, layerType);\n\t\t\t\tdisplayManager.setEnabledChartLayer(layerType);\n\t\t\t\tthis.setJsCurrentViewParam(\"lineStyle\", lineStyle);\n\t\t\t}\n\t\t}\n\n\t\tremoveObject(ticker: string, id: string, objectType: string)\n\t\t{\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tthis.mainManager.removeObject(ticker, Number(id), objectType);\n\t\t}\n\n\t\texpandChart()\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_expandChart\");\n\t\t\tflash.external.ExternalInterface.call(\"_GF_click\", \"\", \"chs_ec\", \"\", \"\");\n\t\t}\n\n\t\taddLayerToStyle(layerInfo: LayerInfo, param2: string)\n\t\t{\n\t\t\tconst layersManager = this.mainManager.layersManager;\n\t\t\tlayersManager.addLayerToStyle(layerInfo, param2);\n\t\t}\n\n\t\tsetParameter(name: string, value: string)\n\t\t{\n\t\t\tconst layersManager = this.mainManager.layersManager;\n\t\t\tconst displayManager = this.mainManager.displayManager;\n\t\t\tMainManager.paramsObj[name] = value;\n\t\t\tif (name === \"displayNewsPins\")\n\t\t\t\tConst.DISPLAY_NEWS_PINS = \"true\" === value;\n\n\t\t\tif (name === \"displayVolume\")\n\t\t\t{\n\t\t\t\tif (!Boolean(value))\n\t\t\t\t\tlayersManager.hideViewPoint(\"BottomViewPoint\", \"single\");\n\t\t\t\telse\n\t\t\t\t\tlayersManager.unhideViewPoint(\"BottomViewPoint\", \"single\");\n\n\t\t\t\tdisplayManager.windowResized(Const.MOVIE_WIDTH, Const.MOVIE_HEIGHT);\n\t\t\t}\n\t\t\tif (name === \"displayExtendedHours\" && MainManager.paramsObj.hasExtendedHours !== \"false\")\n\t\t\t{\n\t\t\t\tif (Boolean(value))\n\t\t\t\t\tdisplayManager.setAfterHoursDisplay(true);\n\t\t\t\telse\n\t\t\t\t\tdisplayManager.setAfterHoursDisplay(false);\n\n\t\t\t\tconst mainViewPoint = displayManager.getMainViewPoint();\n\t\t\t\tif (mainViewPoint)\n\t\t\t\t\tthis.setJsCurrentViewParam(\"defaultDisplayMinutes\", mainViewPoint.count);\n\n\t\t\t\tconst firstDataSource = layersManager.getFirstDataSource();\n\t\t\t\tif (firstDataSource)\n\t\t\t\t\tthis.setForceDisplayExtendedHours(firstDataSource);\n\t\t\t}\n\t\t\tif (name === \"minZoomDays\")\n\t\t\t\tdisplayManager.mainController.setMinDisplayDays(Number(value));\n\n\t\t\tdisplayManager.update();\n\t\t}\n\n\t\taddData(ticker: string, param2: string, param3: string, param4: string, param5: string)\n\t\t{\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tconst dataManager = this.mainManager.dataManager;\n\t\t\t// TODO: wtf?\n\t\t\tconst event = EventFactory.getEvent(ChartEventTypes.GET_DATA, ticker, ChartEventPriorities.OPTIONAL);\n\t\t\tdataManager.addData(event, decodeURIComponent(param3));\n\t\t\tif (param5)\n\t\t\t\tdataManager.addData(event, decodeURIComponent(param5));\n\t\t}\n\n\t\tsetJsChartType(param1: string)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_setChartType\", encodeURIComponent(param1));\n\t\t}\n\n\t\tprivate callAsFunction(functionName: string, ...rest: any[])\n\t\t{\n\t\t\tswitch (functionName)\n\t\t\t{\n\t\t\t\tcase \"addCompareTo\":\n\t\t\t\t\tthis.addCompareTo.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"addLayerToStyle\":\n\t\t\t\t\tthis.addLayerToStyle.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"addObjectArray\":\n\t\t\t\t\tthis.addObjectArray.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"changePrimaryTicker\":\n\t\t\t\t\tthis.changePrimaryTicker.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"clearAllPins\":\n\t\t\t\t\tthis.clearAllPins.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"enableIndicator\":\n\t\t\t\t\tthis.toggleIndicator.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"handleMouseWheel\":\n\t\t\t\t\tthis.handleMouseWheel.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"htmlClicked\":\n\t\t\t\t\tthis.htmlClicked.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"removeCompareTo\":\n\t\t\t\t\tthis.removeCompareTo.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"removeLayerFromStyle\":\n\t\t\t\t\tthis.removeLayerFromStyle.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"setLineStyle\":\n\t\t\t\t\tthis.setLineStyle.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"setParameter\":\n\t\t\t\t\tthis.setParameter.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"updateLastPrice\":\n\t\t\t\t\tthis.updateLastPrice.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"importGVizData\":\n\t\t\t\t\tthis.importGVizData.apply(this, rest[0]);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tupdateLastPriceInDataSeries(dataSeries: DataSeries, close: number): boolean\n\t\t{\n\t\t\tconst pointsInIntervalArray = dataSeries.getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\tconst lastRealPointIndex = Utils.getLastRealPointIndex(pointsInIntervalArray);\n\t\t\tif (lastRealPointIndex >= 0)\n\t\t\t{\n\t\t\t\tconst _loc5_ = pointsInIntervalArray[lastRealPointIndex];\n\t\t\t\t_loc5_.close = close;\n\t\t\t\t_loc5_.low = Utils.extendedMin(_loc5_.low, close);\n\t\t\t\t_loc5_.high = Utils.extendedMax(_loc5_.high, close);\n\t\t\t\t_loc5_.realtime = true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tclearAllPins(ticker: string)\n\t\t{\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tthis.mainManager.clearAllPins(ticker);\n\t\t}\n\n\t\tremoveObjectArray(maps: Map<string>[])\n\t\t{\n\t\t\tUtils.adjustExchangeNameOfArray(maps, \"_quote\");\n\t\t\tthis.mainManager.removeObjectArray(maps);\n\t\t}\n\n\t\tshrinkChart()\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_shrinkChart\");\n\t\t\tflash.external.ExternalInterface.call(\"_GF_click\", \"\", \"chs_sc\", \"\", \"\");\n\t\t}\n\n\t\taddObjectArray(param1: any[])\n\t\t{\n\t\t\tconst pinArray = param1;\n\t\t\tif (!pinArray)\n\t\t\t\treturn;\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tUtils.adjustExchangeNameOfArray(pinArray, \"_quote\");\n\t\t\t\tMainManager.paramsObj.differentDividendCurrency = MainManager.paramsObj.differentDividendCurrency || Utils.hasDifferentDividendCurrency(MainManager.paramsObj.companyCurrency, pinArray);\n\t\t\t\tthis.mainManager.addObjectArray(pinArray);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcatch (er /*: TypeError*/)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tshouldSkipExternalInterfaceCall(): boolean\n\t\t{\n\t\t\treturn !JSProxy.isPlayingInBrowser() || !flash.external.ExternalInterface.available || MainManager.paramsObj[\"disableExternalInterface\"];\n\t\t}\n\n\t\tHTMLnotify(startDate: Date, endDate: Date, param3: number, param4: number, param5 = false)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_visibleChartRangeChanged\", startDate, endDate, param3, param4, param5);\n\t\t}\n\n\t\thtmlClicked(ticker: string, param2: number)\n\t\t{\n\t\t\tticker = Utils.adjustNasdToNasdaq(ticker);\n\t\t\tthis.mainManager.htmlClicked(ticker, param2);\n\t\t}\n\n\t\tsetForceDisplayExtendedHours(dataSource: DataSource)\n\t\t{\n\t\t\tconst _loc2_ = dataSource.visibleExtendedHours.length() !== 0;\n\t\t\tthis.setJsCurrentViewParam(\"forceDisplayExtendedHours\", _loc2_);\n\t\t}\n\n\t\tiClicked(param1: string, param2: string, param3: number, param4: string)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_flashClicked\", param3);\n\t\t\tflash.external.ExternalInterface.call(\"_GF_click\", \"\", param2 === \"newspin\" ? \"n-f-\" : \"n-fp-\", param4 ? param4.replace(/\\\\/g, \"\\\\\\\\\") : param3, \"\");\n\t\t\tthis.mainManager.htmlClicked(param1, param3, param4);\n\t\t}\n\n\t\tlogZoomButtonClick(param1: string)\n\t\t{\n\t\t\tif (this.shouldSkipExternalInterfaceCall())\n\t\t\t\treturn;\n\n\t\t\tflash.external.ExternalInterface.call(\"_GF_click\", \"\", \"chs_zl\", param1.replace(/\\\\/g, \"\\\\\\\\\"), \"\");\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class LastDayLineLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tprivate dashSize = 7;\n\n\t\tprivate drawLine(context: Context)\n\t\t{\n\t\t\t//const _loc2_ = this.dataSource.data;\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tgr.lineStyle(0, Const.LAST_DAY_CLOSE_LINE_COLOR, 1);\n\t\t\tconst units = this.dataSource.data.units;\n\t\t\tconst days = this.dataSource.data.days;\n\t\t\tconst unit = units[days[days.length - 2]];\n\t\t\tconst lastUnit = units[units.length - 1];\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tconst closeLogValue = unit.getCloseLogValue(context.verticalScaling);\n\t\t\t\tif (closeLogValue > context.maxPrice || closeLogValue < context.minPrice)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst vp = this.viewPoint;\n\t\t\tconst xPos1 = vp.getXPos(unit);\n\t\t\tconst xPos2 = vp.getXPos(lastUnit);\n\t\t\tconst detailLevel = vp.getDetailLevel();\n\t\t\tif (xPos1 < this.viewPoint.maxx && detailLevel === Intervals.INTRADAY)\n\t\t\t{\n\t\t\t\tconst y = this.getYPos(unit, context);\n\t\t\t\tlet _loc12_ = 0;\n\t\t\t\tdo\n\t\t\t\t{\n\t\t\t\t\tgr.moveTo(xPos1 + _loc12_ * this.dashSize, y);\n\t\t\t\t\tgr.lineTo(xPos1 + (_loc12_ + 1) * this.dashSize, y);\n\t\t\t\t\t_loc12_ = Number(_loc12_ + 2);\n\t\t\t\t}\n\t\t\t\twhile (xPos1 + _loc12_ * this.dashSize < xPos2);\n\t\t\t}\n\t\t}\n\n\t\tprotected getYPos(dataUnit: DataUnit, context: Context): number\n\t\t{\n\t\t\treturn this.viewPoint.miny + this.viewPoint.V_OFFSET + this.viewPoint.medPriceY - (dataUnit.getCloseLogValue(context.verticalScaling) - context.medPrice) * this.viewPoint.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.drawLine(context);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import com.google.finance.indicator.AbstractStochasticIndicatorLayer;\n\t// import com.google.finance.indicator.BIASIndicatorLayer;\n\t// import com.google.finance.indicator.BollingerBandsIndicatorLayer;\n\t// import com.google.finance.indicator.CCIIndicatorLayer;\n\t// import com.google.finance.indicator.EMAIndicatorLayer;\n\t// import com.google.finance.indicator.FastStochasticIndicatorLayer;\n\t// import com.google.finance.indicator.KDJIndicatorLayer;\n\t// import com.google.finance.indicator.MACDIndicatorLayer;\n\t// import com.google.finance.indicator.RSIIndicatorLayer;\n\t// import com.google.finance.indicator.SMAIndicatorLayer;\n\t// import com.google.finance.indicator.SlowStochasticIndicatorLayer;\n\t// import com.google.finance.indicator.VMAIndicatorLayer;\n\t// import com.google.finance.indicator.VolumeDependentIndicatorLayer;\n\t// import com.google.finance.indicator.WilliamsPercentRIndicatorLayer;\n\n\texport class LayerInfo\n\t{\n\t\tname: string;\n\t\tarity: string;\n\t\ttype: string;\n\t\tvp: string;\n\t\tds: DataSource;\n\t\tlayer: AbstractLayer<IViewPoint>;\n\t\tid: string;\n\t}\n\n\texport class LayerConfig\n\t{\n\t\tlayers: any[];\n\t\tviewpoints: ViewPoint[];\n\t\thiddenViewpoints: ViewPoint[];\n\t\tlastMinute: number;\n\t}\n\n\texport class LayersManager\n\t{\n\t\tstatic readonly NO_DATA_AVAILABLE_LAYER = \"NoDataAvailableLayer\";\n\t\tstatic readonly PERCENT = \"percent\";\n\t\tstatic readonly SINGLE = \"single\";\n\t\tstatic readonly COMPARISON = \"compare\";\n\n\t\tprivate readonly lineColors: ReadonlyArray<number> = [14432530, 0xff9900, 0x8000, 4801228, 0x990099];\n\t\tprivate readonly comparedTickers: string[] = [];\n\t\t//TODO: layerClasses: (typeof flash.display.Sprite)[];\n\t\tprivate readonly takenColors: { quote: string, color: number }[] = [];\n\t\tprivate readonly dataSources: DataSource[] = [];\n\t\tprivate style_ = LayersManager.SINGLE;\n\t\tprivate fullRedrawWithNextData_ = false;\n\t\tprivate readonly refuseDataSources: Map<boolean> = {};\n\n\t\treadonly chartHeightInStyle: Map<number> = {};\n\t\treadonly config: Map<LayerConfig> = {};\n\t\tlayers: LayerInfo[] = [];\n\n\t\tconstructor(private readonly displayManager: DisplayManager, private readonly mainManager: MainManager)\n\t\t{\n\t\t\t//TODO: this.registerLayerClasses();\n\t\t\tthis.displayManager.layersManager = this;\n\t\t\tconst paramsObj = MainManager.paramsObj;\n\t\t\tconst _loc4_ = Utils.decodeObjects(paramsObj.single_layers);\n\t\t\tconst _loc5_ = Utils.decodeObjects(paramsObj.single_viewpoints);\n\t\t\tthis.config[LayersManager.SINGLE] = new LayerConfig();\n\t\t\tthis.config[LayersManager.SINGLE].layers = _loc4_;\n\t\t\tthis.config[LayersManager.SINGLE].viewpoints = _loc5_;\n\t\t\tthis.config[LayersManager.SINGLE].hiddenViewpoints = [];\n\t\t\tthis.config[LayersManager.SINGLE].lastMinute = 0;\n\t\t\tthis.separateHiddenViewPoints(this.config[LayersManager.SINGLE]);\n\t\t\tconst _loc6_ = Utils.decodeObjects(paramsObj.compare_layers);\n\t\t\tconst _loc7_ = Utils.decodeObjects(paramsObj.compare_viewpoints);\n\t\t\tthis.config[LayersManager.COMPARISON] = new LayerConfig();\n\t\t\tthis.config[LayersManager.COMPARISON].layers = _loc6_;\n\t\t\tthis.config[LayersManager.COMPARISON].viewpoints = _loc7_;\n\t\t\tthis.config[LayersManager.COMPARISON].hiddenViewpoints = [];\n\t\t\tthis.config[LayersManager.COMPARISON].lastMinute = 0;\n\t\t\tthis.separateHiddenViewPoints(this.config[LayersManager.COMPARISON]);\n\t\t\tthis.config[LayersManager.PERCENT] = new LayerConfig();\n\t\t\tthis.config[LayersManager.PERCENT].layers = Utils.decodeObjects(paramsObj.percent_layers);\n\t\t\tthis.config[LayersManager.PERCENT].viewpoints = Utils.decodeObjects(paramsObj.percent_viewpoints);\n\t\t\tthis.config[LayersManager.PERCENT].hiddenViewpoints = [];\n\t\t\tthis.config[LayersManager.PERCENT].lastMinute = 0;\n\t\t\tthis.separateHiddenViewPoints(this.config[LayersManager.PERCENT]);\n\t\t\tthis.chartHeightInStyle[LayersManager.SINGLE] = Const.MOVIE_HEIGHT;\n\t\t\tthis.chartHeightInStyle[LayersManager.COMPARISON] = Const.MOVIE_HEIGHT;\n\t\t\tthis.chartHeightInStyle[LayersManager.PERCENT] = Const.MOVIE_HEIGHT;\n\t\t}\n\n\t\tstatic moveVolumeBelowPrice(viewPoints: IViewPoint[])\n\t\t{\n\t\t\tconst viewPointIndex1 = LayersManager.getViewPointIndex(Const.MAIN_VIEW_POINT_NAME, viewPoints, \"name\");\n\t\t\tconst viewPointIndex2 = LayersManager.getViewPointIndex(Const.BOTTOM_VIEW_POINT_NAME, viewPoints, \"name\");\n\t\t\tif (viewPointIndex1 >= 0 && viewPointIndex2 >= 0 && viewPointIndex2 > viewPointIndex1 + 1)\n\t\t\t{\n\t\t\t\tconst _loc4_ = viewPoints[viewPointIndex2];\n\t\t\t\tviewPoints.splice(viewPointIndex2, 1);\n\t\t\t\tviewPoints.splice(viewPointIndex1 + 1, 0, _loc4_);\n\t\t\t}\n\t\t}\n\n\t\tstatic getViewPointIndex(value: string, viewPoints: IViewPoint[], key: string): number\n\t\t{\n\t\t\tlet index = viewPoints.length - 1;\n\t\t\twhile (index >= 0 && (<any>viewPoints[index])[key] !== value)\t// TODO:\n\t\t\t\tindex--;\n\t\t\treturn index;\n\t\t}\n\n\t\tremoveLayerFromStyle(layerInfo: LayerInfo, style: string)\n\t\t{\n\t\t\tif (this.config[style] === undefined)\n\t\t\t\treturn;\n\n\t\t\tlet _loc3_ = -1;\n\t\t\tfor (let layerIndex = 0; layerIndex < this.config[style].layers.length; layerIndex++)\n\t\t\t{\n\t\t\t\tif (Utils.isSubset(layerInfo, this.config[style].layers[layerIndex]))\n\t\t\t\t\t_loc3_ = layerIndex;\n\t\t\t}\n\t\t\tif (_loc3_ !== -1)\n\t\t\t{\n\t\t\t\tthis.config[style].layers.splice(_loc3_, 1);\n\t\t\t\t_loc3_ = this.getLayerModelIndex(layerInfo);\n\t\t\t\tif (_loc3_ !== -1)\n\t\t\t\t\tthis.layers.splice(_loc3_, 1);\n\n\t\t\t\tthis.displayManager.removeLayer(this.getLayerId(layerInfo), layerInfo.vp);\n\t\t\t}\n\t\t}\n\n\t\tdeleteDataSources()\n\t\t{\n\t\t\tthis.dataSources.splice(1);\n\t\t}\n\n\t\tprivate getNextColor(quote: string): number\n\t\t{\n\t\t\tif (this.mainManager.quote === quote)\n\t\t\t\treturn Const.LINE_CHART_LINE_COLOR;\n\n\t\t\tfor (const takenColor of this.takenColors)\n\t\t\t{\n\t\t\t\tif (takenColor.quote === quote)\n\t\t\t\t\treturn takenColor.color;\n\t\t\t}\n\n\t\t\tfor (const lineColor of this.lineColors)\n\t\t\t{\n\t\t\t\tlet _loc3_ = false;\n\t\t\t\tfor (let takenColorIndex = 0; takenColorIndex < this.takenColors.length; takenColorIndex++)\n\t\t\t\t{\n\t\t\t\t\tif (this.takenColors[takenColorIndex].color === lineColor)\n\t\t\t\t\t\t_loc3_ = true;\n\n\t\t\t\t\ttakenColorIndex++;\n\t\t\t\t}\n\t\t\t\tif (!_loc3_)\n\t\t\t\t{\n\t\t\t\t\tthis.takenColors.push({\n\t\t\t\t\t\tquote: quote,\n\t\t\t\t\t\tcolor: lineColor\n\t\t\t\t\t});\n\t\t\t\t\treturn lineColor;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tprivate removeViewPoints(viewPointsToRemove: IViewPoint[], except: IViewPoint[])\n\t\t{\n\t\t\tfor (const viewPointToRemove of viewPointsToRemove)\n\t\t\t{\n\t\t\t\tif (LayersManager.getViewPointIndex(viewPointToRemove.name, except, \"name\") === -1)\n\t\t\t\t\tthis.displayManager.removeViewPoint(viewPointToRemove.name);\n\t\t\t}\n\t\t}\n\n\t\tprivate applyStartEndToViewPoints(startEndPair: StartEndPair)\n\t\t{\n\t\t\tconst viewPoints = this.displayManager.getViewPoints();\n\t\t\tfor (const viewPoint of viewPoints)\n\t\t\t{\n\t\t\t\tviewPoint.lastMinute = startEndPair.end;\n\t\t\t\tviewPoint.setNewCount(startEndPair.end - startEndPair.start);\n\t\t\t}\n\t\t}\n\n\t\taddIndicatorLayer(indicatorType: string, param2: string, param3: string, source: DataSource, layerInfo: LayerInfo): AbstractLayer<ViewPoint> | null\n\t\t{\n\t\t\tswitch (indicatorType)\n\t\t\t{\n\t\t\t\tcase \"Volume\":\n\t\t\t\t\t{\n\t\t\t\t\t\tconst indicatorLayer = this.displayManager.addLayer(Const.VOLUME_CHART, param3, source, param2) as VolumeLinesChartLayer;\n\t\t\t\t\t\tif (indicatorLayer)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindicatorLayer.setIndicator(\"Volume\", VolumeCalculator.computeInterval, source.data);\n\t\t\t\t\t\t\tindicatorLayer.lineColor = Const.LINE_CHART_LINE_COLOR;\n\t\t\t\t\t\t\treturn indicatorLayer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ECNVolume\":\n\t\t\t\t\t{\n\t\t\t\t\t\tconst indicatorLayer = this.displayManager.addLayer(Const.AH_VOLUME_LAYER, param3, source, param2) as VolumeLinesChartLayer;\n\t\t\t\t\t\tif (indicatorLayer)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindicatorLayer.setIndicator(\"AfterHoursVolume\", VolumeCalculator.computeInterval, source.afterHoursData);\n\t\t\t\t\t\t\tindicatorLayer.lineColor = 0x999999;\n\t\t\t\t\t\t\treturn indicatorLayer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst indicatorClassName = \"indicator.\" + indicatorType + \"IndicatorLayer\";\n\t\t\t\t\t\tconst indicatorLayer = this.displayManager.addLayer(indicatorClassName, param3, source, param2) as indicator.IndicatorLayer | null;\n\t\t\t\t\t\tif (indicatorLayer)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindicatorLayer.setIndicator(indicatorType, source.data);\n\t\t\t\t\t\t\treturn indicatorLayer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tprivate getAnyLayerModelIndexForDatasource(dataSource: DataSource): number\n\t\t{\n\t\t\tfor (let layerIndex = 0; layerIndex < this.layers.length; layerIndex++)\n\t\t\t{\n\t\t\t\tif (dataSource === this.layers[layerIndex].ds)\n\t\t\t\t\treturn layerIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tsyncDataSources(dataSourceNames: string[], param2: boolean, param3 = false)\n\t\t{\n\t\t\t//const _loc4_ = this.mainManager.layersManager;\n\t\t\tconst dataManager = this.mainManager.dataManager;\n\t\t\tconst mainController = this.displayManager.mainController;\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tthis.updateColors(dataSourceNames);\n\t\t\tthis.deleteDataSources();\n\t\t\tconst _loc8_ = this.displayManager.isDifferentMarketSessionComparison();\n\t\t\tconst lastMinute = mainViewPoint.lastMinute;\n\t\t\tconst count = mainViewPoint.count;\n\t\t\tlet isDifferentMarketSessionComparison = _loc8_;\n\t\t\tif (_loc8_ && !param2)\n\t\t\t\tisDifferentMarketSessionComparison = this.isDifferentMarketSessionComparison(dataSourceNames);\n\t\t\telse if (param2 && param3)\n\t\t\t\tisDifferentMarketSessionComparison = true;\n\n\t\t\tthis.displayManager.setDifferentMarketSessionComparison(isDifferentMarketSessionComparison);\n\t\t\tif (dataSourceNames.length === 0 || dataSourceNames.length === 1 && this.dataSources.length > 0 && dataSourceNames[0] === this.dataSources[0].quoteName)\n\t\t\t{\n\t\t\t\tthis.setStyle(this.style_ === LayersManager.PERCENT ? LayersManager.PERCENT : LayersManager.SINGLE);\n\t\t\t\tconst _loc15_ = Const.INDICATOR_ENABLED ? this.displayManager.getEnabledChartLayer() : \"\";\n\t\t\t\tif (_loc15_ === Const.CANDLE_STICK || _loc15_ === Const.OHLC_CHART)\n\t\t\t\t{\n\t\t\t\t\tmainController.toggleZoomIntervalButtons(Const.LINE_CHART, _loc15_);\n\t\t\t\t\tif (Boolean(MainManager.paramsObj.displayExtendedHours))\n\t\t\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(mainController.currentIntervalLevel === Intervals.INTRADAY);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst _loc15_ = Const.INDICATOR_ENABLED ? this.displayManager.getEnabledChartLayer() : \"\";\n\t\t\t\tif (_loc15_ === Const.CANDLE_STICK || _loc15_ === Const.OHLC_CHART)\n\t\t\t\t\tmainController.toggleZoomIntervalButtons(_loc15_, Const.LINE_CHART);\n\n\t\t\t\tthis.setStyle(this.style_ === LayersManager.PERCENT ? LayersManager.PERCENT : LayersManager.COMPARISON);\n\t\t\t\tfor (const dataSourceName of dataSourceNames)\n\t\t\t\t{\n\t\t\t\t\tif (dataManager.hasNonEmptyDataSource(dataSourceName) || dataManager.dataUnavailableOnServer(dataSourceName))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst dataSource = dataManager.dataSources[dataSourceName];\n\t\t\t\t\t\tif (dataSource.getRelativeMinutesState() !== DataSource.RELATIVE_MINUTES_READY)\n\t\t\t\t\t\t\tthis.displayManager.computeRelativeTimes(dataSource);\n\n\t\t\t\t\t\tthis.newData(dataSource);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.mainManager.getQuote(dataSourceName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst firstDataSource = this.getFirstDataSource();\n\t\t\tconst _loc14_ = firstDataSource ? Number(firstDataSource.data.marketDayLength + 1) : Const.MARKET_DAY_LENGTH;\n\t\t\tif (_loc8_ && !isDifferentMarketSessionComparison)\n\t\t\t{\n\t\t\t\tfor (const dataSourceName of dataSourceNames)\n\t\t\t\t\tthis.displayManager.computeRelativeTimes(this.mainManager.dataManager.dataSources[dataSourceName]);\n\n\t\t\t\tmainController.resetZoomButtons(Const.MIN_DISPLAY_DAYS);\n\t\t\t\tmainController.jumpTo(lastMinute * _loc14_, count * _loc14_, true);\n\t\t\t\tthis.displayManager.HTMLnotify(Const.MAIN_VIEW_POINT_NAME);\n\t\t\t}\n\t\t\telse if (isDifferentMarketSessionComparison)\n\t\t\t{\n\t\t\t\tthis.displayManager.computeRelativeTimesForDiffSessionComparison();\n\t\t\t\tif (!_loc8_)\n\t\t\t\t{\n\t\t\t\t\tmainController.resetZoomButtons(Const.DIF_MKT_COMPARISON_MIN_DISPLAY_DAYS);\n\t\t\t\t\tmainController.jumpTo(lastMinute / _loc14_, count / _loc14_, true);\n\t\t\t\t\tthis.displayManager.HTMLnotify(Const.MAIN_VIEW_POINT_NAME);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.displayManager.showContextualStaticInfo();\n\t\t}\n\n\t\tprivate getLayerId(layer: AbstractLayer<ViewPoint> | LayerInfo): string\n\t\t{\n\t\t\tswitch (layer.name)\n\t\t\t{\n\t\t\t\tcase \"SimpleMovingAverage\":\n\t\t\t\t\treturn layer.name + '-' + (<any>layer).length;\t// TODO\n\t\t\t\tcase \"IndependentObjectsLayer\":\n\t\t\t\t\treturn \"Objects\" + (<IndependentObjectsLayer>layer).renderObj;\n\t\t\t\tcase \"IntervalBasedIndependentObjectsLayer\":\n\t\t\t\t\treturn \"Objects\" + (<IntervalBasedIndependentObjectsLayer>layer).renderObj;\n\t\t\t\tdefault:\n\t\t\t\t\treturn layer.name;\n\t\t\t}\n\t\t}\n\n\t\tprivate removeAllLayers(viewPoints: IViewPoint[])\n\t\t{\n\t\t\tfor (const viewPoint of viewPoints)\n\t\t\t\tviewPoint.removeAllLayers();\n\n\t\t\tthis.layers = [];\n\t\t}\n\n\t\tprivate updateColors(dataSourceNames: string[])\n\t\t{\n\t\t\tif (this.takenColors.length === 0)\n\t\t\t\treturn;\n\n\t\t\tlet colorIndex = 0;\n\t\t\tdo\n\t\t\t{\n\t\t\t\tlet _loc3_ = false;\n\t\t\t\tfor (const dataSourceName of dataSourceNames)\n\t\t\t\t{\n\t\t\t\t\tif (dataSourceName === this.takenColors[colorIndex].quote)\n\t\t\t\t\t\t_loc3_ = true;\n\t\t\t\t}\n\t\t\t\tif (!_loc3_)\n\t\t\t\t\tthis.takenColors.splice(colorIndex, 1);\n\t\t\t\telse\n\t\t\t\t\tcolorIndex++;\n\t\t\t}\n\t\t\twhile (colorIndex < this.takenColors.length);\n\t\t}\n\n\t\tremoveCompareTo(ticker: string)\n\t\t{\n\t\t\tlet _loc2_: string[] = [];\n\t\t\tconst value = Utils.findValueInArray(ticker, this.comparedTickers);\n\t\t\tif (value !== -1)\n\t\t\t{\n\t\t\t\tthis.comparedTickers.splice(value, 1);\n\t\t\t\tthis.refuseDataSources[ticker] = true;\n\t\t\t}\n\t\t\tif (this.dataSources.length > 0)\n\t\t\t\t_loc2_.push(this.dataSources[0].quoteName);\n\n\t\t\t_loc2_ = _loc2_.concat(this.comparedTickers);\n\t\t\tthis.syncDataSources(_loc2_, false);\n\t\t}\n\n\t\tprivate getLayerModelIndex(layerInfo: LayerInfo, dataSource?: DataSource): number\n\t\t{\n\t\t\tconst layerId = this.getLayerId(layerInfo);\n\t\t\tfor (let layerIndex = this.layers.length - 1; layerIndex >= 0; layerIndex--)\n\t\t\t{\n\t\t\t\tconst layer = this.layers[layerIndex];\n\t\t\t\tif (this.getLayerId(layer) === layerId && layer.vp === layerInfo.vp && (!dataSource || dataSource === layer.ds)) // TODO:_loc5_.dataSource?\n\t\t\t\t\treturn layerIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tnumComparedTickers(): number\n\t\t{\n\t\t\treturn this.comparedTickers.length;\n\t\t}\n\n\t\taddLayerToStyle(layerInfo: LayerInfo, style: string)\n\t\t{\n\t\t\tif (this.config[style] === undefined)\n\t\t\t\tthis.config[style] = new LayerConfig();\n\n\t\t\tif (this.config[style].layers === undefined)\n\t\t\t\tthis.config[style].layers = [];\n\n\t\t\tthis.config[style].layers.push(layerInfo);\n\t\t\tif (this.style_ === style)\n\t\t\t{\n\t\t\t\tfor (const dataSource of this.dataSources)\n\t\t\t\t\tthis.addLayer(layerInfo, dataSource);\n\t\t\t}\n\t\t\tthis.displayManager.update();\n\t\t}\n\n\t\tdataSourcePos(dataSource: DataSource): number\n\t\t{\n\t\t\tfor (let dataSourceIndex = 0; dataSourceIndex < this.dataSources.length; dataSourceIndex++)\n\t\t\t{\n\t\t\t\tif (this.dataSources[dataSourceIndex] === dataSource)\n\t\t\t\t\treturn dataSourceIndex;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tprivate addLayer(layerInfo: LayerInfo, dataSource: DataSource)\n\t\t{\n\t\t\tlet _loc3_ = -1;\n\t\t\tif (layerInfo.arity === \"Unique\")\n\t\t\t\t_loc3_ = Number(this.getLayerModelIndex(layerInfo));\n\t\t\telse if (layerInfo.arity === \"MultipleNonPrimary\")\n\t\t\t\t_loc3_ = Number(this.getAnyLayerModelIndexForDatasource(dataSource));\n\t\t\telse\n\t\t\t\t_loc3_ = Number(this.getLayerModelIndex(layerInfo, dataSource));\n\n\t\t\tif (_loc3_ === -1)\n\t\t\t{\n\t\t\t\tlet layer: AbstractLayer<IViewPoint> | null = null;\n\t\t\t\tconst layerId = this.getLayerId(layerInfo);\n\t\t\t\tswitch (layerInfo.type)\n\t\t\t\t{\n\t\t\t\t\tcase \"simple\":\n\t\t\t\t\t\tlayer = this.displayManager.addLayer(layerInfo.name, layerInfo.vp, dataSource, layerId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"indicator\":\n\t\t\t\t\t\tconst newIndicatorLayerInfo = new LayerInfo();\n\t\t\t\t\t\tfor (const key of Object.keys(layerInfo))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (key !== \"name\" && key !== \"vp\" && key !== \"arity\" && key !== \"type\")\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t(<any>newIndicatorLayerInfo)[key] = (<any>layerInfo)[key];\t// TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlayer = this.addIndicatorLayer(layerInfo.name, layerId, layerInfo.vp, dataSource, newIndicatorLayerInfo);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (!layer)\n\t\t\t\t\treturn;\n\t\t\t\tif (layerInfo.arity === \"Multiple\" || layerInfo.arity === \"MultipleNonPrimary\" || layerInfo.name === \"PrecalculatedPercentLineChartLayer\")\n\t\t\t\t{\n\t\t\t\t\tlayer.lineColor = this.getNextColor(dataSource.quoteName);\n\t\t\t\t\tlayer.lineThickness = Const.LINE_CHART_LINE_THICKNESS;\n\t\t\t\t\tlayer.lineVisibility = Const.LINE_CHART_LINE_VISIBILITY;\n\t\t\t\t}\n\t\t\t\tconst newLayerInfo = new LayerInfo();\n\t\t\t\tnewLayerInfo.name = layerInfo.name;\n\t\t\t\tnewLayerInfo.type = layerInfo.type;\n\t\t\t\tnewLayerInfo.vp = layerInfo.vp;\n\t\t\t\tnewLayerInfo.layer = layer;\n\t\t\t\tnewLayerInfo.ds = dataSource;\n\t\t\t\tnewLayerInfo.id = layerId;\n\t\t\t\tfor (const key of Object.keys(layerInfo))\n\t\t\t\t{\n\t\t\t\t\tif (key !== \"name\" && key !== \"vp\" && key !== \"arity\")\n\t\t\t\t\t{\n\t\t\t\t\t\t(<any>layer)[key] = (<any>layerInfo)[key];\n\t\t\t\t\t\t(<any>newLayerInfo)[key] = (<any>layerInfo)[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.layers.push(newLayerInfo);\n\t\t\t}\n\t\t}\n\n\t\tprivate isDifferentMarketSessionComparison(dataSourceNames: string[]): boolean\n\t\t{\n\t\t\tif (dataSourceNames.length <= 1)\n\t\t\t\treturn false;\n\n\t\t\tconst dataSource1 = this.mainManager.dataManager.dataSources[dataSourceNames[0]];\n\t\t\tif (!dataSource1 || dataSource1.isEmpty())\n\t\t\t\treturn false;\n\n\t\t\tfor (let index = 1; index < dataSourceNames.length; index++)\n\t\t\t{\n\t\t\t\tconst dataSource2 = this.mainManager.dataManager.dataSources[dataSourceNames[index]];\n\t\t\t\tif (!(!dataSource2 || dataSource2.isEmpty()))\n\t\t\t\t{\n\t\t\t\t\tif (!dataSource1.data.dataSessions.equals(dataSource2.data.dataSessions))\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\taddCompareTo(ticker: string, param2 = false)\n\t\t{\n\t\t\tlet tickers: string[] = [];\n\t\t\tconst value = Utils.findValueInArray(ticker, this.comparedTickers);\n\t\t\tif (value === -1)\n\t\t\t{\n\t\t\t\tthis.comparedTickers.push(ticker);\n\t\t\t\tif (this.dataSources.length > 0)\n\t\t\t\t\ttickers.push(this.dataSources[0].quoteName);\n\n\t\t\t\ttickers = tickers.concat(this.comparedTickers);\n\t\t\t\tdelete this.refuseDataSources[ticker];\n\t\t\t\tthis.syncDataSources(tickers, true, param2);\n\t\t\t\t(this.displayManager.getMainViewPoint()).checkEvents();\n\t\t\t}\n\t\t}\n\n\t\tfigureOutDefaultLastMinute(dataSource: DataSource)\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tthis.displayManager.setLastMinute(mainViewPoint.getNewestMinute());\n\t\t}\n\n\t\taddLayers(dataSource: DataSource)\n\t\t{\n\t\t\tconst viewPointName = Const.SPARKLINE_VIEW_POINT_NAME;\n\t\t\tif (dataSource.quoteName === this.mainManager.quote)\n\t\t\t{\n\t\t\t\tconst layerInfo = new LayerInfo();\n\t\t\t\tlayerInfo.name = Const.WINDOW_LAYER;\n\t\t\t\tlayerInfo.arity = \"Unique\";\n\t\t\t\tlayerInfo.type = \"simple\";\n\t\t\t\tlayerInfo.vp = viewPointName;\n\t\t\t\tthis.displayManager.addLayer(Const.WINDOW_LAYER, viewPointName, dataSource, this.getLayerId(layerInfo));\n\t\t\t}\n\t\t\tconst layers = this.config[this.style_].layers;\n\t\t\tfor (const layer of layers)\n\t\t\t\tthis.addLayer(layer, dataSource);\n\t\t}\n\n\t\thideViewPoint(param1: string, style: string)\n\t\t{\n\t\t\tconst viewpoints = this.config[style].viewpoints;\n\t\t\tconst hiddenViewpoints = this.config[style].hiddenViewpoints;\n\t\t\tthis.moveViewPointBtArrays(param1, viewpoints, hiddenViewpoints);\n\t\t\tthis.setStyle(this.style_);\n\t\t}\n\n\t\tgetComparedTickers()\n\t\t{\n\t\t\treturn this.comparedTickers;\n\t\t}\n\n\t\tunhideViewPoint(param1: string, style: string)\n\t\t{\n\t\t\tconst viewpoints = this.config[style].viewpoints;\n\t\t\tconst hiddenViewpoints = this.config[style].hiddenViewpoints;\n\t\t\tthis.moveViewPointBtArrays(param1, hiddenViewpoints, viewpoints);\n\t\t\tthis.setStyle(this.style_);\n\t\t}\n\n\t\t/* TODO\n\t\tprivate registerLayerClasses()\n\t\t{\n\t\t\tthis.layerClasses = [];\n\t\t\tthis.layerClasses.push(LineChartLayer);\n\t\t\tthis.layerClasses.push(DateLinesLayer);\n\t\t\tthis.layerClasses.push(WindowLayer);\n\t\t\tthis.layerClasses.push(PriceLinesLayer);\n\t\t\tthis.layerClasses.push(AHLineChartLayer);\n\t\t\tthis.layerClasses.push(PinPointsLayer);\n\t\t\tthis.layerClasses.push(IndependentObjectsLayer);\n\t\t\tthis.layerClasses.push(LastDayLineLayer);\n\t\t\tthis.layerClasses.push(VolumeScaleLayer);\n\t\t\tthis.layerClasses.push(AHVolumeLayer);\n\t\t\tthis.layerClasses.push(VolumeLinesChartLayer);\n\t\t\tthis.layerClasses.push(NoDataAvailableLayer);\n\t\t\tthis.layerClasses.push(PassiveLineLayer);\n\t\t\tthis.layerClasses.push(PercentLineChartLayer);\n\t\t\tthis.layerClasses.push(PercentLinesLayer);\n\t\t\tthis.layerClasses.push(PrecalculatedPercentLineChartLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.AbstractStochasticIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.BIASIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.BollingerBandsIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.CCIIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.EMAIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.FastStochasticIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.KDJIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.MACDIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.RSIIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.SMAIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.SlowStochasticIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.VMAIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.VolumeDependentIndicatorLayer);\n\t\t\tthis.layerClasses.push(com.google.finance.indicator.WilliamsPercentRIndicatorLayer);\n\t\t\tthis.layerClasses.push(CandleStickChartLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedAHChartLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedBarChartLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedChartManagerLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedChartLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedLineChartLayer);\n\t\t\tthis.layerClasses.push(OhlcChartLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedVolumeLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedAHVolumeLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedIndependentObjectsLayer);\n\t\t\tthis.layerClasses.push(IntervalBasedPinPointsLayer);\n\t\t}\n\t\t*/\n\n\t\treplaceFirstDataSource(dataSource: DataSource)\n\t\t{\n\t\t\tthis.dataSources[0] = dataSource;\n\t\t}\n\n\t\tgetContextualStaticInfo()\n\t\t{\n\t\t\tconst state: Dictionary = {};\n\t\t\tconst viewPoints = this.displayManager.getViewPoints();\n\t\t\tfor (let viewPointIndex = 1; viewPointIndex < viewPoints.length; viewPointIndex++)\n\t\t\t{\n\t\t\t\tconst viewPoint = viewPoints[viewPointIndex];\n\t\t\t\tviewPoint.highlightPoint(Const.MOVIE_WIDTH, state);\n\t\t\t\tviewPoint.clearPointInformation();\n\t\t\t}\n\t\t\treturn state;\n\t\t}\n\n\t\tprivate moveViewPointBtArrays(param1: string, from: IViewPoint[], to: IViewPoint[])\n\t\t{\n\t\t\tconst viewPointIndex = LayersManager.getViewPointIndex(param1, from, \"name\");\n\t\t\tif (viewPointIndex === -1)\n\t\t\t\treturn;\n\n\t\t\tto.push(from[viewPointIndex]);\n\t\t\tfrom.splice(viewPointIndex, 1);\n\t\t}\n\n\t\tprivate addViewPoints(viewPoints: ViewPoint[], except: IViewPoint[], param3: number)\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tfor (const viewPoint of viewPoints)\n\t\t\t{\n\t\t\t\tif (LayersManager.getViewPointIndex(viewPoint.name, except, \"name\") === -1)\n\t\t\t\t{\n\t\t\t\t\tthis.displayManager.addViewPoint(\"ViewPoint\", viewPoint.name, 0, viewPoint.height, Number(viewPoint.topMargin), this.mainManager.stage.stageWidth, this.mainManager.stage.stageHeight, mainViewPoint);\n\t\t\t\t\t//const _loc8_ = this.displayManager.getViewPoint(_loc6_.name);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconst existingViewPoint = <ViewPoint>this.displayManager.getViewPoint(viewPoint.name);\n\t\t\t\t\texistingViewPoint.topMargin = Number(viewPoint.topMargin);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnewData(dataSource: DataSource)\n\t\t{\n\t\t\tif (!this.haveDataSource(dataSource))\n\t\t\t{\n\t\t\t\tif (this.refuseDataSources[dataSource.quoteName])\n\t\t\t\t{\n\t\t\t\t\tdelete this.refuseDataSources[dataSource.quoteName];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!dataSource.isEmpty())\n\t\t\t\t\tthis.addLayers(dataSource);\n\n\t\t\t\tif (dataSource.isEmpty() && this.dataSources.length === 0)\n\t\t\t\t{\n\t\t\t\t\tthis.displayManager.addLayer(LayersManager.NO_DATA_AVAILABLE_LAYER, Const.MAIN_VIEW_POINT_NAME, dataSource, LayersManager.NO_DATA_AVAILABLE_LAYER);\n\t\t\t\t\tthis.displayManager.addLayer(Const.WINDOW_LAYER, Const.SPARKLINE_VIEW_POINT_NAME, dataSource, Const.WINDOW_LAYER);\n\t\t\t\t\tthis.displayManager.makeBorderLayerTop();\n\t\t\t\t\tthis.displayManager.update();\n\t\t\t\t\t//this.displayManager.topBorderLayer.update();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (dataSource.quoteName === this.mainManager.quote && this.dataSources.length !== 0)\n\t\t\t\t{\n\t\t\t\t\tconst tmp = this.dataSources[0];\n\t\t\t\t\tthis.dataSources[0] = dataSource;\n\t\t\t\t\tthis.dataSources.push(tmp);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.dataSources.push(dataSource);\n\t\t\t\t}\n\t\t\t\tif (this.dataSources.length === 0 || dataSource.quoteName === this.mainManager.quote)\n\t\t\t\t{\n\t\t\t\t\tthis.figureOutDefaultLastMinute(dataSource);\n\t\t\t\t\tthis.applyStartEndToViewPoints(this.getDefaultZoomPair(dataSource));\n\t\t\t\t}\n\t\t\t\tif (Const.INDICATOR_ENABLED && dataSource.quoteName === this.mainManager.quote && Const.DEFAULT_CHART_STYLE_NAME !== Const.LINE_CHART && this.displayManager.mainController.currentIntervalLevel === Intervals.INVALID)\n\t\t\t\t{\n\t\t\t\t\tthis.displayManager.mainController.enableIntervalButtons(Const.DEFAULT_D);\n\t\t\t\t\tthis.displayManager.mainController.currentIntervalLevel = Const.DEFAULT_D;\n\t\t\t\t\tlet _loc4_ = 0;\n\t\t\t\t\tif (!isNaN(MainManager.paramsObj.defaultEndTime))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst defaultEndTime = MainManager.paramsObj.defaultEndTime;\n\t\t\t\t\t\tif (defaultEndTime > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(Const.DEFAULT_D);\n\t\t\t\t\t\t\tconst points = dataSource.data.getPointsInIntervalArray(detailLevelInterval);\n\t\t\t\t\t\t\tconst timeIndex = DataSource.getTimeIndex(defaultEndTime, points);\n\t\t\t\t\t\t\tif (timeIndex !== -1)\n\t\t\t\t\t\t\t\t_loc4_ = Number(points[timeIndex].relativeMinutes);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet _loc6_ = Const.INTERVAL_PERIODS[Const.DEFAULT_D].days * (dataSource.data.marketDayLength + 1);\n\t\t\t\t\tif (Const.DEFAULT_DISPLAY_MINUTES !== -1)\n\t\t\t\t\t\t_loc6_ = Const.DEFAULT_DISPLAY_MINUTES;\n\n\t\t\t\t\tthis.displayManager.mainController.animateTo(_loc4_, _loc6_, 1);\n\t\t\t\t\tMainManager.jsProxy.setJsCurrentViewParam(\"defaultDisplayInterval\", Const.getDetailLevelInterval(Const.DEFAULT_D));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor (const viewPoint of this.displayManager.getViewPoints())\n\t\t\t\t\tviewPoint.precomputeContexts();\n\t\t\t}\n\t\t\tif (dataSource === this.getFirstDataSource())\n\t\t\t\tthis.displayManager.mainController.syncZoomLevel();\n\n\t\t\tif (this.fullRedrawWithNextData_)\n\t\t\t{\n\t\t\t\tthis.fullRedrawWithNextData_ = false;\n\t\t\t\tthis.setStyle(this.style_);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.displayManager.update();\n\t\t\t\tthis.displayManager.topBorderLayer.update();\n\t\t\t}\n\t\t}\n\n\t\tprivate haveDataSource(dataSource: DataSource): boolean\n\t\t{\n\t\t\tfor (const dataSource2 of this.dataSources)\n\t\t\t{\n\t\t\t\tif (dataSource2 === dataSource)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tsetStyle(style: string)\n\t\t{\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t\tMainManager.jsProxy.resetChartHeight(this.chartHeightInStyle[style]);\n\n\t\t\tconst viewpoints = this.config[style].viewpoints;\n\t\t\tconst viewPoints = this.displayManager.getViewPoints();\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tmainViewPoint.clearAllChildrenFromTopCanvas();\n\t\t\tthis.config[this.style_].lastMinute = mainViewPoint.lastMinute;\n\t\t\tthis.style_ = style;\n\t\t\tthis.removeAllLayers(viewPoints.slice(1));\n\t\t\tthis.removeViewPoints(viewPoints.slice(1), viewpoints);\n\t\t\tthis.displayManager.mainController.removeAllBounds();\n\t\t\tthis.addViewPoints(viewpoints, viewPoints, this.config[this.style_].lastMinute);\n\t\t\tLayersManager.moveVolumeBelowPrice(viewPoints);\n\t\t\tthis.displayManager.makeBorderLayerTop();\n\t\t\tfor (const dataSource of this.dataSources)\n\t\t\t\tthis.addLayers(dataSource);\n\n\t\t\tif (style === LayersManager.COMPARISON)\n\t\t\t{\n\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(false);\n\t\t\t}\n\t\t\telse if (style === LayersManager.SINGLE)\n\t\t\t{\n\t\t\t\tconst _loc8_ = Const.INDICATOR_ENABLED ? this.displayManager.getEnabledChartLayer() : \"\";\n\t\t\t\tlet _loc7_;\n\t\t\t\tif (this.displayManager.mainController.currentIntervalLevel === Intervals.INVALID && (_loc8_ === Const.CANDLE_STICK || _loc8_ === Const.OHLC_CHART))\n\t\t\t\t\t_loc7_ = Const.DEFAULT_D;\n\t\t\t\telse\n\t\t\t\t\t_loc7_ = Const.INDICATOR_ENABLED ? mainViewPoint.getDetailLevelForTechnicalStyle() : mainViewPoint.getDetailLevel();\n\n\t\t\t\tif (_loc7_ === Intervals.INTRADAY && Boolean(MainManager.paramsObj.displayExtendedHours))\n\t\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(true);\n\t\t\t}\n\t\t\tthis.displayManager.windowResized(this.displayManager.stage.stageWidth, this.displayManager.stage.stageHeight);\n\t\t}\n\n\t\tresetLayersForNewQuote(dataSource: DataSource, style: string)\n\t\t{\n\t\t\tthis.style_ = style;\n\t\t\tthis.fullRedrawWithNextData_ = true;\n\t\t\tconst viewPoints = this.displayManager.getViewPoints();\n\t\t\tconst remove: IViewPoint[] = [];\n\t\t\tfor (const viewPoint of viewPoints)\n\t\t\t{\n\t\t\t\tif (viewPoint.name === Const.MAIN_VIEW_POINT_NAME)\n\t\t\t\t\tremove.push(viewPoint);\n\t\t\t\telse if (viewPoint.name === Const.SPARKLINE_VIEW_POINT_NAME)\n\t\t\t\t\t(<SparklineViewPoint>viewPoint).replaceSparklineDataSource(dataSource);\n\t\t\t}\n\t\t\tthis.removeAllLayers(remove);\n\t\t}\n\n\t\tprivate separateHiddenViewPoints(layerConfig: LayerConfig)\n\t\t{\n\t\t\tconst viewpoints = layerConfig.viewpoints;\n\t\t\tconst hiddenViewpoints = layerConfig.hiddenViewpoints;\n\t\t\tfor (let viewPointIndex = 0; viewPointIndex < viewpoints.length; viewPointIndex++)\n\t\t\t{\n\t\t\t\tif (viewpoints[viewPointIndex].display === \"hidden\")\n\t\t\t\t{\n\t\t\t\t\tthis.moveViewPointBtArrays(viewpoints[viewPointIndex].name, viewpoints, hiddenViewpoints);\n\t\t\t\t\tviewPointIndex--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgetDefaultZoomPair(dataSource: DataSource): StartEndPair\n\t\t{\n\t\t\tlet _loc2_ = 0;\n\t\t\tconst paramsObj = MainManager.paramsObj;\n\t\t\tif (paramsObj.defaultEndTime !== undefined && !isNaN(paramsObj.defaultEndTime))\n\t\t\t{\n\t\t\t\tconst defaultEndTime = Number(paramsObj.defaultEndTime);\n\t\t\t\t//const _loc6_ = new Date(_loc5_);\n\t\t\t\tif (defaultEndTime > 0)\n\t\t\t\t{\n\t\t\t\t\tconst timeIndex = DataSource.getTimeIndex(defaultEndTime, dataSource.data.units);\n\t\t\t\t\tconst unit = dataSource.data.units[timeIndex];\n\t\t\t\t\t_loc2_ = Number(unit.relativeMinutes);\n\t\t\t\t\tif (dataSource.data.minuteIsEndOfDataSession(unit.dayMinute) && dataSource.afterHoursData && dataSource.afterHoursData.units.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst afterHoursTimeIndex = DataSource.getTimeIndex(defaultEndTime, dataSource.afterHoursData.units);\n\t\t\t\t\t\tconst relativeMinutes = dataSource.afterHoursData.units[afterHoursTimeIndex].relativeMinutes;\n\t\t\t\t\t\tif (_loc2_ < relativeMinutes)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (timeIndex === dataSource.data.units.length - 1 || relativeMinutes < dataSource.data.units[timeIndex + 1].relativeMinutes)\n\t\t\t\t\t\t\t\t_loc2_ = Number(relativeMinutes);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet _loc3_ = -1;\n\t\t\tif (_loc3_ === -1)\n\t\t\t{\n\t\t\t\tif (Const.DEFAULT_DISPLAY_MINUTES !== -1)\n\t\t\t\t\t_loc3_ = Number(Const.DEFAULT_DISPLAY_MINUTES);\n\t\t\t\telse\n\t\t\t\t\t_loc3_ = Number(this.displayManager.mainController.getCountForDays(dataSource, Const.DEFAULT_DISPLAY_DAYS, 0));\n\t\t\t}\n\t\t\treturn new StartEndPair(_loc2_ - _loc3_, _loc2_);\n\t\t}\n\n\t\tgetStyle(): string\n\t\t{\n\t\t\treturn this.style_;\n\t\t}\n\n\t\tgetFirstDataSource(): DataSource | null\n\t\t{\n\t\t\tif (!this.dataSources.length)\n\t\t\t\treturn null;\n\n\t\t\treturn this.dataSources[0];\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextFormat;\n\t// import flash.text.TextField;\n\t// import flash.text.TextFieldAutoSize;\n\t// import flash.utils.setInterval;\n\n\texport class LoadingMessage extends flash.display.Sprite\n\t{\n\t\tprivate static readonly LOADING_TEXT_FORMAT = new flash.text.TextFormat(\"Helvetica\", 12, 0xffffff);\n\n\t\tprivate static readonly states: ReadonlyArray<string> = [\"...\", '.', \"..\"];\n\n\t\tprivate intervalId: number | null = null;\n\t\tprivate loadingText = new flash.text.TextField();\n\t\tprivate currentState = -1;\n\n\t\tpadding = 3;\n\t\tbackgroundColor = 8439386;\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.loadingText.defaultTextFormat = LoadingMessage.LOADING_TEXT_FORMAT;\n\t\t\t//this.loadingText.appendText(Message.getMsg(Messages.LOADING_MESSAGE) + LoadingMessage.states[0]);\n\t\t\tthis.loadingText.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.loadingText.x = 0;\n\t\t\tthis.loadingText.y = 0;\n\t\t\tthis.rollMessage();\n\t\t\tthis.addChild(this.loadingText);\n\t\t\tthis.drawBackground();\n\t\t\t//this.intervalId = setInterval(flash.display.Stage.bind(this.rollMessage, this), 500);\n\t\t}\n\n\t\tprivate rollMessage()\n\t\t{\n\t\t\tthis.currentState = (this.currentState + 1) % LoadingMessage.states.length;\n\t\t\tthis.loadingText.text = Message.getMsg(Messages.LOADING_MESSAGE) + LoadingMessage.states[this.currentState];\n\t\t}\n\n\t\tprivate drawBackground()\n\t\t{\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.beginFill(0x339933, 1);\n\t\t\tgr.drawRect(0, 0, this.loadingText.width, this.loadingText.height);\n\t\t\tgr.endFill();\n\t\t}\n\n\t\tset visible(value: boolean)\n\t\t{\n\t\t\tthis.element.style.visibility = value ? \"\" : \"hidden\";\n\t\t\tif (value && !this.intervalId)\n\t\t\t\tthis.intervalId = setInterval(flash.display.Stage.bind(this.rollMessage, this), 500);\n\t\t\telse if (!value && this.intervalId)\n\t\t\t{\n\t\t\t\tclearInterval(this.intervalId);\n\t\t\t\tthis.intervalId = null;\n\t\t\t}\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\nnamespace com.google.finance\n{\n\texport class MainManager extends flash.display.Sprite\n\t{\n\t\tpublic static paramsObj: any;\n\t\tpublic static jsProxy: JSProxy;\n\t\tpublic static console: Console;\n\t\tpublic static mouseCursor: MouseCursor;\n\n\t\t//private defaultDays: number;\n\t\tprivate firstDataNotified = false;\n\t\t//private minZoomLevel: number;\n\t\tprivate endTime: number;\n\t\tprivate startTime: number;\n\t\tprivate quoteType: QuoteTypes;\n\t\tprivate waitSizeIntId: number;\n\n\t\tpublic quote: string;\n\t\tpublic displayManager: DisplayManager;\n\t\tpublic layersManager: LayersManager;\n\t\tpublic dataManager: DataManager;\n\t\tpublic stickyArgs: string;\n\t\tpublic url: string;\n\t\tpublic weekdayBitmap: number;\n\n\t\tconstructor(stage: flash.display.Stage)\n\t\t{\n\t\t\tsuper();\n\t\t\tstage.addChild(this);\n\n\t\t\tMainManager.paramsObj = window.loaderInfo.parameters;\n\t\t\tMainManager.jsProxy = new JSProxy(this);\n\t\t\tif (this.stage.stageWidth === 0)\n\t\t\t\tthis.waitSizeIntId = setInterval(flash.display.Stage.bind(this.checkSize, this), 20);\n\t\t\telse\n\t\t\t\tthis.init();\n\t\t}\n\n\t\tdataIsHere(dataSource: DataSource, param2: AddStreamResults)\n\t\t{\n\t\t\tif (dataSource.countEvents(ChartEventPriorities.REQUIRED) + dataSource.countEvents(ChartEventPriorities.EXPECTED) > 0)\n\t\t\t\treturn;\n\n\t\t\tconst detailLevel = this.displayManager.getDetailLevel();\n\t\t\tif (this.shouldToggleAfterHours(detailLevel))\n\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(true, dataSource);\n\t\t\telse\n\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(false, dataSource);\n\n\t\t\tif (Boolean(MainManager.paramsObj.forceDisplayExtendedHours))\n\t\t\t\tMainManager.paramsObj.forceDisplayExtendedHours = \"false\";\n\n\t\t\tif (!this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t\tthis.displayManager.computeRelativeTimes(dataSource);\n\n\t\t\tconst firstDataSource = this.layersManager.getFirstDataSource();\n\t\t\tif (firstDataSource)\n\t\t\t{\n\t\t\t\tthis.dataManager.syncDataSources(dataSource, this.displayManager);\n\t\t\t\tthis.displayManager.mainController.syncZoomLevel();\n\t\t\t}\n\t\t\tif (this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t\tthis.displayManager.computeRelativeTimesForDiffSessionComparison();\n\n\t\t\tthis.layersManager.newData(dataSource);\n\t\t\tif (this.firstDataNotified === false)\n\t\t\t{\n\t\t\t\tthis.firstDataNotified = true;\n\t\t\t\tMainManager.jsProxy.firstDataIsHere();\n\t\t\t\tthis.displayManager.HTMLnotify(Const.MAIN_VIEW_POINT_NAME);\n\t\t\t}\n\t\t}\n\n\t\tprivate parseSettingString(param1: string, param2: number): (string | null)[] | null\n\t\t{\n\t\t\tconst parts: (string | null)[] | null = param1 ? param1.split(';') : null;\n\t\t\tif (!parts || parts.length !== param2)\n\t\t\t\treturn null;\n\n\t\t\tfor (let partIndex = 0; partIndex < parts.length; partIndex++)\n\t\t\t{\n\t\t\t\tif (parts[partIndex] === \"\")\n\t\t\t\t\tparts[partIndex] = null;\n\t\t\t}\n\t\t\treturn parts;\n\t\t}\n\n\t\tprivate needAfterHoursData(quote: string): ChartEvent | null\n\t\t{\n\t\t\tif (quote === this.quote && (Boolean(MainManager.paramsObj.forceDisplayExtendedHours) || Boolean(MainManager.paramsObj.displayExtendedHours)))\n\t\t\t\treturn EventFactory.getEvent(ChartDetailTypes.GET_AH_DATA, quote, ChartEventPriorities.REQUIRED);\n\n\t\t\treturn null;\n\t\t}\n\n\t\tprivate init()\n\t\t{\n\t\t\tthis.stage.align = flash.display.StageAlign.TOP_LEFT;\n\t\t\tthis.stage.scaleMode = flash.display.StageScaleMode.NO_SCALE;\n\t\t\tthis.stage.addEventListener(Events.RESIZE, flash.display.Stage.bind(this.onResize, this));\n\t\t\tConst.MOVIE_HEIGHT = this.stage.stageHeight;\n\t\t\tConst.MOVIE_WIDTH = this.stage.stageWidth;\n\t\t\tthis.quote = MainManager.paramsObj.q || Const.DEFAULT_Q;\n\t\t\tthis.quoteType = Const.getQuoteType(this.quote);\n\t\t\tthis.startTime = MainManager.paramsObj.startTime || NaN;\n\t\t\tthis.endTime = MainManager.paramsObj.endTime || NaN;\n\t\t\tthis.weekdayBitmap = MainManager.paramsObj.weekdayBitmap || Const.DEFAULT_WEEKDAY_BITMAP;\n\t\t\tconst url = window.loaderInfo.url;\n\t\t\tconst _loc2_ = url.substring(0, url.indexOf(\"/finance/\"));\n\t\t\tif (MainManager.paramsObj.u)\n\t\t\t{\n\t\t\t\tif (MainManager.paramsObj.u.indexOf(\"/finance/\") === -1)\n\t\t\t\t\tthis.url = _loc2_ + \"/finance/\" + MainManager.paramsObj.u;\n\t\t\t\telse\n\t\t\t\t\tthis.url = _loc2_ + MainManager.paramsObj.u.substring(MainManager.paramsObj.u.indexOf(\"/finance/\"));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.url = \"about:blank\";\n\t\t\t\tconsole.log(\"ERROR: No URL was provided!\");\n\t\t\t}\n\t\t\tthis.stickyArgs = MainManager.paramsObj.sa === undefined ? \"\" : MainManager.paramsObj.sa;\n\t\t\tMainManager.console = new Console(this);\n\t\t\tthis.checkParameters();\n\t\t\tthis.displayManager = new DisplayManager(this);\n\t\t\tthis.addChild(this.displayManager);\n\t\t\tthis.addChild(MainManager.console);\n\t\t\tthis.dataManager = new DataManager(this, this.startTime, this.endTime);\n\t\t\tthis.displayManager.init(this.stage.stageWidth, this.stage.stageHeight);\n\t\t\tthis.layersManager = new LayersManager(this.displayManager, this);\n\t\t\tconst _loc4_ = MainManager.paramsObj.compareTo && MainManager.paramsObj.compareToDiffMarketSessions && MainManager.paramsObj.compareToDiffMarketSessions.indexOf('1') !== -1;\n\t\t\tthis.getQuote(this.quote, MainManager.paramsObj.displayName, Const.getDefaultDisplayDays(_loc4_), true);\n\t\t\tthis.addDefaultCompareToTickers();\n\t\t\tMainManager.mouseCursor = new MouseCursor();\n\t\t\tthis.addChild(MainManager.mouseCursor);\n\t\t\tMainManager.mouseCursor.initListeners();\n\t\t\tMainManager.jsProxy.initIndicators();\n\n\t\t\tflash.display.Graphics.cleanupPending();\n\t\t}\n\n\t\tprivate checkParameters()\n\t\t{\n\t\t\tconst _loc1_ = MainManager.paramsObj.lineStyle || \"IntervalBasedLine\";\n\t\t\tConst.DEFAULT_CHART_STYLE_NAME = _loc1_ + \"ChartLayer\";\n\t\t\tConst.INTRADAY_INTERVAL = MainManager.paramsObj.intradayInterval || Const.INTRADAY_INTERVAL;\n\t\t\tConst.MIN_DISPLAY_DAYS = MainManager.paramsObj.minZoomDays || Const.MIN_DISPLAY_DAYS;\n\t\t\tConst.DEFAULT_DISPLAY_DAYS = MainManager.paramsObj.defaultZoomDays || Const.DEFAULT_DISPLAY_DAYS;\n\t\t\tif (MainManager.paramsObj.defaultDisplayInterval)\n\t\t\t\tConst.DEFAULT_D = Const.getIntervalDetailLevel(MainManager.paramsObj.defaultDisplayInterval);\n\t\t\telse if (MainManager.paramsObj.defaultInterval)\n\t\t\t\tConst.DEFAULT_D = Const.getIntervalDetailLevel(MainManager.paramsObj.defaultInterval);\n\n\t\t\tConst.DEFAULT_DISPLAY_MINUTES = MainManager.paramsObj.defaultDisplayMinutes || Const.DEFAULT_DISPLAY_MINUTES;\n\t\t\tif (Const.DEFAULT_DISPLAY_DAYS < Const.MIN_DISPLAY_DAYS)\n\t\t\t\tConst.DEFAULT_DISPLAY_DAYS = Const.MIN_DISPLAY_DAYS;\n\n\t\t\tMainManager.paramsObj.sparklineType = MainManager.paramsObj.sparklineType || Const.DYNAMIC;\n\t\t\tMainManager.paramsObj.snapping = Utils.checkUndefined(MainManager.paramsObj.snapping, \"true\");\n\t\t\tMainManager.paramsObj.displayExtendedHours = Utils.checkUndefined(MainManager.paramsObj.displayExtendedHours, \"true\");\n\t\t\tMainManager.paramsObj.hasExtendedHours = Utils.checkUndefined(MainManager.paramsObj.hasExtendedHours, \"false\");\n\t\t\tMainManager.paramsObj.displayExtendedHours = Utils.checkUndefined(MainManager.paramsObj.displayExtendedHours, \"false\");\n\t\t\tif (!Boolean(MainManager.paramsObj.hasExtendedHours))\n\t\t\t\tMainManager.paramsObj.displayExtendedHours = \"false\";\n\n\t\t\tConst.INFO_TEXT_ALIGN = MainManager.paramsObj.infoTextAlign || Const.INFO_TEXT_ALIGN;\n\t\t\tConst.INFO_TEXT_TOP_PADDING = MainManager.paramsObj.infoTextTopPadding || Const.INFO_TEXT_TOP_PADDING;\n\t\t\tConst.DISPLAY_DIVIDENDS_UNITS = MainManager.paramsObj.displayDividendsUnits || Const.DISPLAY_DIVIDENDS_UNITS;\n\t\t\tConst.POSITIVE_DIFFERENCE_COLOR = MainManager.paramsObj.positiveColor || Const.POSITIVE_DIFFERENCE_COLOR;\n\t\t\tConst.NEGATIVE_DIFFERENCE_COLOR = MainManager.paramsObj.negativeColor || Const.NEGATIVE_DIFFERENCE_COLOR;\n\t\t\tConst.ENABLE_CUSTOM_DATE_ENTRY = Utils.checkUndefined(MainManager.paramsObj.enableCustomDateEntry, \"false\");\n\t\t\tConst.ENABLE_COMPACT_FLAGS = Utils.checkUndefined(MainManager.paramsObj.enableCompactFlags, \"true\");\n\t\t\tConst.INDICATOR_ENABLED = \"true\" === String(Utils.checkUndefined(MainManager.paramsObj.enableIndicator, false));\n\t\t\tConst.REALTIME_CHART_ENABLED = \"true\" === String(Utils.checkUndefined(MainManager.paramsObj.enableRealtimeChart, false));\n\t\t\tif (MainManager.paramsObj.displayNewsPins !== undefined)\n\t\t\t\tConst.DISPLAY_NEWS_PINS = \"true\" === String(MainManager.paramsObj.displayNewsPins);\n\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t\tConst.SPARKLINE_HEIGHT -= 20;\n\n\t\t\tConst.VOLUME_PLUS_ENABLED = \"true\" === String(Utils.checkUndefined(MainManager.paramsObj.enableVolumePlus, Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale())));\n\t\t\tConst.CHART_TYPE_BUTTONS_ENABLED = \"true\" === String(Utils.checkUndefined(MainManager.paramsObj.enableChartTypeButtons, Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale())));\n\t\t\tConst.APPLY_CHINESE_STYLE_MACD = \"true\" === String(Utils.checkUndefined(MainManager.paramsObj.applyChineseStyleMacd, i18n.locale.DateTimeLocale.getLocale() === Const.ZH_CN_LOCALE));\n\t\t\tConst.EXPAND_BUTTON_ENABLED = \"true\" === String(Utils.checkUndefined(MainManager.paramsObj.expandButtonEnabled, false));\n\t\t\tConst.SHRINK_BUTTON_ENABLED = \"true\" === String(Utils.checkUndefined(MainManager.paramsObj.shrinkButtonEnabled, false));\n\t\t\tif (MainManager.paramsObj.lclc !== undefined)\n\t\t\t\tConst.LINE_CHART_LINE_COLOR = MainManager.paramsObj.lclc;\n\n\t\t\tif (MainManager.paramsObj.lcfc !== undefined)\n\t\t\t\tConst.LINE_CHART_FILL_COLOR = MainManager.paramsObj.lcfc;\n\n\t\t\tif (MainManager.paramsObj.salc !== undefined)\n\t\t\t\tConst.SPARK_ACTIVE_LINE_COLOR = MainManager.paramsObj.salc;\n\n\t\t\tif (MainManager.paramsObj.safc !== undefined)\n\t\t\t\tConst.SPARK_ACTIVE_FILL_COLOR = MainManager.paramsObj.safc;\n\n\t\t\tif (MainManager.paramsObj.silc !== undefined)\n\t\t\t\tConst.SPARK_INACTIVE_LINE_COLOR = MainManager.paramsObj.silc;\n\n\t\t\tif (MainManager.paramsObj.sifc !== undefined)\n\t\t\t\tConst.SPARK_INACTIVE_FILL_COLOR = MainManager.paramsObj.sifc;\n\n\t\t\tif (MainManager.paramsObj.tbg !== undefined)\n\t\t\t\tConst.TEXT_BACKGROUND_COLOR = MainManager.paramsObj.tbg;\n\n\t\t\tif (MainManager.paramsObj.rtc !== undefined)\n\t\t\t\tConst.RANGE_TEXT_COLOR = MainManager.paramsObj.rtc;\n\n\t\t\tif (MainManager.paramsObj.dc !== undefined)\n\t\t\t\tConst.DOT_COLOR = MainManager.paramsObj.dc;\n\n\t\t\tif (MainManager.paramsObj.vc !== undefined)\n\t\t\t\tConst.VOLUME_HIGHLIGHT_COLOR = MainManager.paramsObj.vc;\n\n\t\t\tif (MainManager.paramsObj.ecnlc !== undefined)\n\t\t\t\tConst.ECN_LINE_CHART_LINE_COLOR = MainManager.paramsObj.ecnlc;\n\n\t\t\tif (MainManager.paramsObj.ecnfc !== undefined)\n\t\t\t\tConst.ECN_LINE_CHART_FILL_COLOR = MainManager.paramsObj.ecnfc;\n\t\t}\n\n\t\tremoveCompareTo(param1: string)\n\t\t{\n\t\t\tthis.layersManager.removeCompareTo(param1);\n\t\t}\n\n\t\taddCompareTo(param1: string, param2?: string, param3: boolean = false)\n\t\t{\n\t\t\tthis.dataManager.checkDataSourceExistance(param1, param2);\n\t\t\tthis.layersManager.addCompareTo(param1, param3);\n\t\t}\n\n\t\tgetQuoteType(): QuoteTypes\n\t\t{\n\t\t\treturn this.quoteType;\n\t\t}\n\n\t\tprivate checkSize()\n\t\t{\n\t\t\tif (this.stage.stageWidth !== 0)\n\t\t\t{\n\t\t\t\tclearInterval(this.waitSizeIntId);\n\t\t\t\tthis.init();\n\t\t\t}\n\t\t}\n\n\t\tclearAllPins(param1: string)\n\t\t{\n\t\t\tthis.dataManager.clearAllObjects(param1, \"newspin\");\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tmainViewPoint.updateObjectLayers();\n\t\t}\n\n\t\tremoveObjectArray(objects: any[])\n\t\t{\n\t\t\tfor (const obj of objects)\n\t\t\t{\n\t\t\t\tthis.dataManager.removeObject(obj._quote, obj._type, obj._id.toString());\n\t\t\t}\n\t\t\tconst _loc3_ = this.displayManager.getMainViewPoint();\n\t\t\t_loc3_.updateObjectLayers();\n\t\t}\n\n\t\taddObject(param1: any)\n\t\t{\n\t\t\tthis.dataManager.addObject(param1);\n\t\t\tconst _loc2_ = this.displayManager.getMainViewPoint();\n\t\t\t_loc2_.updateObjectLayers();\n\t\t}\n\n\t\tprivate addDefaultCompareToTickers()\n\t\t{\n\t\t\tif (this.quote !== \"\" && MainManager.paramsObj.compareTo)\n\t\t\t{\n\t\t\t\tconst _loc1_ = MainManager.paramsObj.compareTo.split(';');\n\t\t\t\tconst _loc2_ = this.parseSettingString(MainManager.paramsObj.compareToDisplayName, _loc1_.length);\n\t\t\t\tconst _loc3_ = this.parseSettingString(MainManager.paramsObj.compareToDiffMarketSessions, _loc1_.length);\n\t\t\t\tfor (let partIndex = 0; partIndex < _loc1_.length; partIndex++)\n\t\t\t\t{\n\t\t\t\t\tconst _loc5_ = Utils.adjustNasdToNasdaq(_loc1_[partIndex]);\n\t\t\t\t\tif (_loc5_ !== \"\" && _loc5_ !== this.quote)\n\t\t\t\t\t\tthis.addCompareTo(_loc5_, _loc2_ && _loc2_[partIndex] || undefined, _loc3_ && _loc3_[partIndex] === '1' || undefined);\t// TODO\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgetQuote(param1: string, param2?: string, param3 = NaN, param4: boolean = false)\n\t\t{\n\t\t\tlet _loc5_: number;\n\t\t\tconst mainViewPoint = notnull(this.displayManager.getMainViewPoint());\n\t\t\tconst firstDataSource = this.layersManager.getFirstDataSource();\n\t\t\tthis.dataManager.checkDataSourceExistance(param1, param2);\n\t\t\tif (!isNaN(param3))\n\t\t\t{\n\t\t\t\t_loc5_ = param3;\n\t\t\t}\n\t\t\telse if (!isNaN(mainViewPoint.count) && firstDataSource)\n\t\t\t{\n\t\t\t\t_loc5_ = mainViewPoint.count / (this.displayManager.isDifferentMarketSessionComparison() ? 1 : firstDataSource.data.marketDayLength);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_loc5_ = Const.getDefaultDisplayDays();\n\t\t\t}\n\t\t\tif (Const.INDICATOR_ENABLED && Const.DEFAULT_CHART_STYLE_NAME !== Const.LINE_CHART && this.layersManager.getStyle() === LayersManager.SINGLE)\n\t\t\t\tthis.getQuoteForBarChart(param1, _loc5_, param4);\n\t\t\telse\n\t\t\t\tthis.getQuoteForLineChart(param1, _loc5_, param4);\n\t\t}\n\n\t\tprivate getQuoteForBarChart(param1: string, param2: number, param3: boolean)\n\t\t{\n\t\t\tconst event = EventFactory.getEvent(ChartDetailTypes.GET_5D_DATA, param1, ChartEventPriorities.REQUIRED);\n\n\t\t\tlet _loc7_: ChartEvent;\n\t\t\tif (MainManager.paramsObj.sparklineType === Const.STATIC || param2 > Const.SCALE_INTERVALS[ScaleTypes.SCALE_1Y].days)\n\t\t\t\t_loc7_ = EventFactory.getEvent(ChartDetailTypes.GET_40Y_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\telse\n\t\t\t\t_loc7_ = EventFactory.getEvent(ChartDetailTypes.GET_5Y_DATA, param1, ChartEventPriorities.REQUIRED);\n\n\t\t\tlet _loc5_: ChartEvent | null = null;\n\t\t\tlet _loc6_: ChartEvent | null = null;\n\t\t\tswitch (Const.DEFAULT_D)\n\t\t\t{\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\t_loc6_ = this.needAfterHoursData(param1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.FIVE_MINUTES:\n\t\t\t\t\t_loc5_ = EventFactory.getEvent(ChartDetailTypes.GET_1Y_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t\t\t_loc6_ = EventFactory.getEvent(ChartDetailTypes.GET_10D_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.HALF_HOUR:\n\t\t\t\t\t_loc5_ = EventFactory.getEvent(ChartDetailTypes.GET_1Y_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t\t\t_loc6_ = EventFactory.getEvent(ChartDetailTypes.GET_30D_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\t\t_loc6_ = EventFactory.getEvent(ChartDetailTypes.GET_1Y_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.dataManager.expectEvent(event);\n\t\t\tthis.dataManager.expectEvent(_loc5_);\n\t\t\tthis.dataManager.expectEvent(_loc7_);\n\t\t\tthis.dataManager.expectEvent(_loc6_);\n\t\t\tthis.dataManager.eventHandler(event, !param3);\n\t\t\t//this.dataManager.eventHandler(_loc8_, !param3);\n\t\t\tthis.dataManager.eventHandler(_loc5_, !param3);\n\t\t\tthis.dataManager.eventHandler(_loc7_, !param3);\n\t\t\tthis.dataManager.eventHandler(_loc6_, !param3);\n\t\t}\n\n\t\tprivate shouldToggleAfterHours(detailLevel: Intervals): boolean\n\t\t{\n\t\t\tif (Boolean(MainManager.paramsObj.forceDisplayExtendedHours))\n\t\t\t\treturn true;\n\n\t\t\tif (MainManager.paramsObj.displayExtendedHours !== \"true\" || this.layersManager.getStyle() !== LayersManager.SINGLE)\n\t\t\t\treturn false;\n\n\t\t\tif (detailLevel === Intervals.INTRADAY || Const.INDICATOR_ENABLED && detailLevel < Intervals.DAILY && this.displayManager.getEnabledChartLayer() === Const.LINE_CHART)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t}\n\n\t\tchangePrimaryTicker(param1: string, param2: string, param3: boolean = false)\n\t\t{\n\t\t\tconst _loc4_ = String(Utils.checkUndefined(param1, this.quote));\n\t\t\tif (_loc4_ === this.quote)\n\t\t\t\treturn;\n\n\t\t\tthis.quote = _loc4_;\n\t\t\tthis.quoteType = Const.getQuoteType(this.quote);\n\t\t\tthis.dataManager.checkDataSourceExistance(this.quote, param2);\n\t\t\tthis.layersManager.replaceFirstDataSource(this.dataManager.dataSources[this.quote]);\n\t\t\tconst _loc5_ = this.layersManager.numComparedTickers() > 0 ? LayersManager.COMPARISON : LayersManager.SINGLE;\n\t\t\tconst style = param3 ? LayersManager.PERCENT : _loc5_;\n\t\t\tthis.layersManager.resetLayersForNewQuote(this.dataManager.dataSources[this.quote], style);\n\t\t\tif (this.dataManager.dataSources[this.quote].isEmpty())\n\t\t\t{\n\t\t\t\tthis.getQuote(this.quote, param2);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.layersManager.setStyle(style);\n\t\t\t\tthis.displayManager.update();\n\t\t\t}\n\t\t}\n\n\t\tremoveObject(ticker: string, id: number, objectType: string)\n\t\t{\n\t\t\tthis.dataManager.removeObject(ticker, id, objectType);\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\tmainViewPoint.updateObjectLayers();\n\t\t}\n\n\t\tprivate getQuoteForLineChart(param1: string, param2: number, param3: boolean)\n\t\t{\n\t\t\tlet _loc4_: ChartEvent | null = null;\n\t\t\tlet _loc5_: ChartEvent | null = null;\n\t\t\tlet _loc6_: ChartEvent | null = null;\n\t\t\tlet _loc7_: ChartEvent | null = null;\n\t\t\tlet _loc8_: ChartEvent | null = null;\n\t\t\tif (param2 > Const.INTRADAY_DAYS)\n\t\t\t{\n\t\t\t\t_loc5_ = EventFactory.getEvent(ChartDetailTypes.GET_1Y_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t\tif (!Const.INDICATOR_ENABLED || this.quoteType === QuoteTypes.COMPANY)\n\t\t\t\t{\n\t\t\t\t\t_loc4_ = EventFactory.getEvent(ChartDetailTypes.GET_5D_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t\t\tthis.dataManager.expectEvent(_loc4_);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.quoteType === QuoteTypes.MUTUAL_FUND)\n\t\t\t{\n\t\t\t\t_loc5_ = EventFactory.getEvent(ChartDetailTypes.MUTF_5D_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_loc5_ = EventFactory.getEvent(ChartDetailTypes.GET_5D_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t}\n\t\t\tif (this.layersManager.getStyle() === LayersManager.SINGLE && Const.INDICATOR_ENABLED && this.quoteType === QuoteTypes.COMPANY)\n\t\t\t{\n\t\t\t\tif (param2 <= Const.HALF_HOUR_DAYS && param2 > Const.FIVE_MINUTE_DAYS)\n\t\t\t\t\t_loc8_ = EventFactory.getEvent(ChartDetailTypes.GET_30D_DATA, param1, ChartEventPriorities.REQUIRED);\n\n\t\t\t\tif (param2 <= Const.FIVE_MINUTE_DAYS && param2 > Const.INTRADAY_DAYS)\n\t\t\t\t\t_loc8_ = EventFactory.getEvent(ChartDetailTypes.GET_10D_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\t}\n\t\t\tif (MainManager.paramsObj.sparklineType === Const.STATIC || param2 > Const.SCALE_INTERVALS[ScaleTypes.SCALE_1Y].days)\n\t\t\t\t_loc6_ = EventFactory.getEvent(ChartDetailTypes.GET_40Y_DATA, param1, ChartEventPriorities.REQUIRED);\n\t\t\telse\n\t\t\t\t_loc6_ = EventFactory.getEvent(ChartDetailTypes.GET_5Y_DATA, param1, ChartEventPriorities.REQUIRED);\n\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tif (param2 <= Const.HALF_HOUR_DAYS)\n\t\t\t\t\t_loc7_ = this.needAfterHoursData(param1);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_loc7_ = this.needAfterHoursData(param1);\n\t\t\t}\n\t\t\tthis.dataManager.expectEvent(_loc5_);\n\t\t\tthis.dataManager.expectEvent(_loc8_);\n\t\t\tthis.dataManager.expectEvent(_loc6_);\n\t\t\tthis.dataManager.expectEvent(_loc7_);\n\t\t\tthis.dataManager.eventHandler(_loc4_, !param3);\n\t\t\tthis.dataManager.eventHandler(_loc5_, !param3);\n\t\t\tthis.dataManager.eventHandler(_loc8_, !param3);\n\t\t\tthis.dataManager.eventHandler(_loc6_, !param3);\n\t\t\tthis.dataManager.eventHandler(_loc7_, !param3);\n\t\t}\n\n\t\tprivate onResize(event: Event)\n\t\t{\n\t\t\tif (this.stage.stageWidth !== 0)\n\t\t\t\tConst.MOVIE_WIDTH = this.stage.stageWidth;\n\n\t\t\tif (this.stage.stageHeight !== 0)\n\t\t\t\tConst.MOVIE_HEIGHT = this.stage.stageHeight;\n\n\t\t\tif (Const.MOVIE_WIDTH !== 0 && this.stage.stageWidth !== 0)\n\t\t\t{\n\t\t\t\tthis.displayManager.windowResized(Const.MOVIE_WIDTH, Const.MOVIE_HEIGHT);\n\t\t\t\tMainManager.console.positionLoadingMessage();\n\t\t\t\t(this.displayManager.getMainViewPoint()).checkEvents();\n\t\t\t}\n\t\t}\n\n\t\taddObjectArray(param1: any[])\n\t\t{\n\t\t\tlet i = 0;\n\t\t\tconst objectsArray = param1;\n\t\t\tif (objectsArray.length === 0)\n\t\t\t\treturn;\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\ti = 0;\n\t\t\t\tlet object: any = null;\n\t\t\t\twhile (i < objectsArray.length)\n\t\t\t\t{\n\t\t\t\t\tobject = objectsArray[i];\n\t\t\t\t\tif (object)\n\t\t\t\t\t\tthis.dataManager.addObject(object);\n\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tobject = objectsArray[0];\n\t\t\t\tthis.dataManager.sortObjects(object._quote, object._type);\n\t\t\t}\n\t\t\tcatch (er /*: TypeError*/)\n\t\t\t{\n\t\t\t}\n\t\t\tconst mvp = this.displayManager.getMainViewPoint();\n\t\t\tmvp.updateObjectLayers();\n\t\t}\n\n\t\thtmlClicked(ticker: string, param2: number, param3?: string)\n\t\t{\n\t\t\tconst _loc4_ = <PinPoint>this.dataManager.selectObject(ticker, \"newspin\", param2, param3);\n\t\t\tconst _loc5_ = this.displayManager.getMainViewPoint();\n\t\t\t_loc5_.updateObjectLayers();\n\t\t\tthis.displayManager.animateToSelectedPin(_loc4_);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class StartEndPair\n\t{\n\t\tconstructor(public start: number, public end: number)\n\t\t{\n\t\t}\n\n\t\ttoString(): string\n\t\t{\n\t\t\treturn '[' + this.start + \", \" + this.end + ']';\n\t\t}\n\n\t\tequals(pair: StartEndPair): boolean\n\t\t{\n\t\t\tif (!(pair instanceof StartEndPair))\n\t\t\t\treturn false;\n\n\t\t\treturn this.start === pair.start && this.end === pair.end;\n\t\t}\n\t}\n}\n","/// <reference path=\"StartEndPair.ts\" />\n\nnamespace com.google.finance\n{\n\texport class MarketSessionPair extends StartEndPair\n\t{\n\t\tconstructor(start: number, end: number, public name: string)\n\t\t{\n\t\t\tsuper(start, end);\n\t\t}\n\n\t\ttoString(): string\n\t\t{\n\t\t\treturn '[' + this.start + \", \" + this.end + \", \" + this.name + ']';\n\t\t}\n\n\t\tequals(pair: StartEndPair): boolean\n\t\t{\n\t\t\tif (!(pair instanceof MarketSessionPair))\n\t\t\t\treturn false;\n\n\t\t\tif (this.name !== pair.name)\n\t\t\t\treturn false;\n\n\t\t\treturn super.equals(pair);\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.events.Event;\n\t// import flash.display.DisplayObject;\n\t// import flash.events.MouseEvent;\n\t// import flash.display.Bitmap;\n\t// import flash.ui.Mouse;\n\n\texport enum MouseCursors\n\t{\n\t\tH_ARROWS = 4,\n\t\tOPENED_HAND = 2,\n\t\tHIDDEN = 0,\n\t\tCLASSIC = 1,\n\t\tV_ARROWS = 5,\n\t\tCLOSED_HAND = 3,\n\t}\n\n\texport class MouseCursor extends flash.display.Sprite\n\t{\n\t\tstatic readonly DRAGGABLE_CURSOR = MouseCursors.OPENED_HAND;\n\n\t\t/*\n\t\tprivate static readonly CursorHorizontalArrows = MouseCursor_CursorHorizontalArrows;\n\t\tprivate static readonly CursorOpenedHand = MouseCursor_CursorOpenedHand;\n\t\tprivate static readonly CursorClosedHand = MouseCursor_CursorClosedHand;\n\t\t*/\n\n\t\tprivate displayObjectLockedOn: flash.display.DisplayObject | null;\n\n\t\tcurrentType: MouseCursors;\n\t\tcursor: flash.display.Bitmap;\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.currentType = MouseCursors.CLASSIC;\n\t\t\tthis.mouseEnabled = false;\n\t\t\t//this.cursor = new this.CursorOpenedHand();\n\t\t\tthis.setCursor(MouseCursors.OPENED_HAND);\n\t\t}\n\n\t\tonMouseLeave(event: Event)\n\t\t{\n\t\t\tthis.setCursor(MouseCursors.CLASSIC);\n\t\t}\n\n\t\tinitListeners()\n\t\t{\n\t\t\treturn;\n\t\t\t/*TODO\n\t\t\tif (this.stage)\n\t\t\t{\n\t\t\t\tthis.stage.addEventListener(MouseEvents.MOUSE_MOVE, flash.display.Stage.bind(this.onMouseMove, this));\n\t\t\t\tthis.stage.addEventListener(MouseEvents.MOUSE_LEAVE, flash.display.Stage.bind(this.onMouseLeave, this));\n\t\t\t}\n\t\t\t*/\n\t\t}\n\n\t\tlockOnDisplayObject(displayObject: flash.display.DisplayObject)\n\t\t{\n\t\t\tthis.displayObjectLockedOn = displayObject;\n\t\t}\n\n\t\tsetCursor(cursor: MouseCursors)\n\t\t{\n\t\t\tswitch (cursor)\n\t\t\t{\n\t\t\t\tdefault:\n\t\t\t\tcase MouseCursors.CLASSIC:\n\t\t\t\t\tthis.element.style.cursor = \"auto\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase MouseCursors.HIDDEN:\n\t\t\t\t\tthis.element.style.cursor = \"none\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase MouseCursors.OPENED_HAND:\n\t\t\t\t\tthis.element.style.cursor = \"grab\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase MouseCursors.CLOSED_HAND:\n\t\t\t\t\tthis.element.style.cursor = \"grabbing\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase MouseCursors.H_ARROWS:\n\t\t\t\t\tthis.element.style.cursor = \"ew-resize\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t/*\n\n\t\t\tlet type: number = param1;\n\t\t\tif (this.currentType === type)\n\t\t\t\treturn;\n\n\t\t\tif (this.displayObjectLockedOn)\n\t\t\t{\n\t\t\t\tif (this.displayObjectLockedOn.hitTestPoint(this.stage.mouseX, this.stage.mouseY))\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.unlock();\n\t\t\t}\n\t\t\tthis.currentType = type;\n\t\t\tMouse.hide();\n\t\t\ttry\n\t\t\t{\n\t\t\t\tthis.removeChild(this.cursor);\n\t\t\t}\n\t\t\tcatch (ae)\n\t\t\t{\n\t\t\t}\n\t\t\tswitch (type)\n\t\t\t{\n\t\t\t\tcase MouseCursors.CLASSIC:\n\t\t\t\t\tMouse.show();\n\t\t\t\t\treturn;\n\t\t\t\tcase MouseCursors.HIDDEN:\n\t\t\t\t\treturn;\n\t\t\t\tcase MouseCursors.OPENED_HAND:\n\t\t\t\t\tthis.cursor = new MouseCursors.CursorOpenedHand();\n\t\t\t\t\tbreak;\n\t\t\t\tcase MouseCursors.CLOSED_HAND:\n\t\t\t\t\tthis.cursor = new MouseCursors.CursorClosedHand();\n\t\t\t\t\tbreak;\n\t\t\t\tcase MouseCursors.H_ARROWS:\n\t\t\t\t\tthis.cursor = new MouseCursors.CursorHorizontalArrows();\n\t\t\t}\n\t\t\tthis.addChild(this.cursor);\n\t\t\tthis.onMouseMove(null);\n\t\t\t*/\n\t\t}\n\n\t\tunlock()\n\t\t{\n\t\t\tthis.displayObjectLockedOn = null;\n\t\t}\n\n\t\tonMouseMove(mouseEvent: MouseEvent)\n\t\t{\n\t\t\tthis.cursor.x = this.mouseX - this.cursor.width / 2;\n\t\t\tthis.cursor.y = this.mouseY - this.cursor.height / 2;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\n\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class MouseCursor_CursorClosedHand extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class MouseCursor_CursorHorizontalArrows extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class MouseCursor_CursorOpenedHand extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.text.TextFormat;\n\t// import flash.text.TextField;\n\t// import flash.text.TextFieldAutoSize;\n\n\texport class NoDataAvailableLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tprivate text: flash.text.TextField;\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tif (!this.text)\n\t\t\t{\n\t\t\t\tthis.text = new flash.text.TextField();\n\t\t\t\tthis.text.defaultTextFormat = new flash.text.TextFormat(\"Arial\", 12, 0, false, false, false);\n\t\t\t\tthis.text.autoSize = flash.text.TextFieldAutoSize.CENTER;\n\t\t\t\tthis.text.selectable = false;\n\t\t\t\tthis.text.text = Message.getMsg(Messages.NO_DATA_AVAILABLE);\n\t\t\t}\n\t\t\tif (this.contains(this.text))\n\t\t\t\tthis.removeChild(this.text);\n\n\t\t\tthis.text.x = (this.viewPoint.maxx - this.viewPoint.minx) / 2 - this.text.width / 2;\n\t\t\tthis.text.y = (this.viewPoint.maxy - this.viewPoint.miny) / 2;\n\t\t\tthis.addChild(this.text);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class OhlcChartLayer extends IntervalBasedBarChartLayer\n\t{\n\t\tprotected drawBarAtDataUnit(context: Context, dataUnits: DataUnit[], unitIndex: number)\n\t\t{\n\t\t\tconst _loc4_ = dataUnits[unitIndex];\n\t\t\tif (_loc4_.fake)\n\t\t\t\treturn;\n\n\t\t\tconst _loc5_ = !isNaN(_loc4_.weeklyXPos) ? _loc4_.weeklyXPos : this.viewPoint.getXPos(_loc4_);\n\t\t\tconst ohlcYPos = this.getOhlcYPos(context, _loc4_);\n\t\t\tconst ohlcColor = this.getOhlcColor(_loc4_, dataUnits[Math.max(unitIndex - 1, 0)]);\n\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(1, ohlcColor);\n\n\t\t\tif (Math.abs(ohlcYPos.highY - ohlcYPos.lowY) <= 1)\n\t\t\t{\n\t\t\t\tconst _loc8_ = (ohlcYPos.highY + ohlcYPos.lowY) / 2;\n\t\t\t\tif (this.barWidth === 0)\n\t\t\t\t{\n\t\t\t\t\tgr.moveTo(_loc5_, _loc8_ - 0.5);\n\t\t\t\t\tgr.lineTo(_loc5_, _loc8_ + 0.5);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tgr.moveTo(_loc5_ - this.barWidth / 2, _loc8_);\n\t\t\t\t\tgr.lineTo(_loc5_ + this.barWidth / 2, _loc8_);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tgr.moveTo(_loc5_ - this.barWidth / 2, ohlcYPos.openY);\n\t\t\t\tgr.lineTo(_loc5_, ohlcYPos.openY);\n\t\t\t\tgr.moveTo(_loc5_, ohlcYPos.closeY);\n\t\t\t\tgr.lineTo(_loc5_ + this.barWidth / 2, ohlcYPos.closeY);\n\t\t\t\tgr.moveTo(_loc5_, ohlcYPos.highY);\n\t\t\t\tgr.lineTo(_loc5_, ohlcYPos.lowY);\n\t\t\t}\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextFormat;\n\t// import flash.display.Bitmap;\n\t// import flash.display.SimpleButton;\n\t// import flash.text.TextField;\n\t// import flash.events.MouseEvent;\n\t// import flash.events.Event;\n\n\texport enum PinOrientations\n\t{\n\t\tRIGHT_ORIENTATION = 0,\n\t\tLEFT_ORIENTATION = 1,\n\t}\n\n\texport class PinPointMovie extends flash.display.Sprite\n\t{\n\t\tstatic readonly MAX_SHOWN_GROUP_COUNT = 7;\n\n\t\tprivate static letterTextFormat = new flash.text.TextFormat(\"Arial\", 12, 0, true);\n\n\t\tstatic passiveTextFormat = new flash.text.TextFormat();\n\t\tstatic activeTextFormat = new flash.text.TextFormat();\n\t\tstatic overPassiveTextFormat = new flash.text.TextFormat();\n\t\tstatic overActiveTextFormat = new flash.text.TextFormat();\n\n\t\tprivate borders: flash.display.Bitmap[];\n\n\t\tprivate pinPointContentMovie: PinPointContentMovie;\n\n\t\tprivate flagline: flash.display.Bitmap;\n\t\tFlagImg: typeof flash.display.Bitmap;\n\t\tFlagPoleImg: typeof flash.display.Bitmap;\n\t\tFlagOverImg: typeof flash.display.Bitmap;\n\t\tFlagActiveImg: typeof flash.display.Bitmap;\n\t\tExtraFlagBorder: typeof flash.display.Bitmap;\n\n\t\tprivate letter: flash.text.TextField;\n\t\tprivate pinButton: flash.display.SimpleButton;\n\t\tprivate activeOverlay: flash.display.Bitmap;\n\t\tprivate object: PinPoint | null;\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.initImageClasses();\n\t\t\tthis.initFlagComponents();\n\t\t\tPinPointMovie.activeTextFormat.color = 0xffffff;\n\t\t\tPinPointMovie.passiveTextFormat.color = 0x444444;\n\t\t\tPinPointMovie.overPassiveTextFormat.color = 0;\n\t\t\tPinPointMovie.overActiveTextFormat.color = 0xeeeeee;\n\t\t\tthis.pinButton.addEventListener(MouseEvents.MOUSE_DOWN, (event: Event) =>\n\t\t\t{\n\t\t\t\tif (!this.object)\n\t\t\t\t\tthrow new Error();\n\n\t\t\t\tif (this.object.active)\n\t\t\t\t{\n\t\t\t\t\tthis.object.active = false;\n\t\t\t\t\tthis.object.forceExpandInGroup = true;\n\t\t\t\t\tthis.pinPointContentMovie.clearMovie();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tMainManager.jsProxy.iClicked(this.object.qname, this.getPinPointType(), this.object.id, this.object.letter);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.pinButton.addEventListener(MouseEvents.MOUSE_OVER, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t\tMainManager.mouseCursor.lockOnDisplayObject(this.pinButton);\n\t\t\t\tthis.letter.defaultTextFormat = this.object && this.object.active ? PinPointMovie.overActiveTextFormat : PinPointMovie.overPassiveTextFormat;\n\t\t\t});\n\t\t\tthis.pinButton.addEventListener(MouseEvents.MOUSE_OUT, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.unlock();\n\t\t\t\tthis.letter.defaultTextFormat = this.object && this.object.active ? PinPointMovie.activeTextFormat : PinPointMovie.passiveTextFormat;\n\t\t\t});\n\t\t}\n\n\t\tprotected getPinPointType(): string\n\t\t{\n\t\t\treturn \"newspin\";\n\t\t}\n\n\t\tsetCount(count: number)\n\t\t{\n\t\t\tcount = Math.min(count, PinPointMovie.MAX_SHOWN_GROUP_COUNT);\n\t\t\tlet i = 0;\n\t\t\tif (this.borders.length > count - 1)\n\t\t\t{\n\t\t\t\ti = count - 1;\n\t\t\t\twhile (i < this.borders.length)\n\t\t\t\t{\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.removeChild(this.borders[i]);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e /*:Error*/)\n\t\t\t\t\t{\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tthis.borders.splice(count - 1, this.borders.length - count + 1);\n\t\t\t}\n\t\t\telse if (this.borders.length < count - 1)\n\t\t\t{\n\t\t\t\ti = this.borders.length;\n\t\t\t\twhile (i < count - 1)\n\t\t\t\t{\n\t\t\t\t\tconst newBorder: flash.display.Bitmap = new this.ExtraFlagBorder();\n\t\t\t\t\tnewBorder.x = 0;\n\t\t\t\t\tthis.borders.push(newBorder);\n\t\t\t\t\tthis.addChild(newBorder);\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate initFlagComponents()\n\t\t{\n\t\t\tthis.pinButton = new flash.display.SimpleButton(\"pinButton\");\n\t\t\tconst flagImg = new this.FlagImg();\n\t\t\tconst flagOverImg = new this.FlagOverImg();\n\t\t\tthis.pinButton.overState = flagOverImg;\n\t\t\tthis.pinButton.downState = flagOverImg;\n\t\t\tthis.pinButton.hitTestState = flagImg;\n\t\t\tthis.pinButton.upState = flagImg;\n\t\t\tthis.pinButton.useHandCursor = true;\n\t\t\tthis.addChild(this.pinButton);\n\t\t\tthis.flagline = new this.FlagPoleImg();\n\t\t\tthis.flagline.x = -1;\n\t\t\tthis.addChildAt(this.flagline, 0);\n\t\t\tthis.letter = new flash.text.TextField();\n\t\t\tthis.letter.autoSize = \"left\";\n\t\t\tthis.letter.selectable = false;\n\t\t\tthis.letter.defaultTextFormat = PinPointMovie.letterTextFormat;\n\t\t\tthis.letter.mouseEnabled = false;\n\t\t\tthis.addChild(this.letter);\n\t\t\tthis.activeOverlay = new this.FlagActiveImg();\n\t\t\tthis.borders = [];\n\t\t}\n\n\t\tsetPinPointContentMovie(pinPointContentMovie: PinPointContentMovie)\n\t\t{\n\t\t\tthis.pinPointContentMovie = pinPointContentMovie;\n\t\t}\n\n\t\tsetOrientation(pinOrientation: PinOrientations)\n\t\t{\n\t\t\tif (pinOrientation === PinOrientations.LEFT_ORIENTATION)\n\t\t\t{\n\t\t\t\tthis.activeOverlay.scaleX = -1;\n\t\t\t\tthis.activeOverlay.x = 1;\n\t\t\t\tthis.pinButton.scaleX = -1;\n\t\t\t\tthis.pinButton.x = 1;\n\t\t\t\tthis.flagline.x = -2;\n\t\t\t\tthis.letter.x = -14;\n\t\t\t\tfor (const border of this.borders)\n\t\t\t\t\tborder.scaleX = -1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.activeOverlay.scaleX = 1;\n\t\t\t\tthis.activeOverlay.x = -1;\n\t\t\t\tthis.pinButton.scaleX = 1;\n\t\t\t\tthis.pinButton.x = -1;\n\t\t\t\tthis.flagline.x = -1;\n\t\t\t\tthis.letter.x = 3;\n\t\t\t\tfor (const border of this.borders)\n\t\t\t\t\tborder.scaleX = 1;\n\t\t\t}\n\t\t}\n\n\t\tsetHeight(height: number)\n\t\t{\n\t\t\tthis.flagline.height = height - 2;\n\t\t\tthis.flagline.y = -height + 2;\n\t\t\tthis.letter.y = -height;\n\t\t\tthis.pinButton.y = -height;\n\t\t\tthis.activeOverlay.y = -height;\n\t\t\tfor (let borderIndex = 0; borderIndex < this.borders.length; borderIndex++)\n\t\t\t{\n\t\t\t\tthis.borders[borderIndex].y = this.pinButton.y + this.pinButton.height - 4 + borderIndex * 2;\n\t\t\t\tthis.borders[borderIndex].y = Math.min(-this.borders[borderIndex].height, this.borders[borderIndex].y);\n\t\t\t}\n\t\t}\n\n\t\tgetHeight(): number\n\t\t{\n\t\t\treturn -this.pinButton.y;\n\t\t}\n\n\t\tsetObj(pinPoint: PinPoint)\n\t\t{\n\t\t\tthis.object = pinPoint;\n\t\t\tif (this.letter.text !== pinPoint.letter)\n\t\t\t\tthis.letter.text = pinPoint.letter;\n\n\t\t\tif (pinPoint.active)\n\t\t\t{\n\t\t\t\tif (!this.contains(this.activeOverlay))\n\t\t\t\t{\n\t\t\t\t\tthis.activeOverlay.x = this.pinButton.x;\n\t\t\t\t\tthis.activeOverlay.y = this.pinButton.y;\n\t\t\t\t\tthis.addChildAt(this.activeOverlay, this.numChildren - 1);\n\t\t\t\t}\n\t\t\t\tthis.letter.setTextFormat(PinPointMovie.activeTextFormat);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.contains(this.activeOverlay))\n\t\t\t\t\tthis.removeChild(this.activeOverlay);\n\n\t\t\t\tthis.letter.setTextFormat(PinPointMovie.passiveTextFormat);\n\t\t\t}\n\t\t}\n\n\t\tinitImageClasses()\n\t\t{\n\t\t\tthis.FlagImg = PinPointMovie_LocalFlagImg;\n\t\t\tthis.FlagOverImg = PinPointMovie_LocalFlagOverImg;\n\t\t\tthis.FlagActiveImg = PinPointMovie_LocalFlagActiveImg;\n\t\t\tthis.FlagPoleImg = PinPointMovie_LocalFlagPoleImg;\n\t\t\tthis.ExtraFlagBorder = PinPointMovie_LocalExtraFlagBorder;\n\t\t}\n\n\t\tclearReferences()\n\t\t{\n\t\t\tthis.object = null;\n\t\t}\n\t}\n}\n","/// <reference path=\"PinPointMovie.ts\" />\n\nnamespace com.google.finance\n{\n\texport class OrangePinPointMovie extends PinPointMovie\n\t{\n\t\tprotected getPinPointType(): string\n\t\t{\n\t\t\treturn \"feedpin\";\n\t\t}\n\n\t\tinitImageClasses()\n\t\t{\n\t\t\tthis.FlagImg = OrangePinPointMovie_LocalFlagImg;\n\t\t\tthis.FlagOverImg = OrangePinPointMovie_LocalFlagOverImg;\n\t\t\tthis.FlagActiveImg = OrangePinPointMovie_LocalFlagActiveImg;\n\t\t\tthis.FlagPoleImg = OrangePinPointMovie_LocalFlagPoleImg;\n\t\t\tthis.ExtraFlagBorder = OrangePinPointMovie_LocalExtraFlagBorder;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class OrangePinPointMovie_LocalExtraFlagBorder extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class OrangePinPointMovie_LocalFlagActiveImg extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class OrangePinPointMovie_LocalFlagImg extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class OrangePinPointMovie_LocalFlagOverImg extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class OrangePinPointMovie_LocalFlagPoleImg extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\t//import flash.display.Sprite;\n\n\texport class PassiveLineLayer extends AbstractDrawingLayer<ViewPoint>\n\t{\n\t\tprivate localYOffset = 0;\n\t\tprivate localYScale = 0;\n\n\t\tprivate indicator: Indicator;\n\t\tprivate originalDataSeries: DataSeries;\n\t\tprivate indicatorParams: any;\t// any?\n\t\tprivate computer: (interval: number, indicator: Indicator, intput: DataSeries, state: any) => void;\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.lineColor = Const.LINE_CHART_LINE_COLOR;\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t\tthis.clearHighlight();\n\t\t\tconst originalDataSeries = this.originalDataSeries;\n\t\t\tconst xPos = this.viewPoint.getXPos(originalDataSeries.units[0]);\n\t\t\t//const _loc7_ = this.viewPoint.getXPos(_loc4_.units[_loc4_.points.length - 1]);\n\t\t\tif (x < xPos)\n\t\t\t\treturn;\n\n\t\t\tlet unit: DataUnit;\n\t\t\tif (x > this.viewPoint.maxx)\n\t\t\t\tunit = notnull(this.viewPoint.getLastDataUnit(originalDataSeries));\n\t\t\telse\n\t\t\t\tunit = notnull(this.getPoint(originalDataSeries, x));\n\n\t\t\t//const _loc8_ = this.viewPoint.getMinuteXPos(_loc5_.relativeMinutes);\n\t\t\t//const _loc9_ = this.getYPos(param1, _loc5_);\n\t\t\tif (state[\"points\"] === undefined)\n\t\t\t\tstate[\"points\"] = [];\n\n\t\t\tconst formattedClosePrice = this.getFormattedClosePrice(unit.close);\n\t\t\tconst technicalsNameElseQuote = this.getTechnicalsNameElseQuote(this.dataSource.quoteName);\n\t\t\tconst infoDotInfo = new InfoDotInfo();\n\t\t\tinfoDotInfo.quote = technicalsNameElseQuote;\n\t\t\tinfoDotInfo.quoteColor = this.lineColor;\n\t\t\tinfoDotInfo.value = formattedClosePrice;\n\t\t\tinfoDotInfo.valueColor = this.lineColor;\n\t\t\tinfoDotInfo.displayName = \"\";\t// TODO: undefined\n\n\t\t\tif (this.dataSource.displayName)\n\t\t\t\tinfoDotInfo.displayName = this.dataSource.displayName;\n\n\t\t\tstate[\"points\"].push(infoDotInfo);\n\t\t\tstate[\"setter\"] = this;\n\t\t}\n\n\t\tprivate getFormattedClosePrice(param1: number): string\n\t\t{\n\t\t\tlet value = \"\";\n\t\t\tif (Math.floor(param1) !== param1)\n\t\t\t{\n\t\t\t\tconst _loc3_ = Math.floor(param1 * 100) % 100;\n\t\t\t\tif (_loc3_ % 10 === 0)\n\t\t\t\t\tvalue += ' ' + param1 + '0';\n\t\t\t\telse\n\t\t\t\t\tvalue += ' ' + param1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvalue += ' ' + param1 + \".00\";\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tprivate drawLine_(sprite: flash.display.Sprite, param2: number, param3: number, viewPoint: ViewPoint, context: Context, dataSeries: DataSeries)\n\t\t{\n\t\t\tconst units = dataSeries.units;\n\t\t\tconst days = dataSeries.days;\n\t\t\tconst gr = sprite.graphics;\n\t\t\tgr.lineStyle(Const.LINE_CHART_LINE_THICKNESS, this.lineColor, Const.LINE_CHART_LINE_VISIBILITY);\n\t\t\tlet nextDayStart = dataSeries.getNextDayStart(param3);\n\t\t\tlet _loc10_ = days[nextDayStart];\n\t\t\twhile (_loc10_ > param2 && units[_loc10_].fake)\n\t\t\t\t_loc10_--;\n\n\t\t\tlet xPos = viewPoint.getXPos(units[_loc10_]) + 1;\n\t\t\tlet yPos = this.getYPos(context, units[days[nextDayStart]]);\n\t\t\tgr.moveTo(xPos, this.viewPoint.maxy);\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tgr.lineTo(xPos, yPos);\n\t\t\tgr.lineStyle(Const.LINE_CHART_LINE_THICKNESS, this.lineColor, Const.LINE_CHART_LINE_VISIBILITY);\n\t\t\tconst vp = this.viewPoint;\n\t\t\tswitch (vp.getDetailLevel())\n\t\t\t{\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\twhile (days[nextDayStart] > 0 && days[nextDayStart] >= param2 && days[nextDayStart] !== days[nextDayStart - 1] + 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.drawDayLine_(sprite, nextDayStart, viewPoint, param2, param3, context, dataSeries);\n\t\t\t\t\t\tnextDayStart--;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\t\tlet _loc13_ = param3;\n\t\t\t\t\txPos = viewPoint.getXPos(units[_loc13_]);\n\t\t\t\t\tconst _loc14_ = viewPoint.minutePix * (this.dataSource.data.marketDayLength + 2);\n\t\t\t\t\twhile (_loc13_ >= param2 && _loc13_ > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tyPos = this.getYPos(context, units[_loc13_]);\n\t\t\t\t\t\tgr.lineTo(xPos, yPos);\n\t\t\t\t\t\t_loc13_--;\n\t\t\t\t\t\txPos -= _loc14_;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\tconst skipInterval = viewPoint.getSkipInterval();\n\t\t\t\t\tlet _loc16_ = dataSeries.fridays.length - 1;\n\t\t\t\t\twhile (dataSeries.fridays[_loc16_] > dataSeries.days[nextDayStart])\n\t\t\t\t\t\t_loc16_--;\n\n\t\t\t\t\t_loc16_ += (dataSeries.fridays.length - 1 - _loc16_) % skipInterval.skip;\n\t\t\t\t\t_loc16_ = Math.min(_loc16_, dataSeries.fridays.length - 1);\n\t\t\t\t\twhile (_loc16_ >= 0 && dataSeries.fridays[_loc16_] >= param2)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst unit = dataSeries.units[dataSeries.fridays[_loc16_]];\n\t\t\t\t\t\txPos = vp.getXPos(unit);\n\t\t\t\t\t\tyPos = this.getYPos(context, unit);\n\t\t\t\t\t\tgr.lineTo(xPos, yPos);\n\t\t\t\t\t\t_loc16_ -= skipInterval.skip;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tprivate getPoint(dataSeries: DataSeries, param2: number): DataUnit\n\t\t{\n\t\t\treturn dataSeries.units[this.getPointIndex(dataSeries, param2)];\n\t\t}\n\n\t\tprivate drawDayLine_(sprite: flash.display.Sprite, unitIndex: number, viewPoint: ViewPoint, param4: number, param5: number, context: Context, dataSeries: DataSeries)\n\t\t{\n\t\t\tconst units = dataSeries.units;\n\t\t\tconst days = dataSeries.days;\n\t\t\tlet _loc17_;\n\t\t\tif (unitIndex > 0)\n\t\t\t\t_loc17_ = days[unitIndex - 1];\n\t\t\telse\n\t\t\t\t_loc17_ = 0;\n\n\t\t\tlet _loc12_ = days[unitIndex];\n\t\t\tif (units[_loc12_].fake && _loc12_ === units.length - 1)\n\t\t\t{\n\t\t\t\twhile (units[_loc12_].fake)\n\t\t\t\t\t_loc12_--;\n\t\t\t}\n\t\t\t//const _loc13_ = _loc12_;\n\t\t\twhile (_loc12_ > param5 && _loc12_ > param4)\n\t\t\t\t_loc12_--;\n\n\t\t\tlet xPos = viewPoint.getXPos(units[_loc12_]);\n\t\t\tconst skipInterval = viewPoint.getSkipInterval(context.count, context.lastMinute);\n\t\t\tconst intervalLength = viewPoint.getIntervalLength(skipInterval.interval / 60);\n\t\t\tconst gr = sprite.graphics;\n\t\t\twhile (_loc12_ >= _loc17_ && _loc12_ >= param4)\n\t\t\t{\n\t\t\t\tgr.lineTo(xPos, this.localYOffset - (dataSeries.points[_loc12_].value - context.medPrice) * this.localYScale);\n\t\t\t\t_loc12_--;\n\t\t\t\txPos -= intervalLength;\n\t\t\t}\n\t\t\tconst xPos2 = viewPoint.getXPos(units[_loc17_]);\n\t\t\tconst yPos2 = this.getYPos(context, units[_loc17_]);\n\t\t\tgr.lineTo(xPos2, yPos2);\n\t\t}\n\n\t\tprivate getTechnicalsNameElseQuote(param1: string): string\n\t\t{\n\t\t\tconst _loc2_ = param1.split('@');\n\t\t\tif (_loc2_.length > 1)\n\t\t\t\treturn _loc2_[1];\n\n\t\t\treturn param1;\n\t\t}\n\n\t\tsetIndicator(indicatorName: string, computer: (interval: number, indicator: Indicator, intput: DataSeries, state: any) => void, dataSeries: DataSeries, indicatorParams: any)\n\t\t{\n\t\t\tthis.dataSource.indicators[indicatorName] = new Indicator();\n\t\t\tthis.indicator = this.dataSource.indicators[indicatorName];\n\t\t\tthis.computer = computer;\n\t\t\tthis.indicatorParams = indicatorParams;\n\t\t\tthis.originalDataSeries = dataSeries;\n\t\t}\n\n\t\tgetYPos(context: Context, dataUnit: DataUnit): number\n\t\t{\n\t\t\treturn this.localYOffset - (dataUnit.getCloseLogValue(context.verticalScaling) - context.medPrice) * this.localYScale;\n\t\t}\n\n\t\tgetDataSeries(context: Context): DataSeries | null\n\t\t{\n\t\t\tif (!context)\n\t\t\t\treturn null;\n\n\t\t\tconst skipInterval = this.viewPoint.getSkipInterval(context.count, context.lastMinute);\n\t\t\tif (!this.computer)\n\t\t\t\treturn null;\n\n\t\t\tthis.computer(skipInterval.interval, this.indicator, this.originalDataSeries, this.indicatorParams);\n\t\t\treturn this.indicator.getDataSeries(skipInterval.interval);\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst dataSeries = this.getDataSeries(context);\n\t\t\tif (!dataSeries || dataSeries.points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tthis.graphics.clear();\n\t\t\tlet lastMinuteIndex = dataSeries.getRelativeMinuteIndex(viewPoint.getLastMinute());\n\t\t\tif (lastMinuteIndex < dataSeries.points.length - 1)\n\t\t\t\tlastMinuteIndex++;\n\n\t\t\tlet firstMinuteIndex = dataSeries.getRelativeMinuteIndex(viewPoint.getFirstMinute()) - 1;\n\t\t\tif (firstMinuteIndex < 0)\n\t\t\t\tfirstMinuteIndex = 0;\n\n\t\t\tthis.localYOffset = viewPoint.miny + viewPoint.medPriceY + viewPoint.V_OFFSET;\n\t\t\tthis.localYScale = viewPoint.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t\tthis.drawLine_(this, firstMinuteIndex, lastMinuteIndex, viewPoint, context, dataSeries);\n\t\t}\n\n\t\tprivate getPointIndex(dataSeries: DataSeries, x: number): number\n\t\t{\n\t\t\tconst minute = this.viewPoint.getMinuteOfX(x);\n\t\t\tlet minuteIndex = dataSeries.getRelativeMinuteIndex(minute);\n\t\t\twhile (dataSeries.units[minuteIndex].fake && minuteIndex > 0)\n\t\t\t\tminuteIndex--;\n\n\t\t\tconst skipInterval = this.viewPoint.getSkipInterval();\n\t\t\tconst skip = skipInterval.skip;\n\t\t\tconst interval = skipInterval.interval;\n\t\t\tif (interval < Const.DAILY_INTERVAL)\n\t\t\t{\n\t\t\t\tconst nextDayStart = dataSeries.getNextDayStart(minuteIndex);\n\t\t\t\treturn minuteIndex + (dataSeries.days[nextDayStart] - minuteIndex) % skip;\n\t\t\t}\n\t\t\treturn dataSeries.days[dataSeries.getNextDayStart(minuteIndex + 1)];\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.geom.Point;\n\n\texport class PercentLineChartLayer extends LineChartLayer\n\t{\n\t\tprivate localStartPrice = 0;\n\n\t\tprotected calculatePercentChangeBase(unitIndex = 0): number\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst units = dataSeries.units;\n\t\t\treturn units[unitIndex].close;\n\t\t}\n\n\t\tprotected getYPos(context: Context, dataUnit: DataUnit): number\n\t\t{\n\t\t\treturn this.localYOffset + context.plusSize - (Utils.getLogScaledValue(dataUnit.close / this.localStartPrice, context.verticalScaling) - Utils.getLogScaledValue(1, context.verticalScaling)) * this.localYScale;\n\t\t}\n\n\t\tprivate getQuoteText(param1: string): string\n\t\t{\n\t\t\tconst symbol = Utils.getSymbolFromTicker(param1);\n\t\t\tswitch (symbol)\n\t\t\t{\n\t\t\t\tcase \".INX\":\n\t\t\t\t\treturn \"S&P500\";\n\t\t\t\tcase \".DJI\":\n\t\t\t\t\treturn \"Dow\";\n\t\t\t\tcase \".IXIC\":\n\t\t\t\t\treturn \"Nasd\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn symbol;\n\t\t\t}\n\t\t}\n\n\t\tprotected getRange(param1: number, param2: number)\n\t\t{\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tif (!dataSeries)\n\t\t\t\treturn null;\n\n\t\t\tconst units = dataSeries.units;\n\t\t\tif (!units || units.length === 0)\n\t\t\t\treturn null;\n\n\t\t\tconst firstIndex = dataSeries.getRelativeMinuteIndex(param1 - param2);\n\t\t\tlet lastIndex = dataSeries.getRelativeMinuteIndex(param1) + 1;\n\t\t\tif (lastIndex <= firstIndex + 1)\n\t\t\t\tlastIndex = firstIndex + 2;\n\n\t\t\tlastIndex = Math.min(lastIndex, units.length - 1);\n\t\t\tlet min = units[firstIndex].close;\n\t\t\tlet max = units[firstIndex].close;\n\t\t\tfor (let index = firstIndex; index <= lastIndex; index++)\n\t\t\t{\n\t\t\t\tif (units[index].close < min)\n\t\t\t\t\tmin = units[index].close;\n\t\t\t\telse if (units[index].close > max)\n\t\t\t\t\tmax = units[index].close;\n\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tstartPrice: this.calculatePercentChangeBase(firstIndex),\n\t\t\t\tminPrice: min,\n\t\t\t\tmaxPrice: max\n\t\t\t};\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst range = this.getRange(context.lastMinute, context.count);\n\t\t\tif (!range)\n\t\t\t\treturn context;\n\n\t\t\tconst _loc5_ = Utils.getLogScaledValue(range.maxPrice / range.startPrice, context.verticalScaling);\n\t\t\tcontext.plusVariation = Utils.extendedMax(_loc5_, context.plusVariation);\n\t\t\tconst _loc6_ = Utils.getLogScaledValue(range.minPrice / range.startPrice, context.verticalScaling);\n\t\t\tcontext.minusVariation = Utils.extendedMin(_loc6_, context.minusVariation);\n\t\t\tcontext.scaleVariation = context.plusVariation - context.minusVariation;\n\t\t\tcontext.localYAdjustment = context.plusVariation - Utils.getLogScaledValue(1, context.verticalScaling);\n\t\t\tcontext.plusSize = context.localYAdjustment * (viewPoint.maxPriceRangeViewSize - 20) / context.scaleVariation;\n\t\t\treturn context;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst points = dataSeries.points;\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tlet lastRelativeMinuteIndex = dataSeries.getRelativeMinuteIndex(viewPoint.getLastMinute()) + 1;\n\t\t\tlastRelativeMinuteIndex = Math.min(lastRelativeMinuteIndex, points.length - 1);\n\t\t\tlet _loc6_ = dataSeries.getRelativeMinuteIndex(viewPoint.getFirstMinute());\n\t\t\t_loc6_ = Math.max(_loc6_, 0);\n\t\t\t//const _loc7_ = new flash.display.Point(_loc2_.maxx, _loc2_.maxy + 1);\n\t\t\t//this.globalToLocal(_loc7_);\n\t\t\tthis.localYOffset = viewPoint.miny + ViewPoint.MIN_EDGE_DISTANCE / 2;\n\t\t\tthis.localYScale = (viewPoint.maxPriceRangeViewSize - 20) / context.scaleVariation;\n\t\t\tthis.localStartPrice = this.calculatePercentChangeBase(_loc6_);\n\t\t\tconst _loc8_ = this.drawLine(this, _loc6_, lastRelativeMinuteIndex, viewPoint, context);\n\t\t\tconst point = new flash.display.Point(_loc8_, viewPoint.maxy);\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t//this.globalToLocal(_loc9_);\t// TODO:?\n\t\t\tgr.lineTo(point.x, point.y);\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\t\t\tthis.clearHighlight();\n\t\t\tconst dataSeries = this.getDataSeries();\n\t\t\tconst _loc6_ = this.viewPoint.getXPos(dataSeries.units[0]);\n\t\t\t//const _loc7_ = this.viewPoint.getXPos(_loc4_.units[_loc4_.units.length - 1]);\n\t\t\tif (x < _loc6_)\n\t\t\t\treturn;\n\n\t\t\tlet unit: DataUnit;\n\t\t\tif (x > this.viewPoint.maxx)\n\t\t\t\tunit = notnull(this.viewPoint.getLastDataUnit(dataSeries));\n\t\t\telse\n\t\t\t\tunit = notnull(this.getPoint(dataSeries, x));\n\n\t\t\tconst _loc8_ = this.viewPoint.getMinuteXPos(unit.relativeMinutes);\n\t\t\tconst _loc9_ = this.getYPos(context, unit);\n\t\t\tconst gr = this.highlightCanvas.graphics;\n\t\t\tgr.lineStyle(5, this.lineColor, 1);\n\t\t\tgr.moveTo(_loc8_, _loc9_ - 0.2);\n\t\t\tgr.lineTo(_loc8_, _loc9_ + 0.2);\n\t\t\tif (state[\"points\"] === undefined)\n\t\t\t\tstate[\"points\"] = [];\n\n\t\t\tconst _loc10_ = Math.round((unit.close / this.localStartPrice - 1) * 10000) / 100;\n\t\t\tconst _loc11_ = ' ' + this.getPercentText(_loc10_) + '%';\n\t\t\tlet _loc12_ = Const.POSITIVE_DIFFERENCE_COLOR;\n\t\t\tif (_loc10_ < 0)\n\t\t\t\t_loc12_ = Const.NEGATIVE_DIFFERENCE_COLOR;\n\n\t\t\tconst quoteText = this.getQuoteText(this.dataSource.quoteName);\n\t\t\tconst infoDotInfo = new InfoDotInfo();\n\t\t\tinfoDotInfo.quote = quoteText;\n\t\t\tinfoDotInfo.quoteColor = this.lineColor;\n\t\t\tinfoDotInfo.value = _loc11_;\n\t\t\tinfoDotInfo.valueColor = _loc12_;\n\t\t\tif (this.dataSource.displayName)\n\t\t\t\tinfoDotInfo.displayName = this.dataSource.displayName;\n\n\t\t\tstate[\"points\"].push(infoDotInfo);\n\t\t\tstate[\"setter\"] = this;\n\t\t}\n\n\t\tprivate getPercentText(param1: number): string\n\t\t{\n\t\t\tlet percentText = \"\";\n\t\t\tif (param1 > 0)\n\t\t\t\tpercentText += '+';\n\t\t\telse\n\t\t\t\tpercentText += '-';\n\n\t\t\tparam1 = Math.abs(param1);\n\t\t\tconst _loc3_ = Math.floor(param1);\n\t\t\tpercentText += _loc3_;\n\t\t\tpercentText += '.';\n\t\t\tpercentText += Utils.numberToMinTwoChars(Math.floor((param1 - _loc3_) * 100));\n\t\t\treturn percentText;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.text.TextFieldAutoSize;\n\n\tinterface LabelPos\n\t{\n\t\tyPos: number;\n\t\tlabel: number;\n\t}\n\n\texport class PriceLinesLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tprotected valueSuffix: string;\n\t\tprotected distanceBetweenLines: number;\n\n\t\tprivate additionalDistanceBetweenLines: number;\n\n\t\tprivate getLinePosAndLabelToFillGap(param1: number, context: Context, param3: number): LabelPos\n\t\t{\n\t\t\tconst value = this.getValueForYPos(param1, context);\n\t\t\tconst increaseInterval = this.getIncreaseInterval(value);\n\t\t\tconst _loc6_ = increaseInterval * Math.ceil(value / increaseInterval);\n\t\t\tconst y = this.getYPos(_loc6_, context);\n\t\t\treturn {\n\t\t\t\tyPos: y,\n\t\t\t\tlabel: _loc6_\n\t\t\t};\n\t\t}\n\n\t\tprotected getMinLineValue(context: Context): number\n\t\t{\n\t\t\tconst _loc2_ = this.inverseLogTransform(context.medPrice - context.maxPriceRange / 2, context.verticalScaling);\n\t\t\treturn Math.floor(_loc2_ / this.distanceBetweenLines) * this.distanceBetweenLines;\n\t\t}\n\n\t\tprotected getDistanceBetweenLines(context: Context): number\n\t\t{\n\t\t\tlet _loc5_: number;\n\t\t\tlet _loc2_ = Const.YSCALE_INTERVALS.length - 1;\n\t\t\tconst maxDisplayRange = this.getMaxDisplayRange(context);\n\t\t\tconst _loc4_ = this.viewPoint.maxy - this.viewPoint.miny - ViewPoint.MIN_EDGE_DISTANCE - ViewPoint.MAX_EDGE_DISTANCE;\n\t\t\tdo\n\t\t\t{\n\t\t\t\t_loc5_ = Const.YSCALE_INTERVALS[_loc2_] * _loc4_ / maxDisplayRange;\n\t\t\t\t_loc2_--;\n\t\t\t}\n\t\t\twhile (_loc5_ > ViewPoint.MIN_DISTANCE_BETWEEN_H_LINES && _loc2_ >= 0);\n\n\t\t\treturn this.adjustDistanceBetweenLines(context, _loc2_);\n\t\t}\n\n\t\tprivate adjustDistanceBetweenLines(context: Context, param2: number): number\n\t\t{\n\t\t\tlet scale = Const.YSCALE_INTERVALS[param2 + 1];\n\t\t\tif (context.verticalScaling === Const.LOG_VSCALE || context.verticalScaling === Const.NEW_LOG_VSCALE)\n\t\t\t{\n\t\t\t\tlet _loc6_: number;\n\t\t\t\tlet _loc7_ = 0;\n\t\t\t\tconst maxY = this.getMaxY(context, scale);\n\t\t\t\tdo\n\t\t\t\t{\n\t\t\t\t\t_loc6_ = Math.floor(maxY / scale);\n\t\t\t\t\tif (_loc6_ > 2)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst _loc9_ = (_loc6_ - 1) * scale;\n\t\t\t\t\t\tconst _loc10_ = (_loc6_ - 2) * scale;\n\t\t\t\t\t\tconst _loc4_ = Number(this.getYPos(_loc9_, context));\n\t\t\t\t\t\tconst _loc5_ = Number(this.getYPos(_loc10_, context));\n\t\t\t\t\t\t_loc7_ = Number(Math.abs(_loc4_ - _loc5_));\n\t\t\t\t\t\tif (_loc7_ < ViewPoint.MIN_DISTANCE_BETWEEN_LOG_H_LINES)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.additionalDistanceBetweenLines = this.getIncreaseInterval(Const.YSCALE_INTERVALS[param2 + 1]);\n\t\t\t\t\t\t\tscale += this.additionalDistanceBetweenLines;\n\t\t\t\t\t\t\tif (param2 < Const.YSCALE_INTERVALS.length - 1 && scale === Const.YSCALE_INTERVALS[param2 + 2])\n\t\t\t\t\t\t\t\tparam2++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twhile (_loc6_ > 2 && param2 < Const.YSCALE_INTERVALS.length && _loc7_ < ViewPoint.MIN_DISTANCE_BETWEEN_LOG_H_LINES);\n\t\t\t}\n\t\t\treturn scale;\n\t\t}\n\n\t\tprivate getTextForValue(value: number): string\n\t\t{\n\t\t\tlet text = \"\";\n\t\t\tlet prefix = \"\";\n\t\t\tif (value < 0)\n\t\t\t{\n\t\t\t\tprefix = '-';\n\t\t\t\tvalue = Math.abs(value);\n\t\t\t}\n\t\t\tlet _loc4_ = 1;\n\t\t\twhile (this.distanceBetweenLines * _loc4_ % 1 !== 0)\n\t\t\t\t_loc4_ = Number(_loc4_ * 10);\n\n\t\t\tvalue = Math.round(value * _loc4_);\n\t\t\twhile (_loc4_ > 1)\n\t\t\t{\n\t\t\t\ttext = String(value - Math.floor(value / 10) * 10) + text;\n\t\t\t\tvalue = Math.floor(value / 10);\n\t\t\t\t_loc4_ = Number(Math.floor(_loc4_ / 10));\n\t\t\t}\n\t\t\tif (text !== \"\")\n\t\t\t\ttext = prefix + String(Math.floor(value)) + '.' + text;\n\t\t\telse\n\t\t\t\ttext = prefix + String(Math.floor(value));\n\n\t\t\treturn text;\n\t\t}\n\n\t\tprivate getInitialLinesList_(context: Context)\n\t\t{\n\t\t\tconst bottomLayer = this.viewPoint.getLayer(\"BottomBarLayer\") as BottomBarLayer;\n\t\t\tconst bottomTextHeight = bottomLayer.bottomTextHeight;\n\t\t\treturn [this.viewPoint.maxy - bottomTextHeight - 1];\n\t\t}\n\n\t\tprotected getMaxDisplayRange(context: Context): number\n\t\t{\n\t\t\tif (context.verticalScaling === Const.LOG_VSCALE || context.verticalScaling === Const.NEW_LOG_VSCALE)\n\t\t\t\treturn this.inverseLogTransform(context.maxRangeUpperBound, context.verticalScaling) - this.inverseLogTransform(context.maxRangeLowerBound, context.verticalScaling);\n\n\t\t\treturn context.maxPriceRange;\n\t\t}\n\n\t\tprotected getYPos(value: number, context: Context): number\n\t\t{\n\t\t\treturn this.viewPoint.miny + this.viewPoint.V_OFFSET + this.viewPoint.medPriceY - (Utils.getLogScaledValue(value, context.verticalScaling) - context.medPrice) * this.viewPoint.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t}\n\n\t\tprotected getMaxY(context: Context, param2: number): number\n\t\t{\n\t\t\tconst _loc3_ = (this.viewPoint.V_OFFSET + this.viewPoint.medPriceY) * context.maxPriceRange / this.viewPoint.maxPriceRangeViewSize + context.medPrice;\n\t\t\treturn this.inverseLogTransform(_loc3_, context.verticalScaling);\n\t\t}\n\n\t\tprivate drawHorizontalMidLine(param1: number, param2: number, param3: number, param4: number, context: Context)\n\t\t{\n\t\t\tconst _loc6_ = Math.floor(param1 / param2);\n\t\t\tlet _loc7_ = Math.ceil(_loc6_ / 2);\n\t\t\t_loc7_ = _loc7_ === _loc6_ / 2 ? Number(_loc7_ * 1.2) : _loc7_;\n\t\t\tconst labelPos = this.getLinePosAndLabelToFillGap(param3 - _loc7_ * param2, context, param4);\n\t\t\tconst _loc9_ = param3 - labelPos.yPos;\n\t\t\tconst _loc10_ = param1 - _loc9_;\n\t\t\tif (param2 < 0.95 * _loc10_ && _loc10_ < 0.95 * _loc9_)\n\t\t\t\tthis.drawSingleHorizontalLine(labelPos, param4);\n\t\t}\n\n\t\tprotected getValueForYPos(y: number, context: Context): number\n\t\t{\n\t\t\treturn this.inverseLogTransform(context.medPrice - (y - this.viewPoint.miny - this.viewPoint.V_OFFSET - this.viewPoint.medPriceY) * context.maxPriceRange / this.viewPoint.maxPriceRangeViewSize, context.verticalScaling);\n\t\t}\n\n\t\tprotected drawHorizontalLines(context: Context)\n\t\t{\n\t\t\tlet _loc7_: number;\n\t\t\tthis.graphics.lineStyle(0, Const.HORIZONTAL_GRID_COLOR, 1);\n\t\t\tconst _loc2_ = this.viewPoint.maxx - Const.BORDER_WIDTH;\n\t\t\tlet _loc3_ = this.getMinLineValue(context);\n\t\t\tconst bottomBarLayer = this.viewPoint.getLayer(\"BottomBarLayer\") as BottomBarLayer;\n\t\t\tconst bottomTextHeight = bottomBarLayer.bottomTextHeight;\n\t\t\tconst lines = this.getInitialLinesList_(context);\n\t\t\tdo\n\t\t\t{\n\t\t\t\t_loc7_ = this.getYPos(_loc3_, context);\n\t\t\t\tif (_loc7_ > this.viewPoint.miny && _loc7_ < this.viewPoint.maxy - bottomTextHeight)\n\t\t\t\t{\n\t\t\t\t\tthis.drawSingleHorizontalLine(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tyPos: _loc7_,\n\t\t\t\t\t\t\tlabel: _loc3_\n\t\t\t\t\t\t},\n\t\t\t\t\t\t_loc2_\n\t\t\t\t\t);\n\t\t\t\t\tif (_loc3_ >= 0)\n\t\t\t\t\t\tlines[lines.length] = _loc7_;\n\t\t\t\t}\n\t\t\t\t_loc3_ += this.distanceBetweenLines;\n\t\t\t}\n\t\t\twhile (_loc7_ > this.viewPoint.miny);\n\n\t\t\tlines[lines.length] = this.viewPoint.miny;\n\t\t\tif ((context.verticalScaling === Const.LOG_VSCALE || context.verticalScaling === Const.NEW_LOG_VSCALE) && lines.length > 4)\n\t\t\t{\n\t\t\t\tconst _loc8_ = lines[0] - lines[lines.length - 1];\n\t\t\t\tlet _loc9_ = lines[0] - lines[1];\n\t\t\t\tconst _loc10_ = lines[1] - lines[2];\n\t\t\t\tif (_loc9_ / _loc8_ > 0.4)\n\t\t\t\t{\n\t\t\t\t\tconst _loc12_ = this.getLinePosAndLabelToFillGap(lines[0], context, _loc2_);\n\t\t\t\t\tthis.drawSingleHorizontalLine(_loc12_, _loc2_);\n\t\t\t\t\t_loc9_ = _loc12_.yPos - lines[1];\n\t\t\t\t\tthis.drawHorizontalMidLine(_loc9_, _loc10_, _loc12_.yPos, _loc2_, context);\n\t\t\t\t}\n\t\t\t\telse if (_loc10_ / _loc8_ > 0.4)\n\t\t\t\t{\n\t\t\t\t\tthis.drawHorizontalMidLine(_loc10_, lines[2] - lines[3], lines[1], _loc2_, context);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.valueSuffix = \"\";\n\t\t\tthis.additionalDistanceBetweenLines = 0;\n\t\t\tthis.graphics.clear();\n\t\t\tthis.distanceBetweenLines = this.getDistanceBetweenLines(context);\n\t\t\tthis.drawHorizontalLines(context);\n\t\t}\n\n\t\tprivate drawSingleHorizontalLine(labelPos: LabelPos, param2: number)\n\t\t{\n\t\t\tthis.graphics.moveTo(this.viewPoint.minx + 1, labelPos.yPos);\n\t\t\tthis.graphics.lineTo(this.viewPoint.maxx - 1, labelPos.yPos);\n\t\t\tconst text = this.getTextForValue(labelPos.label) + this.valueSuffix;\n\t\t\tconst _loc4_ = labelPos.yPos - ViewPoint.TEXT_VERTICAL_OFFSET + ViewPoint.GRID_TEXT_VERTICAL_OFFSET - ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tViewPoint.addTextField(this.textCanvas, text, param2, _loc4_, 0, ViewPoint.TEXT_FIELD_HEIGHT, \"right\", this.viewPoint.priceTextFormat, flash.text.TextFieldAutoSize.RIGHT);\n\t\t}\n\n\t\tprivate getIncreaseInterval(param1: number): number\n\t\t{\n\t\t\tconst _loc2_ = Math.log(param1) / Math.LN10;\n\t\t\treturn Math.pow(10, Math.floor(_loc2_));\n\t\t}\n\n\t\tinverseLogTransform(value: number, scaleType: string): number\n\t\t{\n\t\t\tif (scaleType === Const.LOG_VSCALE || scaleType === Const.NEW_LOG_VSCALE)\n\t\t\t{\n\t\t\t\tlet logValue = Math.pow(Const.LOG_SCALE, value);\n\t\t\t\tif (value < 1)\n\t\t\t\t\tlogValue = 10 * (logValue - 1) / 9;\n\n\t\t\t\treturn logValue;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t}\n}\n","/// <reference path=\"PriceLinesLayer.ts\" />\n\nnamespace com.google.finance\n{\n\texport class PercentLinesLayer extends PriceLinesLayer\n\t{\n\t\tprivate localYOffset: number;\n\t\tprivate localYScale: number;\n\n\t\tprivate computeLocalVars(context: Context)\n\t\t{\n\t\t\tthis.localYOffset = this.viewPoint.miny + ViewPoint.MIN_EDGE_DISTANCE / 2;\n\t\t\tthis.localYScale = (this.viewPoint.maxPriceRangeViewSize - 20) / context.scaleVariation;\n\t\t\tthis.distanceBetweenLines = this.getDistanceBetweenLines(context);\n\t\t}\n\n\t\tprotected drawZeroLine(context: Context)\n\t\t{\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(0, Const.ZERO_PERCENT_LINE_COLOR, 1);\n\t\t\tconst y = this.getYPos(0, context);\n\t\t\tgr.moveTo(this.viewPoint.minx + 1, y);\n\t\t\tgr.lineTo(this.viewPoint.maxx - 1, y);\n\t\t}\n\n\t\tprotected getMinLineValue(context: Context): number\n\t\t{\n\t\t\tlet _loc2_ = 0;\n\t\t\tconst _loc3_ = (this.inverseLogTransform(context.minusVariation, context.verticalScaling) - 1) * 100;\n\t\t\twhile (_loc2_ > _loc3_)\n\t\t\t\t_loc2_ = Number(_loc2_ - this.distanceBetweenLines);\n\n\t\t\t_loc2_ = Number(Math.floor(_loc2_ / this.distanceBetweenLines) * this.distanceBetweenLines);\n\t\t\treturn _loc2_;\n\t\t}\n\n\t\tprotected getMaxDisplayRange(context: Context): number\n\t\t{\n\t\t\treturn (this.inverseLogTransform(context.plusVariation, context.verticalScaling) - this.inverseLogTransform(context.minusVariation, context.verticalScaling)) * 100;\n\t\t}\n\n\t\tprotected getMaxY(context: Context, param2: number): number\n\t\t{\n\t\t\tlet _loc3_ = (this.inverseLogTransform(context.plusVariation, context.verticalScaling) - 1) * 100;\n\t\t\tlet _loc4_ = 0;\n\t\t\tdo\n\t\t\t{\n\t\t\t\t_loc4_ = Number(this.getYPos(_loc3_, context));\n\t\t\t\t_loc3_ += param2;\n\t\t\t}\n\t\t\twhile (_loc4_ > this.viewPoint.miny);\n\n\t\t\treturn _loc3_;\n\t\t}\n\n\t\tprotected getInitialLinesList(context: Context)\n\t\t{\n\t\t\treturn [this.getYPos(0, context)];\n\t\t}\n\n\t\tprotected getValueForYPos(param1: number, context: Context): number\n\t\t{\n\t\t\tif (context.verticalScaling === Const.LOG_VSCALE || context.verticalScaling === Const.NEW_LOG_VSCALE)\n\t\t\t{\n\t\t\t\tconst _loc3_ = context.localYAdjustment - (param1 - this.localYOffset) / this.localYScale + Utils.logTransform(1);\n\t\t\t\treturn (this.inverseLogTransform(_loc3_, context.verticalScaling) - 1) * 100;\n\t\t\t}\n\t\t\treturn (context.localYAdjustment - (param1 - this.localYOffset) / this.localYScale) * 100;\n\t\t}\n\n\t\tprotected getYPos(param1: number, context: Context): number\n\t\t{\n\t\t\tlet _loc3_ = 0;\n\t\t\tif (context.verticalScaling === Const.LOG_VSCALE || context.verticalScaling === Const.NEW_LOG_VSCALE)\n\t\t\t{\n\t\t\t\tif (1 + param1 / 100 < 0)\n\t\t\t\t\treturn 2 * this.viewPoint.maxy;\n\n\t\t\t\t_loc3_ = Number(Utils.logTransform(1 + param1 / 100) - Utils.logTransform(1));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_loc3_ = Number(param1 / 100);\n\t\t\t}\n\t\t\treturn this.localYOffset + (context.localYAdjustment - _loc3_) * this.localYScale;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.valueSuffix = '%';\n\t\t\tthis.graphics.clear();\n\t\t\tthis.computeLocalVars(context);\n\t\t\tthis.drawHorizontalLines(context);\n\t\t\tthis.drawZeroLine(context);\n\t\t}\n\t}\n}\n","/// <reference path=\"StockAssociatedObject.ts\" />\n\nnamespace com.google.finance\n{\n\texport class PinPoint extends StockAssociatedObject\n\t{\n\t\tforceExpandInGroup = false;\n\n\t\tconstructor(pos: number, dayPos: number, posInInterval: SeriesPosition[] | null, time: number, exchangeDateInUTC: Date, id: number, qname: string, public letter: string)\n\t\t{\n\t\t\tsuper(pos,  dayPos , posInInterval, time, exchangeDateInUTC, id, qname);\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextFieldAutoSize;\n\t// import flash.display.SimpleButton;\n\t// import flash.xml.XMLNode;\n\t// import flash.xml.XMLNodeType;\n\t// import com.google.i18n.locale.DateTimeLocale;\n\t// import flash.text.TextField;\n\t// import flash.filters.DropShadowFilter;\n\t// import flash.display.Bitmap;\n\t// import flash.text.TextFormat;\n\t// import flash.events.MouseEvent;\n\t// import flash.events.Event;\n\n\texport class PinPointContentMovie extends flash.display.Sprite\n\t{\n\t\tprivate static readonly TEXT_FIELD_PADDING = 8;\n\t\tprivate static readonly MIN_CONTENT_WIDTH = 140;\n\t\tprivate static readonly MAX_CONTENT_WIDTH = 250;\n\n\t\tprivate movieLeftX: number;\n\t\tprivate activePinPoint: PinPoint | null;\n\t\tprivate closeButton = new flash.display.SimpleButton(\"closeButton\");\n\t\tprivate viewPoint: ViewPoint;\n\t\tprivate content = new flash.text.TextField();\n\t\tprivate movieBottomY: number;\n\n\t\tconstructor(viewPoint: ViewPoint)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.viewPoint = viewPoint;\n\t\t\tthis.content.defaultTextFormat = new flash.text.TextFormat(\"Arial\", 11);\n\t\t\tthis.content.selectable = false;\n\t\t\tthis.content.addEventListener(MouseEvents.MOUSE_OVER, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t\tMainManager.mouseCursor.lockOnDisplayObject(this.content);\n\t\t\t});\n\t\t\tthis.content.addEventListener(MouseEvents.MOUSE_OUT, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.unlock();\n\t\t\t});\n\t\t\t/* TODO\n\t\t\tlet filter: DropShadowFilter = new DropShadowFilter();\n\t\t\tfilter.color = 0x666666;\n\t\t\tthis.filters = [filter];\n\t\t\t*/\n\t\t\tconst BubbleCloseButton: { new (): any } = PinPointContentMovie_BubbleCloseButton;\n\t\t\tconst closeButtonBitmap = new BubbleCloseButton();\n\t\t\tthis.closeButton.overState = closeButtonBitmap;\n\t\t\tthis.closeButton.downState = closeButtonBitmap;\n\t\t\tthis.closeButton.hitTestState = closeButtonBitmap;\n\t\t\tthis.closeButton.upState = closeButtonBitmap;\n\t\t\tthis.closeButton.useHandCursor = true;\n\t\t\tthis.closeButton.addEventListener(MouseEvents.MOUSE_OVER, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t\tMainManager.mouseCursor.lockOnDisplayObject(this.closeButton);\n\t\t\t});\n\t\t\tthis.closeButton.addEventListener(MouseEvents.MOUSE_OUT, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.unlock();\n\t\t\t});\n\t\t\tthis.closeButton.addEventListener(MouseEvents.CLICK, (event: Event) =>\n\t\t\t{\n\t\t\t\tconst activePinPoint = notnull(this.activePinPoint);\n\t\t\t\tactivePinPoint.active = false;\n\t\t\t\tactivePinPoint.forceExpandInGroup = true;\n\t\t\t\tthis.clearMovie();\n\t\t\t\tif (this.viewPoint)\n\t\t\t\t\tthis.viewPoint.updateObjectLayers();\n\t\t\t});\n\t\t}\n\n\t\tsetActivePinPoint(pinPoint: PinPoint, x: number, y: number)\n\t\t{\n\t\t\tthis.activePinPoint = pinPoint;\n\t\t\tthis.movieLeftX = x;\n\t\t\tthis.movieBottomY = y;\n\t\t}\n\n\t\tprivate renderBackground()\n\t\t{\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(2, 0x666666, 1);\n\t\t\tgr.beginFill(0xffffff, 1);\n\t\t\tgr.drawRoundRect(this.content.x - PinPointContentMovie.TEXT_FIELD_PADDING, this.content.y - PinPointContentMovie.TEXT_FIELD_PADDING, this.content.width + 2 * PinPointContentMovie.TEXT_FIELD_PADDING, this.content.height + 2 * PinPointContentMovie.TEXT_FIELD_PADDING, 10, 10);\n\t\t\tgr.endFill();\n\t\t}\n\n\t\tprivate renderContent()\n\t\t{\n\t\t\tthis.content.wordWrap = false;\n\t\t\tthis.content.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.content.htmlText = this.getContentHtmlText();\n\t\t\tif (this.content.width > PinPointContentMovie.MAX_CONTENT_WIDTH)\n\t\t\t{\n\t\t\t\tthis.content.width = PinPointContentMovie.MAX_CONTENT_WIDTH;\n\t\t\t\tthis.content.wordWrap = true;\n\t\t\t}\n\t\t\telse if (this.content.width < PinPointContentMovie.MIN_CONTENT_WIDTH)\n\t\t\t{\n\t\t\t\tthis.content.width = PinPointContentMovie.MIN_CONTENT_WIDTH;\n\t\t\t\tthis.content.wordWrap = true;\n\t\t\t}\n\t\t\tconst _loc1_ = this.movieLeftX + this.content.width + 2 * PinPointContentMovie.TEXT_FIELD_PADDING - Const.MOVIE_WIDTH;\n\t\t\tthis.content.x = this.movieLeftX - Math.max(0, _loc1_);\n\t\t\tthis.content.y = Math.max(this.viewPoint.miny + PinPointContentMovie.TEXT_FIELD_PADDING + 2, this.movieBottomY - this.content.textHeight - 2 * PinPointContentMovie.TEXT_FIELD_PADDING);\n\t\t\tthis.addChild(this.content);\n\t\t\tthis.closeButton.x = this.content.x + this.content.width - this.closeButton.width - PinPointContentMovie.TEXT_FIELD_PADDING / 2;\n\t\t\tthis.closeButton.y = this.content.y + PinPointContentMovie.TEXT_FIELD_PADDING / 2;\n\t\t\tthis.addChild(this.closeButton);\n\t\t}\n\n\t\tprotected getLetterHtml(param1: string): string\n\t\t{\n\t\t\treturn \"<b>\" + this.escapeHtml(param1) + \"</b>\";\n\t\t}\n\n\t\tprotected getAuthorHtml(param1: string): string\n\t\t{\n\t\t\treturn \"<font color=\\'#6B6B6B\\' size=\\'12\\'>\" + this.escapeHtml(param1) + \"</font>\";\n\t\t}\n\n\t\tprotected getTitleHtml(param1: string, param2: string, param3: string): string\n\t\t{\n\t\t\tlet titleHtml = \"\";\n\t\t\tif (param3)\n\t\t\t{\n\t\t\t\tconst _loc5_ = \"_GF_click(\\'\\', \\'n-cn-\\', \\'\" + encodeURIComponent(param1) + \"\\', \\'\\');\";\n\t\t\t\tconst _loc6_ = \"self.location=\\'\" + encodeURIComponent(param3) + \"\\';\";\n\t\t\t\ttitleHtml += \"<a href=\\\"javascript:\" + _loc5_ + _loc6_ + \"\\'>\";\n\t\t\t\ttitleHtml += \"<u><font color=\\'#0000CC\\' size=\\'12\\'>\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttitleHtml += \"<font size=\\'12\\'>\";\n\t\t\t}\n\t\t\ttitleHtml += this.escapeHtml(param2);\n\t\t\tif (param3)\n\t\t\t\ttitleHtml += \"</font></u></a>\";\n\t\t\telse\n\t\t\t\ttitleHtml += \"</font>\";\n\n\t\t\treturn titleHtml;\n\t\t}\n\n\t\tprotected escapeHtml(param1: string): string\n\t\t{\n\t\t\tthrow new Error(\"not implemented\");\n\t\t\t//TODO: return XML(new XMLNode(XMLNodeType.TEXT_NODE, param1)).toXMLString();\n\t\t}\n\n\t\tprotected getDateHtml(date: Date): string\n\t\t{\n\t\t\tconst _loc2_ = Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()) ? \"yyyy-MM-dd HH:mm\" : \"MMM dd, yyyy h:mma\";\n\t\t\treturn \"<font color=\\'#0B6CDE\\'>\" + i18n.locale.DateTimeLocale.formatDateTime(_loc2_, date, true) + \"</font>\";\n\t\t}\n\n\t\trenderMovie()\n\t\t{\n\t\t\tif (!this.activePinPoint)\n\t\t\t\treturn;\n\n\t\t\tthis.renderContent();\n\t\t\tthis.renderBackground();\n\t\t}\n\n\t\tclearMovie()\n\t\t{\n\t\t\tthis.activePinPoint = null;\n\t\t\tif (this.contains(this.content))\n\t\t\t\tthis.removeChild(this.content);\n\n\t\t\tif (this.contains(this.closeButton))\n\t\t\t\tthis.removeChild(this.closeButton);\n\n\t\t\tthis.graphics.clear();\n\t\t}\n\n\t\tprivate getContentHtmlText(): string\n\t\t{\n\t\t\tconst activePinPoint = notnull(this.activePinPoint);\n\t\t\tconst originalObject = activePinPoint.originalObject;\n\t\t\tlet letterHtml = this.getLetterHtml(activePinPoint.letter);\n\t\t\tif (activePinPoint.exchangeDateInUTC)\n\t\t\t\tletterHtml += ' ' + this.getDateHtml(activePinPoint.exchangeDateInUTC);\n\n\t\t\tif (originalObject._title && originalObject._title !== \"\")\n\t\t\t\tletterHtml += \"\\n\" + this.getTitleHtml(activePinPoint.letter, originalObject._title, originalObject._url);\n\n\t\t\tif (originalObject._author && originalObject._author !== \"\")\n\t\t\t\tletterHtml += \"\\n\" + this.getAuthorHtml(originalObject._author);\n\t\t\telse if (originalObject._snippet && originalObject._snippet !== \"\")\n\t\t\t\tletterHtml += \"\\n\" + this.getAuthorHtml(originalObject._snippet);\n\n\t\t\treturn letterHtml;\n\t\t}\n\n\t\tprotected getSnippetHtml(param1: string): string\n\t\t{\n\t\t\treturn \"<font color=\\'#6B6B6B\\' size=\\'12\\'>\" + this.escapeHtml(param1) + \"</font>\";\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class PinPointContentMovie_BubbleCloseButton extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class PinPointMovie_LocalExtraFlagBorder extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class PinPointMovie_LocalFlagActiveImg extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class PinPointMovie_LocalFlagImg extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class PinPointMovie_LocalFlagOverImg extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class PinPointMovie_LocalFlagPoleImg extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\texport class PinPointsLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tprivate static readonly FLAG_HEIGHT = 14;\n\t\tprivate static readonly MIN_FLAGS_DIST = 10;\n\t\tprivate static readonly FLAG_POLE_HEIGHT = 10;\n\t\t/*\n\t\tprivate static readonly LEFT_SIDE_OFFSET = 4;\n\t\tprivate static readonly FLAG_WIDTH = 18;\n\t\tprivate static readonly MAX_FLAGS_DEPTH = 1000;\n\t\t*/\n\n\t\tprivate localYOffset = 0;\n\t\tprivate lastAbsoluteHeightMax: number;\n\t\tprivate pinPointContentMovie: PinPointContentMovie;\n\t\tprivate localYScale = 0;\n\t\tprivate pinPointYWhenContentDisplayed = 0;\n\t\tprivate activeMovies = 0;\n\t\tprivate pinMovies: PinPointMovie[] = [];\n\t\tprivate lastAbsoluteHeightMin: number;\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.pinPointContentMovie = new PinPointContentMovie(viewPoint);\n\t\t\tviewPoint.addChildToTopCanvas(this.pinPointContentMovie);\n\t\t}\n\n\t\tprivate getFlagGroupCount(context: Context, pinPoints: PinPoint[], pinIndex: number, detailLevel: Intervals): number\n\t\t{\n\t\t\tlet count = 1;\n\t\t\tconst pin = pinPoints[pinIndex];\n\t\t\tif (detailLevel === Intervals.INTRADAY)\n\t\t\t{\n\t\t\t\twhile (pinIndex + count < pinPoints.length && pinPoints[pinIndex + count].pos === pin.pos && pinPoints[pinIndex + count].refDataSeries === pin.refDataSeries)\n\t\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\twhile (pinIndex + count < pinPoints.length && pinPoints[pinIndex + count].dayPos === pin.dayPos && pinPoints[pinIndex + count].refDataSeries === pin.refDataSeries)\n\t\t\t\t\tcount++;\n\t\t\t}\n\t\t\treturn count;\n\t\t}\n\n\t\tprivate getLastVisibleFlagIndex(context: Context, pinPoints: PinPoint[]): number\n\t\t{\n\t\t\tfor (let pinIndex = pinPoints.length - 1; pinIndex >= 0; pinIndex--)\n\t\t\t{\n\t\t\t\tconst _loc4_ = pinPoints[pinIndex];\n\t\t\t\tconst _loc5_ = notnull(_loc4_.refDataSeries).units[_loc4_.pos];\n\t\t\t\tif (_loc5_.relativeMinutes <= context.lastMinute)\n\t\t\t\t\treturn pinIndex;\n\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tprivate getFirstVisibleFlagIndex(context: Context, pinPoints: PinPoint[]): number\n\t\t{\n\t\t\tfor (let pinIndex = 0; pinIndex < pinPoints.length; pinIndex++)\n\t\t\t{\n\t\t\t\tconst _loc4_ = pinPoints[pinIndex];\n\t\t\t\tconst _loc5_ = notnull(_loc4_.refDataSeries).units[_loc4_.pos];\n\t\t\t\tif (_loc5_.relativeMinutes > context.lastMinute - context.count)\n\t\t\t\t\treturn pinIndex;\n\t\t\t}\n\t\t\treturn pinPoints.length - 1;\n\t\t}\n\n\t\tprivate getPinPointMovieClip(pinPoint: PinPoint): PinPointMovie\n\t\t{\n\t\t\tlet movie: PinPointMovie;\n\t\t\tconst originalColor = pinPoint.originalObject._color ? pinPoint.originalObject._color : \"gray\";\n\t\t\tif (this.activeMovies >= this.pinMovies.length)\n\t\t\t{\n\t\t\t\tmovie = originalColor === \"orange\" ? new OrangePinPointMovie() : new PinPointMovie();\n\t\t\t\tthis.addChild(movie);\n\t\t\t\tthis.pinMovies.push(movie);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmovie = this.pinMovies[this.activeMovies];\n\t\t\t\tconst movieColor = movie instanceof OrangePinPointMovie ? \"orange\" : \"gray\";\n\t\t\t\tif (movieColor !== originalColor)\n\t\t\t\t{\n\t\t\t\t\tmovie = originalColor === \"orange\" ? new OrangePinPointMovie() : new PinPointMovie();\n\t\t\t\t\tthis.removeChild(this.pinMovies[this.activeMovies]);\n\t\t\t\t\tthis.pinMovies[this.activeMovies].clearReferences();\n\t\t\t\t\tdelete this.pinMovies[this.activeMovies];\n\t\t\t\t\tthis.pinMovies[this.activeMovies] = movie;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmovie.setPinPointContentMovie(this.pinPointContentMovie);\n\t\t\tthis.activeMovies++;\n\t\t\treturn movie;\n\t\t}\n\n\t\tprivate removePinMovies(param1: number)\n\t\t{\n\t\t\tfor (let movieIndex = param1; movieIndex < this.pinMovies.length; movieIndex++)\n\t\t\t{\n\t\t\t\tthis.removeChild(this.pinMovies[movieIndex]);\n\t\t\t\tthis.pinMovies[movieIndex].clearReferences();\n\t\t\t\tdelete this.pinMovies[movieIndex];\n\t\t\t}\n\t\t\tthis.pinMovies.splice(param1);\n\t\t}\n\n\t\tprivate getYPos(context: Context, dataUnit: DataUnit): number\n\t\t{\n\t\t\treturn this.localYOffset - (dataUnit.getCloseLogValue(context.verticalScaling) - context.medPrice) * this.localYScale;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tif (isNaN(context.lastMinute) || isNaN(context.count) || context.count === 0)\n\t\t\t\treturn;\n\n\t\t\tconst _loc2_ = <PinPoint[]>this.dataSource.objects[\"newspin\"];\n\t\t\tthis.activeMovies = 0;\n\t\t\tthis.pinPointContentMovie.clearMovie();\n\t\t\tif (!_loc2_ || _loc2_.length === 0)\n\t\t\t{\n\t\t\t\tthis.removePinMovies(0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst _loc3_ = _loc2_[0].originalObject._color !== \"orange\";\n\t\t\tif (!Const.DISPLAY_NEWS_PINS && _loc3_)\n\t\t\t{\n\t\t\t\tthis.removePinMovies(0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst vp = this.viewPoint;\n\t\t\tthis.localYOffset = vp.miny + vp.medPriceY + vp.V_OFFSET;\n\t\t\tthis.localYScale = vp.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t\tconst bottomBarLayer = vp.getLayer(\"BottomBarLayer\") as BottomBarLayer;\n\t\t\tthis.pinPointYWhenContentDisplayed = vp.maxy - (!bottomBarLayer ? 0 : bottomBarLayer.bottomTextHeight);\n\t\t\tconst firstVisibleFlagIndex = this.getFirstVisibleFlagIndex(context, _loc2_);\n\t\t\tconst lastVisibleFlagIndex = this.getLastVisibleFlagIndex(context, _loc2_);\n\t\t\tthis.lastAbsoluteHeightMin = 0;\n\t\t\tthis.lastAbsoluteHeightMax = 0;\n\t\t\tconst detailLevel = vp.getDetailLevel(context.count, context.lastMinute);\n\t\t\tthis.renderFlagGroups(context, _loc2_, firstVisibleFlagIndex, lastVisibleFlagIndex, detailLevel);\n\t\t\tthis.removePinMovies(this.activeMovies);\n\t\t\tif (!_loc3_)\n\t\t\t\tthis.pinPointContentMovie.renderMovie();\n\t\t}\n\n\t\tprivate renderFlagGroups(context: Context, pinPoints: PinPoint[], param3: number, param4: number, detailLevel: Intervals)\n\t\t{\n\t\t\tconst _loc7_: number[] = [];\n\t\t\tconst _loc8_: number[] = [];\n\t\t\tconst _loc9_: number[] = [];\n\t\t\tconst _loc10_: number[] = [];\n\t\t\tfor (let _loc6_ = param3; _loc6_ <= param4;)\n\t\t\t{\n\t\t\t\t_loc7_.push(_loc6_);\n\t\t\t\tconst flagGroupCount = this.getFlagGroupCount(context, pinPoints, _loc6_, detailLevel);\n\t\t\t\t_loc8_.push(flagGroupCount);\n\t\t\t\tconst visibleDataUnit = this.getVisibleDataUnit(pinPoints[_loc6_]);\n\t\t\t\t_loc9_.push(Math.floor(this.viewPoint.getXPos(visibleDataUnit)));\n\t\t\t\t_loc10_.push(this.getYPos(context, visibleDataUnit));\n\t\t\t\t_loc6_ += flagGroupCount;\n\t\t\t}\n\n\t\t\tif (_loc7_.length > 0)\n\t\t\t{\n\t\t\t\tconst pinOrientations: PinOrientations[] = [];\n\t\t\t\tfor (let _loc14_ = _loc7_.length - 1; _loc14_ >= 0; _loc14_--)\n\t\t\t\t{\n\t\t\t\t\tif ((pinOrientations.length === 0 || pinOrientations[pinOrientations.length - 1] === PinOrientations.LEFT_ORIENTATION) && _loc9_[_loc14_] + (_loc7_.length - _loc14_) * PinPointsLayer.MIN_FLAGS_DIST > this.viewPoint.maxx)\n\t\t\t\t\t\tpinOrientations.push(PinOrientations.LEFT_ORIENTATION);\n\t\t\t\t\telse\n\t\t\t\t\t\tpinOrientations.push(PinOrientations.RIGHT_ORIENTATION);\n\n\t\t\t\t}\n\t\t\t\tpinOrientations.reverse();\n\t\t\t\tfor (let _loc14_ = 0; _loc14_ < _loc7_.length; _loc14_++)\n\t\t\t\t{\n\t\t\t\t\tthis.renderFlagsGroup(context, detailLevel, _loc9_[_loc14_], _loc10_[_loc14_], _loc7_[_loc14_], _loc8_[_loc14_], pinPoints, PinPointsLayer.FLAG_POLE_HEIGHT + PinPointsLayer.FLAG_HEIGHT, pinOrientations[_loc14_]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate renderFlag(x: number, pinOrientation: PinOrientations, height: number, object: PinPoint, _?: PinPoint, count = 1)\n\t\t{\n\t\t\tconst pinPointMovieClip = this.getPinPointMovieClip(object);\n\t\t\tthis.addChild(pinPointMovieClip);\n\t\t\tpinPointMovieClip.x = x;\n\t\t\tpinPointMovieClip.y = this.pinPointYWhenContentDisplayed;\n\t\t\tpinPointMovieClip.setCount(count);\n\t\t\tpinPointMovieClip.setObj(object);\n\t\t\tpinPointMovieClip.setOrientation(pinOrientation);\n\t\t\tpinPointMovieClip.setHeight(height);\n\t\t}\n\n\t\tprivate getVisibleDataUnit(pinPoint: PinPoint): DataUnit\n\t\t{\n\t\t\tconst dataSeries = notnull(pinPoint.refDataSeries);\n\t\t\t//const _loc2_ = _loc5_.units[param1.pos];\n\t\t\tconst skipInterval = this.viewPoint.getSkipInterval();\n\t\t\tlet unitIndex = 0;\n\t\t\tif (skipInterval.interval >= Const.WEEKLY_INTERVAL)\n\t\t\t\tunitIndex = Number(dataSeries.fridays[dataSeries.getNextWeekEnd(pinPoint.pos)]);\n\t\t\telse if (skipInterval.interval >= Const.DAILY_INTERVAL)\n\t\t\t\tunitIndex = Number(pinPoint.dayPos);\n\t\t\telse\n\t\t\t\tunitIndex = Number(pinPoint.pos + (notnull(pinPoint.dayPos) - pinPoint.pos) % skipInterval.skip);\n\n\t\t\treturn dataSeries.units[unitIndex];\n\t\t}\n\n\t\tprivate renderFlagsGroup(context: Context, detailLevel: Intervals, param3: number, param4: number, pinIndex: number, param6: number, pinPoints: PinPoint[], param8: number, pinOrientation: PinOrientations)\n\t\t{\n\t\t\tthis.lastAbsoluteHeightMin = param4 - param8 + PinPointsLayer.FLAG_HEIGHT;\n\t\t\tlet _loc10_ = false;\n\t\t\tfor (let _loc11_ = pinIndex; _loc11_ < pinIndex + param6; _loc11_++)\n\t\t\t\t_loc10_ = _loc10_ || pinPoints[_loc11_].active || pinPoints[_loc11_].forceExpandInGroup;\n\n\t\t\tif (param6 > 1 && _loc10_ || !Boolean(Const.ENABLE_COMPACT_FLAGS))\n\t\t\t{\n\t\t\t\tconst _loc12_ = param8 + (param6 - 1) * PinPointsLayer.FLAG_HEIGHT;\n\t\t\t\tfor (let _loc11_ = pinIndex; _loc11_ < pinIndex + param6; _loc11_++)\n\t\t\t\t{\n\t\t\t\t\tconst _loc13_ = param8 + (_loc11_ - pinIndex) * PinPointsLayer.FLAG_HEIGHT;\n\t\t\t\t\tthis.renderFlag(param3, pinOrientation, _loc13_, pinPoints[_loc11_]);\n\t\t\t\t\tif (pinPoints[_loc11_].active)\n\t\t\t\t\t\tthis.pinPointContentMovie.setActivePinPoint(pinPoints[_loc11_], param3, this.pinPointYWhenContentDisplayed - _loc12_);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst _loc14_ = Math.min(param6, PinPointMovie.MAX_SHOWN_GROUP_COUNT) * 2;\n\t\t\t\tconst _loc12_ = param8 + _loc14_;\n\t\t\t\tthis.renderFlag(param3, pinOrientation, param8 + _loc14_, pinPoints[pinIndex + param6 - 1], pinPoints[pinIndex], param6);\n\t\t\t\tif (pinPoints[pinIndex].active)\n\t\t\t\t\tthis.pinPointContentMovie.setActivePinPoint(pinPoints[pinIndex], param3, this.pinPointYWhenContentDisplayed - _loc12_);\n\t\t\t}\n\t\t\tthis.lastAbsoluteHeightMax = param4 - this.pinMovies[this.activeMovies - 1].getHeight();\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class PrecalculatedPercentLineChartLayer extends PercentLineChartLayer\n\t{\n\t\tprotected calculatePercentChangeBase(param1= 0): number\n\t\t{\n\t\t\treturn 1;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class ScrollSlider_ScrollBarGrip extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class ScrollSlider_ScrollBarBg extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n/// <reference path=\"ScrollSlider_ScrollBarGrip.ts\" />\n/// <reference path=\"ScrollSlider_ScrollBarBg.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.display.Bitmap;\n\n\texport class ScrollSlider extends flash.display.Sprite\n\t{\n\t\tprivate static readonly MIN_WIDTH = 18;\n\t\tprivate static readonly ScrollBarGrip = ScrollSlider_ScrollBarGrip;\n\t\tprivate static readonly ScrollBarBg = ScrollSlider_ScrollBarBg;\n\n\t\tprivate readonly middle = new ScrollSlider.ScrollBarGrip();\n\t\tprivate readonly bg = new ScrollSlider.ScrollBarBg();\n\n\t\tconstructor(name?: string)\n\t\t{\n\t\t\tsuper(name);\n\t\t\tthis.addChild(this.bg);\n\t\t\tthis.addChild(this.middle);\n\t\t}\n\n\t\tsetWidth(width: number)\n\t\t{\n\t\t\tif (width < ScrollSlider.MIN_WIDTH)\n\t\t\t\twidth = ScrollSlider.MIN_WIDTH;\n\n\t\t\tthis.middle.x = Math.floor(width / 2) - this.middle.width / 2;\n\t\t\tthis.bg.width = width - 2;\n\t\t}\n\t}\n}\n","/// <reference path=\"Messages.ts\" />\n/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import com.google.i18n.locale.DateTimeLocale;\n\t// import flash.text.TextField;\n\t// import flash.text.TextFieldAutoSize;\n\t// import flash.text.TextFormat;\n\t// import flash.events.MouseEvent;\n\t// import flash.events.KeyboardEvent;\n\t// import flash.text.TextFieldType;\n\t// import flash.text.TextFormatAlign;\n\n\texport class SpaceText extends flash.display.Sprite\n\t{\n\t\tstatic readonly OHLC_INFO_FLAG_STR = \"ohlcInfo\";\n\t\tstatic readonly POINT_STR = \"point\";\n\t\tstatic readonly PRICE_TEXT = ' ' + Message.getMsg(Messages.PRICE) + \": \";\n\t\tstatic readonly OPEN_TEXT = ' ' + Message.getMsg(Messages.OPEN) + \": \";\n\t\tstatic readonly SETTER_STR = \"setter\";\n\t\tstatic readonly LOW_TEXT = ' ' + Message.getMsg(Messages.LOW) + \": \";\n\t\tstatic readonly VOL_TEXT = ' ' + Message.getMsg(Messages.VOLUME_SHORT) + \": \";\n\t\tstatic readonly OHLC_BASE_PRICE_STR = \"basePrice\";\n\t\tstatic readonly VOLUME_STR = \"volume\";\n\t\tstatic readonly HIGH_TEXT = ' ' + Message.getMsg(Messages.HIGH) + \": \";\n\t\tstatic readonly CLOSE_TEXT = ' ' + Message.getMsg(Messages.CLOSE) + \": \";\n\t\tstatic readonly POINTS_STR = \"points\";\n\t\tstatic readonly EXTRA_TEXT_STR = \"extraText\";\n\n\t\tprivate static readonly DISPLAY_DATES = 0;\n\t\tprivate static readonly INFO_DOT_PADDING = 7;\n\t\tprivate static readonly TEXT_HEIGHT = 15;\n\t\tprivate static readonly RIGHT_PADDING = 5;\n\t\tprivate static readonly EDIT_DATES = 1;\n\t\tprivate static readonly LEFT_PADDING = 5;\n\n\t\tprivate returnText = \"\";\n\t\tprivate dateEntryState: number;\n\t\tprivate readonly negativeTextFormat = new flash.text.TextFormat(\"Verdana\", 9, Const.NEGATIVE_DIFFERENCE_COLOR);\n\t\tprivate infoDots: InfoDot[] = [];\n\t\tprivate datesTextFormats: { start: number, end: number, format: flash.text.TextFormat }[] = [];\n\t\tprivate readonly grayText = new flash.text.TextFormat(\"Verdana\", 9, 0x777777);\n\t\tprivate bg = new flash.display.Sprite(\"bg\");\n\t\tprivate readonly blackText = new flash.text.TextFormat(\"Verdana\", 9, 0);\n\t\tprivate datesText = \"\";\n\t\tprivate readonly positiveTextFormat = new flash.text.TextFormat(\"Verdana\", 9, Const.POSITIVE_DIFFERENCE_COLOR);\n\t\tprivate infoText: flash.text.TextField;\n\t\tprivate changeText: flash.text.TextField;\n\n\t\tendDate: DateTextField;\n\t\tstartDate: DateTextField;\n\n\t\tconstructor(private readonly displayManager: DisplayManager)\n\t\t{\n\t\t\tsuper();\n\n\t\t\tthis.bg.graphics.beginFill(0xffffff, 1);\n\t\t\tthis.bg.graphics.drawRect(0, 0, Const.MOVIE_WIDTH, Const.SPACE_HEIGHT + Const.INFO_TEXT_TOP_PADDING);\n\t\t\tthis.bg.graphics.endFill();\n\t\t\tthis.addChild(this.bg);\n\n\t\t\tthis.blackText.align = flash.text.TextFormatAlign.RIGHT;\n\t\t\tthis.negativeTextFormat.align = flash.text.TextFormatAlign.RIGHT;\n\t\t\tthis.positiveTextFormat.align = flash.text.TextFormatAlign.RIGHT;\n\t\t\tthis.grayText.align = flash.text.TextFormatAlign.RIGHT;\n\t\t\tconst _loc2_ = Const.MOVIE_WIDTH - SpaceText.RIGHT_PADDING;\n\t\t\tconst _loc3_ = Const.SPACE_HEIGHT / 2 - SpaceText.TEXT_HEIGHT / 2 + Const.INFO_TEXT_TOP_PADDING;\n\t\t\tthis.infoText = this.newTextField(_loc2_, _loc3_);\n\t\t\tthis.addChild(this.infoText);\n\t\t\tthis.changeText = this.newTextField(_loc2_, _loc3_);\n\t\t\tthis.addChild(this.changeText);\n\t\t\tthis.startDate = this.newDateTextField(_loc2_, _loc3_, 0);\n\t\t\tthis.addChild(this.startDate);\n\t\t\tthis.registerDateTextFieldListeners(this.startDate);\n\t\t\tthis.endDate = this.newDateTextField(_loc2_, _loc3_, 1);\n\t\t\tthis.addChild(this.endDate);\n\t\t\tthis.registerDateTextFieldListeners(this.endDate);\n\t\t\tthis.setDateEntryState(SpaceText.DISPLAY_DATES);\n\t\t}\n\n\t\tsetReturnInfo(viewPoint: ViewPoint)\n\t\t{\n\t\t\tconst lastNotVisibleDataUnit = viewPoint.getLastNotVisibleDataUnit();\n\t\t\tconst lastDataUnit = viewPoint.getLastDataUnit();\n\t\t\tconst baseDataSource = viewPoint.getBaseDataSource();\n\t\t\tthis.clearComparisonInfo();\n\t\t\tthis.returnText = this.getReturnText(lastNotVisibleDataUnit, lastDataUnit, baseDataSource);\n\t\t\tthis.updateInfoText();\n\t\t}\n\n\t\tsetSize(width: number, height: number)\n\t\t{\n\t\t\tthis.updateAlignAndPadding();\n\t\t\tthis.positionInfoText();\n\t\t\tthis.positionComparisonInfoDots();\n\t\t\tthis.bg.width = width;\n\t\t\tthis.bg.height = height + Const.INFO_TEXT_TOP_PADDING;\n\t\t}\n\n\t\tprivate getHumanReadableVolume(value: number): string\n\t\t{\n\t\t\tlet text = \"\";\n\t\t\tlet scale = 1000;\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\tscale = 10000;\n\n\t\t\tif (value > 3 * scale * scale)\n\t\t\t{\n\t\t\t\ttext += Utils.numberToString(value / (scale * scale), 2, 5);\n\t\t\t\tswitch (scale)\n\t\t\t\t{\n\t\t\t\t\tcase 1000:\n\t\t\t\t\t\ttext += Message.getMsg(Messages.MILLION_ONE_LETTER);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 10000:\n\t\t\t\t\t\ttext += Message.getMsg(Messages.HUNDRED_MILLION_ONE_LETTER);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (value > scale)\n\t\t\t{\n\t\t\t\ttext += Utils.numberToString(value / scale, 2, 5);\n\t\t\t\tswitch (scale)\n\t\t\t\t{\n\t\t\t\t\tcase 1000:\n\t\t\t\t\t\ttext += Message.getMsg(Messages.THOUSAND_ONE_LETTER);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 10000:\n\t\t\t\t\t\ttext += Message.getMsg(Messages.TEN_THOUSAND_ONE_LETTER);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttext += value;\n\t\t\t}\n\t\t\treturn text;\n\t\t}\n\n\t\tprivate setDateEntryState(dateEntryState: number)\n\t\t{\n\t\t\tthis.dateEntryState = dateEntryState;\n\t\t\tconst highlighted = this.dateEntryState === SpaceText.EDIT_DATES;\n\t\t\tthis.startDate.setHighlighted(highlighted);\n\t\t\tthis.endDate.setHighlighted(highlighted);\n\t\t}\n\n\t\tprivate clearComparisonInfo()\n\t\t{\n\t\t\tfor (const infoDot of this.infoDots)\n\t\t\t\tthis.removeChild(infoDot);\n\n\t\t\tthis.infoDots.splice(0);\n\t\t}\n\n\t\tprivate newTextField(x: number, y: number): flash.text.TextField\n\t\t{\n\t\t\tconst textField = new flash.text.TextField();\n\t\t\ttextField.defaultTextFormat = this.blackText;\n\t\t\ttextField.selectable = false;\n\t\t\ttextField.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\ttextField.x = x;\n\t\t\ttextField.y = y;\n\t\t\treturn textField;\n\t\t}\n\n\t\tprivate appendOhlcText(param1: string, param2: number, param3: number)\n\t\t{\n\t\t\tthis.datesText += param1;\n\t\t\tconst _loc4_ = this.normalizePrice(param2);\n\t\t\tif (param3 !== -1)\n\t\t\t{\n\t\t\t\tif (param2 > param3)\n\t\t\t\t{\n\t\t\t\t\tthis.datesTextFormats.push({\n\t\t\t\t\t\tstart: this.datesText.length,\n\t\t\t\t\t\tend: this.datesText.length + _loc4_.length,\n\t\t\t\t\t\tformat: this.positiveTextFormat\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (param2 < param3)\n\t\t\t\t{\n\t\t\t\t\tthis.datesTextFormats.push({\n\t\t\t\t\t\tstart: this.datesText.length,\n\t\t\t\t\t\tend: this.datesText.length + _loc4_.length,\n\t\t\t\t\t\tformat: this.negativeTextFormat\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.datesText += _loc4_;\n\t\t}\n\n\t\tsetPointInfo(pointInfo: Dictionary)\n\t\t{\n\t\t\tif (pointInfo[SpaceText.POINT_STR] !== undefined)\n\t\t\t\tthis.setSinglePointInfo(pointInfo);\n\t\t\telse if (pointInfo[SpaceText.POINTS_STR] !== undefined)\n\t\t\t\tthis.setComparisonInfo(pointInfo);\n\t\t}\n\n\t\tprivate updateAlignAndPadding()\n\t\t{\n\t\t\tconst buttonsWidth = this.displayManager.mainController.getButtonsWidth();\n\t\t\tlet _loc2_ = 0;\n\t\t\t_loc2_ = Number(_loc2_ + (this.startDate.visible ? this.startDate.width + 3 : 0));\n\t\t\t_loc2_ = Number(_loc2_ + (this.endDate.visible ? this.endDate.width + 3 : 0));\n\t\t\t_loc2_ = Number(_loc2_ + (this.infoText.width + 2));\n\t\t\t_loc2_ = Number(_loc2_ + (this.changeText.visible ? this.changeText.width : 0));\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t\t_loc2_ = Number(_loc2_ + 160);\n\n\t\t\tif (Const.EXPAND_BUTTON_ENABLED || Const.SHRINK_BUTTON_ENABLED || _loc2_ + buttonsWidth > Const.MOVIE_WIDTH)\n\t\t\t{\n\t\t\t\tConst.INFO_TEXT_ALIGN = \"left\";\n\t\t\t\tConst.INFO_TEXT_TOP_PADDING = 17;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tConst.INFO_TEXT_ALIGN = \"right\";\n\t\t\t\tConst.INFO_TEXT_TOP_PADDING = 0;\n\t\t\t}\n\t\t}\n\n\t\tprivate processChangedDateFields()\n\t\t{\n\t\t\tthis.setDateEntryState(SpaceText.DISPLAY_DATES);\n\t\t\tif (this.startDate.parseUtcDate() && this.endDate.parseUtcDate() &&\n\t\t\t\tthis.startDate.parsedDate && this.endDate.parsedDate)\n\t\t\t{\n\t\t\t\tthis.endDate.parsedDate.setUTCHours(23, 59, 0, 0);\n\t\t\t\tif (this.needToAnimate())\n\t\t\t\t\tthis.displayManager.mainController.animateToCustomLevel(this.startDate.parsedDate, this.endDate.parsedDate);\n\t\t\t}\n\t\t\tthis.updateInfoText();\n\t\t}\n\n\t\tprivate setSinglePointInfo(state: Dictionary)\n\t\t{\n\t\t\tconst unit = state[SpaceText.POINT_STR];\n\t\t\tswitch (state[\"extraText\"])\n\t\t\t{\n\t\t\t\tcase Const.PRE_MARKET_DISPLAY_NAME:\n\t\t\t\t\tthis.datesText = Message.getMsg(Messages.PREMARKET) + \": \";\n\t\t\t\t\tbreak;\n\t\t\t\tcase Const.AFTER_HOURS_DISPLAY_NAME:\n\t\t\t\t\tthis.datesText = Message.getMsg(Messages.AFTER_HOURS) + \": \";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.datesText = \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.datesTextFormats = [];\n\t\t\tconst singlePointDateFormat = this.getSinglePointDateFormat(unit);\n\t\t\tconst exchangeDateInUTC = unit.exchangeDateInUTC;\n\t\t\tthis.datesText += i18n.locale.DateTimeLocale.formatDateTime(singlePointDateFormat, exchangeDateInUTC, true);\n\t\t\tif (state[SpaceText.OHLC_INFO_FLAG_STR])\n\t\t\t{\n\t\t\t\tthis.appendOhlcText(SpaceText.OPEN_TEXT, unit.open, state[SpaceText.OHLC_BASE_PRICE_STR]);\n\t\t\t\tthis.appendOhlcText(SpaceText.HIGH_TEXT, unit.high, state[SpaceText.OHLC_BASE_PRICE_STR]);\n\t\t\t\tthis.appendOhlcText(SpaceText.LOW_TEXT, unit.low, state[SpaceText.OHLC_BASE_PRICE_STR]);\n\t\t\t\tthis.appendOhlcText(SpaceText.CLOSE_TEXT, unit.close, state[SpaceText.OHLC_BASE_PRICE_STR]);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.datesText += SpaceText.PRICE_TEXT;\n\t\t\t\tif (state[SpaceText.SETTER_STR] && state[SpaceText.SETTER_STR].dataSource && state[SpaceText.SETTER_STR].dataSource.tickerName && state[SpaceText.SETTER_STR].dataSource.tickerName.indexOf(\"CURRENCY:\") === 0)\n\t\t\t\t\tthis.datesText += Math.round(unit.close * 10000) / 10000;\n\t\t\t\telse\n\t\t\t\t\tthis.datesText += this.normalizePrice(unit.close);\n\t\t\t}\n\t\t\tif (!isNaN(state[SpaceText.VOLUME_STR]))\n\t\t\t{\n\t\t\t\tthis.datesText += ' ' + Message.getMsg(Messages.VOLUME_SHORT) + \": \";\n\t\t\t\tthis.datesText += this.getHumanReadableVolume(state[\"volume\"]);\n\t\t\t}\n\t\t\tthis.returnText = \"\";\n\t\t\tthis.updateInfoText();\n\t\t}\n\n\t\tprivate onMouseRollOverInfoText(mouseEvent: MouseEvent)\n\t\t{\n\t\t\tthis.startDate.setHighlighted(true);\n\t\t\tthis.endDate.setHighlighted(true);\n\t\t}\n\n\t\tnormalizePrice(param1: number): string\n\t\t{\n\t\t\tif (Math.round(param1 * 1000) % 10 === 0)\n\t\t\t\treturn param1.toFixed(2);\n\n\t\t\treturn param1.toFixed(3);\n\t\t}\n\n\t\tprivate onKeyDown(keyboardEvent: KeyboardEvent)\n\t\t{\n\t\t\tswitch (keyboardEvent.charCode)\n\t\t\t{\n\t\t\t\tcase 27:\n\t\t\t\t\tthis.resetInfoText();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 13:\n\t\t\t\t\tthis.processChangedDateFields();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tprivate registerDateTextFieldListeners(dateTextField: DateTextField)\n\t\t{\n\t\t\tif (Const.ENABLE_CUSTOM_DATE_ENTRY !== \"true\")\n\t\t\t\treturn;\n\n\t\t\tdateTextField.addEventListener(MouseEvents.ROLL_OVER, flash.display.Stage.bind(this.onMouseRollOverInfoText, this));\n\t\t\tdateTextField.addEventListener(MouseEvents.ROLL_OUT, flash.display.Stage.bind(this.onMouseRollOutInfoText, this));\n\t\t\tdateTextField.addEventListener(MouseEvents.CLICK, flash.display.Stage.bind(this.onMouseClickDateField, this));\n\t\t\tdateTextField.addEventListener(KeyboardEvents.KEY_DOWN, flash.display.Stage.bind(this.onKeyDown, this));\n\t\t}\n\n\t\tprivate positionInfoText(param1 = true)\n\t\t{\n\t\t\tconst _loc2_ = this.startDate.visible ? Number(this.startDate.width + 3) : 0;\n\t\t\tconst _loc3_ = this.endDate.visible ? Number(this.endDate.width + 3) : 0;\n\t\t\tconst _loc4_ = this.infoText.width + 2;\n\t\t\tswitch (Const.INFO_TEXT_ALIGN)\n\t\t\t{\n\t\t\t\tcase \"left\":\n\t\t\t\t\tthis.startDate.x = SpaceText.LEFT_PADDING;\n\t\t\t\t\tthis.infoText.x = this.startDate.x + _loc2_;\n\t\t\t\t\tthis.endDate.x = this.infoText.x + _loc4_;\n\t\t\t\t\tthis.changeText.x = this.endDate.x + _loc3_;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tthis.changeText.x = Const.MOVIE_WIDTH - this.changeText.width - SpaceText.RIGHT_PADDING;\n\t\t\t\t\tthis.endDate.x = this.changeText.x - _loc3_;\n\t\t\t\t\tthis.infoText.x = this.endDate.x - _loc4_;\n\t\t\t\t\tthis.startDate.x = this.infoText.x - _loc2_;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (param1)\n\t\t\t{\n\t\t\t\tconst _loc5_ = Const.SPACE_HEIGHT / 2 - SpaceText.TEXT_HEIGHT / 2 + Const.INFO_TEXT_TOP_PADDING;\n\t\t\t\tthis.infoText.y = _loc5_;\n\t\t\t\tthis.changeText.y = _loc5_;\n\t\t\t\tthis.startDate.y = _loc5_;\n\t\t\t\tthis.endDate.y = _loc5_;\n\t\t\t}\n\t\t}\n\n\t\tprivate onMouseRollOutInfoText(mouseEvent: MouseEvent)\n\t\t{\n\t\t\tif (this.dateEntryState === SpaceText.EDIT_DATES)\n\t\t\t\treturn;\n\n\t\t\tthis.startDate.setHighlighted(false);\n\t\t\tthis.endDate.setHighlighted(false);\n\t\t}\n\n\t\tprivate positionComparisonInfoDots()\n\t\t{\n\t\t\tlet _loc1_ = NaN;\n\t\t\tif (Const.INFO_TEXT_ALIGN === \"right\")\n\t\t\t\t_loc1_ = this.stage.stageWidth;\n\t\t\telse if (Const.INFO_TEXT_ALIGN === \"left\")\n\t\t\t\t_loc1_ = SpaceText.LEFT_PADDING + SpaceText.INFO_DOT_PADDING;\n\n\t\t\tfor (const infoDot of this.infoDots)\n\t\t\t{\n\t\t\t\tinfoDot.y = Const.SPACE_HEIGHT - SpaceText.TEXT_HEIGHT / 2 + 3 + Const.INFO_TEXT_TOP_PADDING;\n\t\t\t\tif (Const.INFO_TEXT_ALIGN === \"right\")\n\t\t\t\t{\n\t\t\t\t\tinfoDot.x = _loc1_ - infoDot.width;\n\t\t\t\t\t_loc1_ -= infoDot.width - 3;\n\t\t\t\t}\n\t\t\t\telse if (Const.INFO_TEXT_ALIGN === \"left\")\n\t\t\t\t{\n\t\t\t\t\tinfoDot.x = _loc1_;\n\t\t\t\t\t_loc1_ += infoDot.width + 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate getSinglePointDateFormat(dataUnit: DataUnit): string\n\t\t{\n\t\t\tlet _loc2_ = \"MMM dd, yyyy\";\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\t_loc2_ = \"yyyy年M月d日\";\n\n\t\t\tif (dataUnit.dayMinute !== Const.MARKET_CLOSE_MINUTE)\n\t\t\t\t_loc2_ += \" HH:mm\";\n\n\t\t\treturn _loc2_;\n\t\t}\n\n\t\tprivate updateInfoText()\n\t\t{\n\t\t\tif (this.dateEntryState === SpaceText.EDIT_DATES)\n\t\t\t\treturn;\n\n\t\t\tif (this.datesText === \"\")\n\t\t\t{\n\t\t\t\tif (!this.startDate.date || !this.endDate.date)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.infoText.text = '-';\n\t\t\t\tthis.startDate.visible = true;\n\t\t\t\tthis.endDate.visible = true;\n\t\t\t\tthis.startDate.displayDateInLocalizedFormat();\n\t\t\t\tthis.endDate.displayDateInLocalizedFormat();\n\t\t\t\tif (this.returnText.length > 0)\n\t\t\t\t{\n\t\t\t\t\tlet _loc1_ = this.negativeTextFormat;\n\t\t\t\t\tif (this.returnText.indexOf('+') !== -1)\n\t\t\t\t\t\t_loc1_ = this.positiveTextFormat;\n\n\t\t\t\t\tif (this.changeText.getTextFormat() !== _loc1_)\n\t\t\t\t\t\tthis.changeText.defaultTextFormat = _loc1_;\n\t\t\t\t}\n\t\t\t\tthis.changeText.text = this.returnText;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.infoText.text = this.datesText;\n\t\t\t\tfor (const textFormat of this.datesTextFormats)\n\t\t\t\t\tthis.infoText.setTextFormat(textFormat.format, textFormat.start, textFormat.end);\n\n\t\t\t\tthis.changeText.text = \"\";\n\t\t\t\tthis.startDate.visible = false;\n\t\t\t\tthis.endDate.visible = false;\n\t\t\t}\n\t\t\tthis.positionInfoText(false);\n\t\t}\n\n\t\tisDateFieldClicked(mouseEvent: MouseEvent): boolean\n\t\t{\n\t\t\treturn mouseEvent.target === this.startDate.element || mouseEvent.target === this.endDate.element;\n\t\t}\n\n\t\tprivate setComparisonInfo(state: Dictionary)\n\t\t{\n\t\t\tconst infos = state[SpaceText.POINTS_STR];\n\t\t\tthis.returnText = \"\";\n\t\t\tthis.updateInfoText();\n\t\t\tthis.clearComparisonInfo();\n\t\t\tfor (let infoIndex = infos.length - 1; infoIndex >= 0; infoIndex--)\n\t\t\t{\n\t\t\t\tconst infoDot = new InfoDot();\n\t\t\t\tthis.addChild(infoDot);\n\t\t\t\tinfoDot.setInfo(infos[infoIndex]);\n\t\t\t\tthis.infoDots.push(infoDot);\n\t\t\t}\n\t\t\tthis.positionComparisonInfoDots();\n\t\t}\n\n\t\tprivate onMouseClickDateField(mouseEvent: MouseEvent)\n\t\t{\n\t\t\tif (this.dateEntryState === SpaceText.EDIT_DATES)\n\t\t\t\treturn;\n\t\t\tthis.setDateEntryState(SpaceText.EDIT_DATES);\n\t\t\tthis.startDate.type = flash.text.TextFieldType.INPUT;\n\t\t\tthis.startDate.displayDateInParseableFormat();\n\t\t\tthis.endDate.type = flash.text.TextFieldType.INPUT;\n\t\t\tthis.endDate.displayDateInParseableFormat();\n\t\t\t//param1.target.setSelection(0, 10);\t// TODO\n\t\t\t(<HTMLInputElement>mouseEvent.target).setSelectionRange(0, 10);\n\t\t\tthis.positionInfoText();\n\t\t}\n\n\t\tsetContextualStaticInfo(state: Dictionary)\n\t\t{\n\t\t\tif (!state[SpaceText.SETTER_STR])\n\t\t\t\treturn;\n\n\t\t\tif (state[SpaceText.POINTS_STR])\n\t\t\t{\n\t\t\t\tthis.returnText = \"\";\n\t\t\t\tthis.setTimePeriod(state[SpaceText.SETTER_STR].viewPoint);\n\t\t\t\tthis.setComparisonInfo(state);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.setTimePeriod(state[SpaceText.SETTER_STR].viewPoint);\n\t\t\t\tthis.setReturnInfo(state[SpaceText.SETTER_STR].viewPoint);\n\t\t\t}\n\t\t}\n\n\t\tneedToAnimate(): boolean\n\t\t{\n\t\t\tif (!this.endDate.parsedDate)\n\t\t\t\treturn false;\n\t\t\t// TODO: !this.startDate.parsedDate ?\n\t\t\treturn (Utils.compareUtcDates(this.endDate.date, this.endDate.parsedDate) !== 0 || Utils.compareUtcDates(this.startDate.date, notnull(this.startDate.parsedDate)) !== 0) && Utils.compareUtcDates(notnull(this.startDate.parsedDate), this.endDate.parsedDate) <= 0;\n\t\t}\n\n\t\tresetInfoText()\n\t\t{\n\t\t\tif (this.dateEntryState === SpaceText.DISPLAY_DATES)\n\t\t\t\treturn;\n\n\t\t\tthis.setDateEntryState(SpaceText.DISPLAY_DATES);\n\t\t\tthis.updateInfoText();\n\t\t}\n\n\t\tprivate getReturnText(unit1: DataUnit | null, unit2: DataUnit | null, unit3: DataSource | null): string\n\t\t{\n\t\t\tif (!unit1 || !unit2)\n\t\t\t\treturn \"\";\n\n\t\t\tlet text = \"\";\n\t\t\tlet rise = unit2.close - unit1.close;\n\t\t\tconst _loc6_ = Math.round(rise / unit1.close * 10000) / 100;\n\t\t\tif (rise > 0)\n\t\t\t\ttext += '+';\n\n\t\t\tif (unit3 && unit3.tickerName && unit3.tickerName.indexOf(\"CURRENCY:\") === 0)\n\t\t\t\trise = Math.round(rise * 100000) / 100000;\n\t\t\telse\n\t\t\t\trise = Math.round(rise * 100) / 100;\n\n\t\t\ttext += rise + \" (\" + _loc6_ + \"%)\";\n\t\t\treturn text;\n\t\t}\n\n\t\tsetTimePeriod(dataUnitContainer: IDataUnitContainer)\n\t\t{\n\t\t\tlet firstDataUnit = dataUnitContainer.getFirstDataUnit();\n\t\t\tlet lastDataUnit = dataUnitContainer.getLastDataUnit();\n\t\t\tif (!firstDataUnit || !lastDataUnit)\n\t\t\t\treturn;\n\n\t\t\tif (lastDataUnit.time < firstDataUnit.time)\n\t\t\t{\n\t\t\t\tconst tmp = lastDataUnit;\n\t\t\t\tlastDataUnit = firstDataUnit;\n\t\t\t\tfirstDataUnit = tmp;\n\t\t\t}\n\t\t\tthis.datesText = \"\";\n\t\t\tthis.datesTextFormats = [];\n\t\t\tthis.startDate.date = firstDataUnit.exchangeDateInUTC;\n\t\t\tthis.endDate.date = lastDataUnit.exchangeDateInUTC;\n\t\t\tthis.updateInfoText();\n\t\t}\n\n\t\tprivate newDateTextField(x: number, y: number, tabIndex: number): DateTextField\n\t\t{\n\t\t\tconst dateTextField = new DateTextField();\n\t\t\tdateTextField.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tdateTextField.backgroundColor = Const.DATE_HIGHLIGHTED_BACKGROUND_COLOR;\n\t\t\tdateTextField.border = Boolean(Const.ENABLE_CUSTOM_DATE_ENTRY);\n\t\t\tdateTextField.defaultTextFormat = this.blackText;\n\t\t\tdateTextField.focusRect = dateTextField;\n\t\t\tdateTextField.mouseEnabled = Boolean(Const.ENABLE_CUSTOM_DATE_ENTRY);\n\t\t\tdateTextField.selectable = Boolean(Const.ENABLE_CUSTOM_DATE_ENTRY);\n\t\t\tdateTextField.tabEnabled = Boolean(Const.ENABLE_CUSTOM_DATE_ENTRY);\n\t\t\tdateTextField.tabIndex = tabIndex;\n\t\t\tdateTextField.x = x;\n\t\t\tdateTextField.y = y;\n\t\t\treturn dateTextField;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextField;\n\texport class SparklineDateLinesLayer extends AbstractLayer<SparklineViewPoint>\n\t{\n\t\tprivate static readonly MIN_YEAR_WIDTH = 50;\n\t\tprivate static readonly DATE_LINES_COLOR = 13426124;\n\t\tprivate static readonly SHORT_YEAR_LINE_HEIGHT = 5;\n\n\t\ttickPosition = TickPositions.TOP;\n\n\t\tprivate drawQuarterStarts(sprite: flash.display.Sprite)\n\t\t{\n\t\t\tconst data = this.dataSource.data;\n\t\t\tif (!data.units || data.firsts.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst maxx = viewPoint.maxx;\n\t\t\tconst maxy = viewPoint.maxy;\n\t\t\tconst minx = viewPoint.minx;\n\t\t\tlet _loc7_ = minx + 1;\n\t\t\tconst gr = sprite.graphics;\n\t\t\tfor (let index = data.firsts.length - 1; _loc7_ > minx && index >= 0; index--)\n\t\t\t{\n\t\t\t\tconst unit = data.units[data.firsts[index]];\n\t\t\t\tif (unit.exchangeDateInUTC.getUTCMonth() % 3 === 0)\n\t\t\t\t{\n\t\t\t\t\t_loc7_ = viewPoint.getXPos(maxx, minx, unit);\n\t\t\t\t\tgr.lineStyle(0, SparklineDateLinesLayer.DATE_LINES_COLOR, 1);\n\t\t\t\t\tgr.moveTo(_loc7_, maxy);\n\t\t\t\t\tgr.lineTo(_loc7_, maxy - 4);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate drawYearStarts(sprite: flash.display.Sprite)\n\t\t{\n\t\t\tconst data = this.dataSource.data;\n\t\t\tif (!data.units || data.years.length === 0)\n\t\t\t\treturn;\n\n\t\t\tlet _loc3_ = 1;\n\t\t\tif (this.getOneYearWidth() < SparklineDateLinesLayer.MIN_YEAR_WIDTH)\n\t\t\t\t_loc3_ = 5;\n\n\t\t\tconst gr = sprite.graphics;\n\t\t\tgr.lineStyle(0, SparklineDateLinesLayer.DATE_LINES_COLOR, 1);\n\t\t\tlet yearIndex = data.years.length - 1;\n\t\t\tconst sparklineViewPoint = this.viewPoint as SparklineViewPoint;\n\t\t\tconst maxx = sparklineViewPoint.maxx;\n\t\t\tconst minx = sparklineViewPoint.minx;\n\t\t\tconst maxy = sparklineViewPoint.maxy;\n\t\t\tconst miny = sparklineViewPoint.miny;\n\t\t\tlet unitXPos: number;\n\n\t\t\tlet numTextFields = 0;\n\t\t\tdo\n\t\t\t{\n\t\t\t\tconst unit = data.units[data.years[yearIndex]];\n\t\t\t\tunitXPos = sparklineViewPoint.getXPos(maxx, minx, unit);\n\t\t\t\tconst exchangeDateInUTC = unit.exchangeDateInUTC;\n\t\t\t\tif (exchangeDateInUTC.getUTCFullYear() % _loc3_ === 0)\n\t\t\t\t{\n\t\t\t\t\tgr.moveTo(unitXPos, miny);\n\t\t\t\t\tgr.lineTo(unitXPos, maxy);\n\t\t\t\t\tconst x = unitXPos + ViewPoint.TEXT_HORIZONTAL_OFFSET;\n\t\t\t\t\tconst y = maxy - 15;\n\n\t\t\t\t\tlet textField: flash.text.TextField;\n\n\t\t\t\t\tif (numTextFields >= sprite.numChildren)\n\t\t\t\t\t{\n\t\t\t\t\t\ttextField = new flash.text.TextField();\n\t\t\t\t\t\ttextField.autoSize = \"left\";\n\t\t\t\t\t\ttextField.selectable = false;\n\t\t\t\t\t\tsprite.addChild(textField);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ttextField = sprite.getChildAt(numTextFields) as flash.text.TextField;\n\t\t\t\t\t}\n\t\t\t\t\tnumTextFields++;\n\n\t\t\t\t\ttextField.x = x;\n\t\t\t\t\ttextField.y = y;\n\t\t\t\t\ttextField.defaultTextFormat = sparklineViewPoint.dateTextFormat;\n\t\t\t\t\ttextField.text = \"\" + exchangeDateInUTC.getUTCFullYear();\n\t\t\t\t\tconst width = textField.width;\n\t\t\t\t\tconst height = textField.height;\n\t\t\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\t\t\tgr.moveTo(x + 2, y + 2);\n\t\t\t\t\tgr.beginFill(0xffffff, 80);\n\t\t\t\t\tgr.lineTo(x + 2, y + height - 2);\n\t\t\t\t\tgr.lineTo(x + width - 2, y + height - 2);\n\t\t\t\t\tgr.lineTo(x + width - 2, y + 2);\n\t\t\t\t\tgr.endFill();\n\t\t\t\t\tgr.lineStyle(0, SparklineDateLinesLayer.DATE_LINES_COLOR, 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tgr.moveTo(unitXPos, maxy - SparklineDateLinesLayer.SHORT_YEAR_LINE_HEIGHT);\n\t\t\t\t\tgr.lineTo(unitXPos, maxy);\n\t\t\t\t}\n\t\t\t\tyearIndex--;\n\t\t\t}\n\t\t\twhile (unitXPos > this.viewPoint.minx && yearIndex >= 0);\n\n\t\t\twhile (sprite.numChildren > numTextFields)\n\t\t\t\tsprite.removeChildAt(numTextFields);\n\t\t}\n\n\t\tprivate drawVerticalLines()\n\t\t{\n\t\t\tthis.textCanvas.graphics.clear();\n\t\t\tUtils.removeAllChildren(this.textCanvas);\n\t\t\tthis.drawYearStarts(this.textCanvas);\n\t\t\tif (this.getOneYearWidth() > SparklineDateLinesLayer.MIN_YEAR_WIDTH)\n\t\t\t\tthis.drawQuarterStarts(this.textCanvas);\n\t\t}\n\n\t\tprivate getOneYearWidth(): number\n\t\t{\n\t\t\tconst data = this.dataSource.data;\n\t\t\tif (data.years.length > 1)\n\t\t\t{\n\t\t\t\tconst units = data.units;\n\t\t\t\tconst yearIndex = data.years.length - 1;\n\t\t\t\tconst duration = units[data.years[yearIndex]].relativeMinutes - units[data.years[yearIndex - 1]].relativeMinutes;\n\t\t\t\treturn this.viewPoint.getIntervalLength(duration);\n\t\t\t}\n\t\t\treturn 250 * data.marketDayLength;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.drawVerticalLines();\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.geom.Point;\n\n\texport class SparklineLayer extends AbstractLayer<SparklineViewPoint>\n\t{\n\t\t//private realLIndex: number;\n\t\t//private realRIndex: number;\n\n\t\tborderColor = 11184810;\n\t\thasShadow: boolean;\n\t\tbgColor: number;\n\t\tfillColor: number;\n\t\thasBackground: boolean;\n\n\t\tprivate minPriceLog: number;\n\t\tprivate maxPriceLog: number;\n\n\t\tconstructor(viewPoint: SparklineViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.lineColor = Const.LINE_CHART_LINE_COLOR;\n\t\t}\n\n\t\tprivate getYPos(param1: number, param2: number, dataUnit: DataUnit): number\n\t\t{\n\t\t\tlet _loc4_ = Number(this.maxPriceLog - this.minPriceLog);\n\t\t\tif (_loc4_ === 0)\n\t\t\t\t_loc4_ = 0.01;\n\n\t\t\treturn param1 - 2 - (this.LogPreserveSign(dataUnit.close) - this.minPriceLog) * (param1 - param2 - 5) / _loc4_;\n\t\t}\n\n\t\tprivate drawBackground(param1: boolean)\n\t\t{\n\t\t\tconst sparklineViewPoint = <SparklineViewPoint><any>this.viewPoint;\n\t\t\tif (this.hasBackground)\n\t\t\t{\n\t\t\t\tconst gr = this.graphics;\n\t\t\t\tif (param1)\n\t\t\t\t\tgr.beginFill(this.bgColor, 1);\n\n\t\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\t\tlet firstRelativeMinuteXPos = sparklineViewPoint.getMinuteXPos(dataSeries.getFirstRelativeMinute());\n\t\t\t\tlet lastRelativeMinuteXPos = sparklineViewPoint.getMinuteXPos(dataSeries.getLastRelativeMinute());\n\t\t\t\tif (firstRelativeMinuteXPos < sparklineViewPoint.my_minx)\n\t\t\t\t\tfirstRelativeMinuteXPos = sparklineViewPoint.my_minx;\n\n\t\t\t\tif (lastRelativeMinuteXPos > sparklineViewPoint.my_maxx)\n\t\t\t\t\tlastRelativeMinuteXPos = sparklineViewPoint.my_maxx;\n\n\t\t\t\tgr.lineStyle(0, this.borderColor, 1);\n\t\t\t\tgr.drawRect(\n\t\t\t\t\tfirstRelativeMinuteXPos, sparklineViewPoint.my_miny - 1,\n\t\t\t\t\tlastRelativeMinuteXPos - firstRelativeMinuteXPos - 1, sparklineViewPoint.my_maxy - sparklineViewPoint.my_miny\n\t\t\t\t);\n\t\t\t\t/*\n\t\t\t\tgr.moveTo(_loc4_, _loc2_.my_miny - 1);\n\t\t\t\tgr.lineTo(_loc4_, _loc2_.my_maxy - 1);\n\t\t\t\tgr.lineTo(_loc5_ - 1, _loc2_.my_maxy - 1);\n\t\t\t\tgr.lineTo(_loc5_ - 1, _loc2_.my_miny - 1);\n\t\t\t\t*/\n\t\t\t\tif (param1)\n\t\t\t\t\tgr.endFill();\n\t\t\t}\n\t\t}\n\n\t\tprivate drawLine(sprite: flash.display.Sprite, param2: number, unitIndex: number, sparklineViewPoint: SparklineViewPoint, param5: number[]): number\n\t\t{\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tconst units = dataSeries.units;\n\t\t\t//const _loc10_ = _loc8_.days;\n\t\t\t//const _loc11_ = param3;\n\t\t\tconst skipInterval = this.getSkipInterval(param5, dataSeries.units);\n\t\t\tlet _loc13_ = param5.length - 1;\n\t\t\twhile (_loc13_ >= 0 && param5[_loc13_] > unitIndex)\n\t\t\t\t_loc13_ -= skipInterval;\n\n\t\t\t_loc13_ = Math.min(_loc13_ + skipInterval, param5.length - 1);\n\t\t\tconst maxy = sparklineViewPoint.maxy;\n\t\t\tconst miny = sparklineViewPoint.miny;\n\t\t\tconst maxx = sparklineViewPoint.maxx;\n\t\t\tconst minx = sparklineViewPoint.minx;\n\t\t\tconst xPos = sparklineViewPoint.getXPos(maxx, minx, units[unitIndex]);\n\t\t\tconst yPos = this.getYPos(maxy, miny, units[unitIndex]);\n\t\t\tconst gr = sprite.graphics;\n\t\t\tgr.moveTo(xPos, sparklineViewPoint.maxy);\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tgr.lineTo(xPos, yPos);\n\t\t\tgr.lineStyle(Const.LINE_CHART_LINE_THICKNESS, this.lineColor, Const.LINE_CHART_LINE_VISIBILITY);\n\t\t\twhile (_loc13_ >= 0 && param5[_loc13_] >= param2)\n\t\t\t{\n\t\t\t\tgr.lineTo(\n\t\t\t\t\tsparklineViewPoint.getXPos(maxx, minx, units[param5[_loc13_]]),\n\t\t\t\t\tthis.getYPos(maxy, miny, units[param5[_loc13_]]));\n\t\t\t\t_loc13_ -= skipInterval;\n\t\t\t}\n\t\t\tif (_loc13_ >= 0)\n\t\t\t{\n\t\t\t\tgr.lineTo(\n\t\t\t\t\tsparklineViewPoint.getXPos(maxx, minx, units[param5[_loc13_]]),\n\t\t\t\t\tthis.getYPos(maxy, miny, units[param5[_loc13_]]));\n\t\t\t}\n\t\t\tlet xPos4 = sparklineViewPoint.getXPos(maxx, minx, units[param2]);\n\t\t\tgr.lineTo(xPos4, this.getYPos(maxy, miny, units[param2]));\n\t\t\treturn xPos4;\n\t\t}\n\n\t\trenderLayer(context?: Context)\n\t\t{\n\t\t\tconst sparklineViewPoint = <SparklineViewPoint><any>this.viewPoint;\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tif (dataSeries.units.length === 0)\n\t\t\t\treturn;\n\n\t\t\tlet _loc4_ = dataSeries.fridays;\n\t\t\tif (sparklineViewPoint.sparkCount <= 20 * dataSeries.marketDayLength)\n\t\t\t\t_loc4_ = dataSeries.days;\n\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tthis.drawBackground(true);\n\t\t\tgr.beginFill(this.fillColor, 1);\n\t\t\tlet sparkLastMinuteIndex = dataSeries.getRelativeMinuteIndex(sparklineViewPoint.getSparkLastMinute() + sparklineViewPoint.sparkButtonMinutes) + 1;\n\t\t\tlet sparkFirstMinuteIndex = dataSeries.getRelativeMinuteIndex(sparklineViewPoint.getSparkFirstMinute() - sparklineViewPoint.sparkButtonMinutes);\n\t\t\tsparkLastMinuteIndex = Math.min(sparkLastMinuteIndex, dataSeries.units.length - 1);\n\t\t\tsparkFirstMinuteIndex = Math.max(sparkFirstMinuteIndex, 0);\n\t\t\tthis.getMaxRange(sparkFirstMinuteIndex, sparkLastMinuteIndex, _loc4_);\n\t\t\tconst _loc7_ = this.drawLine(this, sparkFirstMinuteIndex, sparkLastMinuteIndex, sparklineViewPoint, _loc4_);\n\t\t\tgr.lineStyle(0, 0, 0);\n\t\t\tconst point = new flash.display.Point(_loc7_, sparklineViewPoint.my_maxy);\n\t\t\t//this.globalToLocal(_loc8_);\t// TODO: ?\n\t\t\tgr.lineTo(point.x, point.y);\n\t\t\tgr.endFill();\n\t\t\tthis.drawBackground(false);\n\t\t}\n\n\t\tprivate checkMinMax(param1: number)\n\t\t{\n\t\t\tconst _loc2_ = this.LogPreserveSign(param1);\n\t\t\tif (_loc2_ < this.minPriceLog)\n\t\t\t\tthis.minPriceLog = _loc2_;\n\t\t\telse if (_loc2_ > this.maxPriceLog)\n\t\t\t\tthis.maxPriceLog = _loc2_;\n\t\t}\n\n\t\tprivate LogPreserveSign(param1: number): number\n\t\t{\n\t\t\tif (param1 > 0)\n\t\t\t\treturn Math.log(param1);\n\n\t\t\tif (param1 < 0)\n\t\t\t\treturn -Math.log(-param1);\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tprivate getMaxRange(param1: number, param2: number, param3: number[])\n\t\t{\n\t\t\tconst dataSeries = notnull(this.getDataSeries());\n\t\t\tconst units = dataSeries.units;\n\t\t\t//const _loc6_ = param2;\n\t\t\tthis.minPriceLog = Number.POSITIVE_INFINITY;\n\t\t\tthis.maxPriceLog = Number.NEGATIVE_INFINITY;\n\t\t\tlet _loc7_ = param3.length - 1;\n\t\t\twhile (_loc7_ >= 0 && param3[_loc7_] > param2)\n\t\t\t\t_loc7_--;\n\n\t\t\t_loc7_ = Math.min(_loc7_ + 1, param3.length - 1);\n\t\t\twhile (_loc7_ >= 0 && param3[_loc7_] >= param1)\n\t\t\t{\n\t\t\t\tthis.checkMinMax(units[param3[_loc7_]].close);\n\t\t\t\t_loc7_--;\n\t\t\t}\n\t\t\tthis.checkMinMax(units[param2].close);\n\t\t\tthis.checkMinMax(units[param1].close);\n\t\t}\n\n\t\tprivate getSkipInterval(param1: number[], dataUnits: DataUnit[]): number\n\t\t{\n\t\t\tif (param1.length < 2 || dataUnits.length < 2)\n\t\t\t\treturn 1;\n\n\t\t\tconst _loc3_ = param1.length - 1;\n\t\t\tconst _loc4_ = dataUnits[param1[_loc3_]].relativeMinutes - dataUnits[param1[_loc3_ - 1]].relativeMinutes;\n\t\t\tconst intervalLength = this.viewPoint.getIntervalLength(_loc4_);\n\t\t\tif (intervalLength === 0)\n\t\t\t\treturn 1;\n\n\t\t\tlet _loc6_ = 1;\n\t\t\twhile (_loc6_ * intervalLength < this.viewPoint.POINTS_DISTANCE)\n\t\t\t\t_loc6_ = Number(_loc6_ * 2);\n\n\t\t\treturn _loc6_;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextField;\n\t// import flash.text.TextFormat;\n\t// import flash.text.TextFieldAutoSize;\n\t// import flash.utils.getDefinitionByName;\n\t// import flash.text.TextFormatAlign;\n\n\texport interface ViewPointState\n\t{\n\t\tcount: number;\n\t\tlastMinute: number;\n\t}\n\n\texport class SkipInterval\n\t{\n\t\tconstructor(public readonly skip: number, public readonly interval: number) { }\n\t}\n\n\texport class EventCallback\n\t{\n\t\tconstructor(public readonly func: (p1: any) => void, public readonly param: any) { }\n\t}\n\n\texport interface IDataUnitContainer\n\t{\n\t\tgetFirstDataUnit(): DataUnit | null;\n\t\tgetLastDataUnit(dataSeries?: DataSeries): DataUnit | null;\n\t}\n\n\texport abstract class IViewPoint\n\t\textends flash.display.Sprite\n\t\timplements IDataUnitContainer\n\t{\n\t\tname: string;\n\n\t\tconstructor(protected readonly displayManager: DisplayManager)\n\t\t{\n\t\t\tsuper();\n\t\t}\n\n\t\tprotected textCanvas: flash.display.Sprite;\n\t\tprotected windowMask: flash.display.Sprite;\n\t\tbg: flash.display.Sprite;\n\t\tdateTextFormat: flash.text.TextFormat;\n\n\t\tminx: number;\n\t\tminy: number;\n\t\tmaxx: number;\n\t\tmaxy: number;\n\n\t\thourTextFormat: flash.text.TextFormat;\n\t\tlastMinute: number;\n\n\t\tpriceTextFormat: flash.text.TextFormat;\n\n\t\tminutesOffset = 0;\n\n\t\tcount: number;\n\n\t\tminutePix: number;\n\n\t\tabstract getNewContext(lastMinute: number, count: number): Context;\n\n\t\tabstract highlightPoint(x: number, state: Dictionary): void;\n\t\tabstract getMinuteOfX(x: number): number;\n\n\t\tabstract getIntervalLength(param1: number): number;\n\n\t\tabstract getLayers(): AbstractLayer<IViewPoint>[];\n\t\tabstract update(): void;\n\t\tabstract removeAllLayers(): void;\n\n\t\tabstract addLayer(param1: string, dataSource: DataSource, param3: string): AbstractLayer<IViewPoint> | null;\n\t\tabstract clearPointInformation(): void;\n\n\t\tabstract getFirstMinute(): number;\n\t\tabstract getLastMinute(): number;\n\n\t\tabstract getFirstDataUnit(): DataUnit | null;\n\t\tabstract getLastDataUnit(dataSeries: DataSeries): DataUnit | null;\n\n\t\tabstract getLastNotVisibleDataUnit(): DataUnit | null;\n\n\t\tabstract getMinuteXPos(param1: number): number;\n\n\t\tabstract HTMLnotify(param1?: boolean): void;\n\n\t\tabstract isAnimating(): boolean;\n\n\t\tmyController: Controller;\n\n\t\tabstract precomputeContexts(): void;\n\n\t\tabstract renderLayers(): void;\n\n\t\tabstract setNewCount(param1: number, param2?: boolean): void;\n\n\t\tabstract setNewSize(bounds: Bounds): void;\n\n\t\tabstract zoomIn_Handler(p1: number, p2: number): void;\n\t\tabstract zoomingAnimation_ticker(viewPoint: IViewPoint, param2: number, param3: boolean): void;\n\t\tabstract zoomChart_Handler(direction: Directions, p2: number): void;\n\t\tabstract moveChartBy_Handler(p1: number): void;\n\t\tabstract commitOffset_Handler(): void;\n\t\tabstract zoomInMinutes_Handler(p1: Context, p2: boolean): void;\n\t\tabstract zoomingAnimation_init(p1: Context): void;\n\t\tabstract newFinalAnimationState(viewPointState: ViewPointState): void;\n\t}\n\n\texport class ViewPoint\n\t\textends IViewPoint\n\t{\n\t\tstatic readonly MIN_DISTANCE_BETWEEN_V_LINES = 100;\n\t\tstatic readonly GRID_TEXT_VERTICAL_OFFSET = 3;\n\t\tstatic readonly TICK_SIZE_SMALL = 3;\n\t\tstatic readonly TICK_SIZE_BIG = 5;\n\t\tstatic readonly TICK_SIZE_NONE = 0;\n\t\tstatic readonly BORDER_LIGHT_COLOR = 0xdddddd;\n\t\tstatic readonly TEXT_VERTICAL_OFFSET = 0;\n\t\tstatic readonly BORDER_DARK_COLOR = 0xcccccc;\n\t\tstatic readonly TEXT_FIELD_WIDTH = 200;\n\t\tstatic readonly MIN_DISTANCE_BETWEEN_H_LINES = 60;\n\t\tstatic readonly TEXT_HORIZONTAL_OFFSET = 2;\n\t\tstatic readonly TEXT_FIELD_HEIGHT = 16;\n\t\tstatic readonly MAX_EDGE_DISTANCE = 25;\n\t\tstatic readonly MIN_DISTANCE_BETWEEN_LOG_H_LINES = 12;\n\t\tstatic readonly MIN_EDGE_DISTANCE = 20;\n\n\t\tprivate static readonly MIN_ZOOM_CHART_AMOUNT = 6;\n\n\t\t//private layersManager: LayersManager;\n\t\t//private xOffset = 0;\n\t\tprivate topCanvas = new flash.display.Sprite(\"topCanvas\");\n\t\tprivate lastNotifyMinute = 0;\n\t\tprivate firstNotifyMinute = 0;\n\t\tprivate unitsPerUnit = 3;\n\n\t\tprotected priceSkip: number;\n\t\tprotected zoomingInitialState: Context;\n\t\tprotected countOffset: number;\n\t\tprotected myLabel: flash.text.TextField;\n\t\tprotected forcedLayersContext: Context;\n\t\tprotected descriptiveLayers: AbstractLayer<ViewPoint>[] = [];\n\t\tprotected drawingLayers: AbstractDrawingLayer<ViewPoint>[] = [];\n\t\tprotected zoomingFinalState: Context | null;\n\n\t\treadonly POINTS_DISTANCE = 1.5;\n\t\treadonly V_OFFSET = 2;\n\n\t\tlayersContext: Context;\n\t\tmedPriceY = 0;\n\t\tbottomTextHeight = 0;\n\t\tmaxPriceRangeViewSize: number;\n\t\ttopMargin: number;\n\n\t\tdisplay: string;\n\n\t\tconstructor(displayManager: DisplayManager)\n\t\t{\n\t\t\tsuper(displayManager);\n\n\t\t\tthis.bg = new flash.display.Sprite(\"bg\");\n\t\t\tthis.addChild(this.bg);\n\t\t\tthis.textCanvas = new flash.display.Sprite(\"textCanvas\");\n\t\t\tthis.addChild(this.textCanvas);\n\t\t\tthis.addChild(this.topCanvas);\n\t\t\tthis.dateTextFormat = new flash.text.TextFormat(\"Verdana\", 9, 0);\n\t\t\tthis.hourTextFormat = new flash.text.TextFormat(\"Verdana\", 9, 0);\n\t\t\tthis.priceTextFormat = new flash.text.TextFormat(\"Verdana\", 10, 0);\n\t\t\tthis.priceTextFormat.align = flash.text.TextFormatAlign.RIGHT;\n\t\t\tthis.medPriceY = (this.maxy - this.miny) / 2;\n\t\t\tthis.maxPriceRangeViewSize = this.maxy - this.miny - ViewPoint.MIN_EDGE_DISTANCE - ViewPoint.MAX_EDGE_DISTANCE;\n\t\t\tthis.lastMinute = 0;\n\t\t}\n\n\t\tstatic sessionVisible(unit1: DataUnit, unit2: DataUnit, context: Context): boolean\n\t\t{\n\t\t\tconst lastMinute = context.lastMinute;\n\t\t\tconst _loc5_ = context.lastMinute - context.count;\n\t\t\tif (unit1 && unit1.relativeMinutes >= _loc5_ && unit1.relativeMinutes <= lastMinute)\n\t\t\t\treturn true;\n\n\t\t\tif (unit2 && unit2.relativeMinutes >= _loc5_ && unit2.relativeMinutes <= lastMinute)\n\t\t\t\treturn true;\n\n\t\t\tif (unit1.relativeMinutes <= _loc5_ && unit2.relativeMinutes >= lastMinute)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t}\n\n\t\tgetIntervalLength(interval: number): number\n\t\t{\n\t\t\treturn interval * (this.maxx - this.minx) / this.count;\n\t\t}\n\n\t\tgetBaseDataSource(): DataSource | null\n\t\t{\n\t\t\tif (this.myController)\n\t\t\t{\n\t\t\t\tconst layersManager = this.myController.mainManager.layersManager;\n\t\t\t\tif (layersManager)\n\t\t\t\t\treturn layersManager.getFirstDataSource();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tprivate clearTextCanvas()\n\t\t{\n\t\t\tUtils.removeAllChildren(this.textCanvas);\n\t\t}\n\n\t\tadjustBarChartContext(context: Context, detailLevel: Intervals)\n\t\t{\n\t\t\tlet count = context.count;\n\t\t\tlet lastMinute = context.lastMinute;\n\t\t\tconst maxCount = (this.getMarketDayLength() + 1) * Const.INTERVAL_PERIODS[detailLevel].maxdays;\n\t\t\tconst minCount = (this.getMarketDayLength() + 1) * Const.INTERVAL_PERIODS[detailLevel].mindays;\n\t\t\tif (count > maxCount)\n\t\t\t\tcount = maxCount;\n\t\t\telse if (count < minCount)\n\t\t\t\tcount = minCount;\n\n\t\t\tconst baseDataSource = this.getBaseDataSource();\n\t\t\tif (baseDataSource)\n\t\t\t{\n\t\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\t\tconst points = baseDataSource.data.getPointsInIntervalArray(detailLevelInterval);\n\t\t\t\tif (points && points.length > 0)\n\t\t\t\t{\n\t\t\t\t\tconst _loc5_ = lastMinute - Math.max(baseDataSource.firstOpenRelativeMinutes, points[0].relativeMinutes);\n\t\t\t\t\tif (_loc5_ < minCount)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount = minCount;\n\t\t\t\t\t\tlastMinute += minCount - _loc5_;\n\t\t\t\t\t}\n\t\t\t\t\telse if (count > _loc5_)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount = _loc5_;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (count !== context.count)\n\t\t\t\treturn this.getNewContext(lastMinute, count);\n\n\t\t\treturn context;\n\t\t}\n\n\t\tprivate trySnapping()\n\t\t{\n\t\t\tif (!Boolean(MainManager.paramsObj.snapping))\n\t\t\t\treturn;\n\n\t\t\tconst dataSource = this.getBaseDataSource();\n\t\t\tif (!dataSource)\n\t\t\t\treturn;\n\n\t\t\t//const _loc1_ = dataSource.data;\n\t\t\tconst snapLevel = this.getSnapLevel();\n\t\t\tconst point = this.getClosestPoint(this.getLastMinute(), snapLevel);\n\t\t\tconst intervalLength = this.getIntervalLength(Math.abs(point.relativeMinutes - this.getLastMinute()));\n\t\t\tif (intervalLength < 15)\n\t\t\t\tthis.minutesOffset += point.relativeMinutes - this.getLastMinute();\n\t\t}\n\n\t\tgetIntervalForLength(param1: { count: number }, param2: number): number\n\t\t{\n\t\t\treturn param2 * param1.count / (this.maxx - this.minx);\n\t\t}\n\n\t\tremoveAllLayers()\n\t\t{\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t\tthis.removeChild(layer);\n\n\t\t\tfor (const layer of this.descriptiveLayers)\n\t\t\t\tthis.removeChild(layer);\n\n\t\t\tthis.drawingLayers = [];\n\t\t\tthis.descriptiveLayers = [];\n\t\t}\n\n\t\tprotected getQuoteType(): QuoteTypes\n\t\t{\n\t\t\tif (this.myController)\n\t\t\t\treturn this.myController.mainManager.getQuoteType();\n\n\t\t\treturn QuoteTypes.COMPANY;\n\t\t}\n\n\t\tgetSnapLevel(): number\n\t\t{\n\t\t\tconst baseDataSource = notnull(this.getBaseDataSource()).data;\n\t\t\tconst width = this.minutePix * baseDataSource.marketDayLength;\n\t\t\tif (width > 40)\n\t\t\t\treturn Snaps.SNAP_DAY;\n\n\t\t\tif (width > 15)\n\t\t\t\treturn Snaps.SNAP_WEEK;\n\n\t\t\tif (width * 20 > 40)\n\t\t\t\treturn Snaps.SNAP_MONTH;\n\n\t\t\treturn Snaps.SNAP_YEAR;\n\t\t}\n\n\t\tstatic addTextField(sprite: flash.display.Sprite, text: string, x: number, y: number, width: number, height: number, align: string, textFormat: flash.text.TextFormat, autoSize?: string): flash.text.TextField\n\t\t{\n\t\t\t//if (!param2)\n\t\t\t//\treturn null;\n\t\t\tconst textField = new flash.text.TextField();\n\t\t\ttextField.x = x;\n\t\t\ttextField.y = y;\n\t\t\ttextField.width = width;\n\t\t\ttextField.height = height;\n\t\t\ttextFormat.align = align;\n\t\t\ttextField.defaultTextFormat = textFormat;\n\t\t\ttextField.selectable = false;\n\t\t\tif (align === \"center\")\n\t\t\t{\n\t\t\t\ttextField.x = x + width / 2;\n\t\t\t\ttextField.width = 0;\n\t\t\t\ttextField.autoSize = flash.text.TextFieldAutoSize.CENTER;\n\t\t\t}\n\t\t\tif (autoSize)\n\t\t\t\ttextField.autoSize = autoSize;\n\n\t\t\ttextField.text = text;\n\t\t\tsprite.addChild(textField);\n\t\t\treturn textField;\n\t\t}\n\n\t\tremoveLayer(layerId: string, dataSource?: DataSource)\n\t\t{\n\t\t\tlet layerIndex = this.getLayerIndex(layerId, this.drawingLayers, dataSource);\n\t\t\tif (layerIndex !== -1)\n\t\t\t{\n\t\t\t\tthis.removeChild(this.drawingLayers[layerIndex]);\n\t\t\t\tthis.drawingLayers.splice(layerIndex, 1);\n\t\t\t}\n\t\t\tlayerIndex = this.getLayerIndex(layerId, this.descriptiveLayers, dataSource);\n\t\t\tif (layerIndex !== -1)\n\t\t\t{\n\t\t\t\tthis.removeChild(this.descriptiveLayers[layerIndex]);\n\t\t\t\tthis.descriptiveLayers.splice(layerIndex, 1);\n\t\t\t}\n\t\t}\n\n\t\tgetXPos(dataUnit: DataUnit): number\n\t\t{\n\t\t\treturn this.getMinuteXPos(dataUnit.relativeMinutes);\n\t\t}\n\n\t\tprivate generateEvent(detailType: ChartDetailTypes, dataSource: DataSource, priority: ChartEventPriorities = ChartEventPriorities.OPTIONAL, eventCallbacks?: EventCallback[])\n\t\t{\n\t\t\tconst event = EventFactory.getEvent(detailType, dataSource.quoteName, priority);\n\t\t\tevent.callbacks = eventCallbacks;\n\t\t\tconst dataManager = this.displayManager.mainManager.dataManager;\n\t\t\tdataManager.expectEvent(event);\n\t\t\tdataManager.eventHandler(event);\n\t\t}\n\n\t\taddLayer(layerType: string, dataSource: DataSource, id: string): AbstractLayer<IViewPoint> | null\n\t\t{\n\t\t\tlet LayerClass: typeof AbstractLayer;\n\t\t\tif (layerType === \"\")\n\t\t\t\treturn null;\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tLayerClass = getDefinitionByName(\"com.google.finance.\" + layerType) as typeof AbstractLayer;\n\t\t\t}\n\t\t\tcatch (re /*: ReferenceError*/)\n\t\t\t{\n\t\t\t\tconsole.log(\"com.google.finance.\" + layerType + \" was not found\");\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst layer = new LayerClass(this, dataSource);\n\t\t\tlayer.textCanvas = this.textCanvas;\n\t\t\tlayer.layerType = layerType;\n\t\t\tlayer.layerId = id;\n\t\t\tif (layer instanceof AbstractDrawingLayer)\n\t\t\t\tthis.drawingLayers.push(layer);\n\t\t\telse\n\t\t\t\tthis.descriptiveLayers.push(layer);\n\n\t\t\tthis.addChild(layer);\n\t\t\tUtils.displayObjectToTop(this.textCanvas, this);\n\t\t\tUtils.displayObjectToTop(this.topCanvas, this);\n\n\t\t\treturn layer;\n\t\t}\n\n\t\thighlightPoint(x: number, state: Dictionary)\n\t\t{\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t\tlayer.highlightPoint(this.layersContext, x, state);\n\t\t}\n\n\t\tgetNewestMinute(): number\n\t\t{\n\t\t\tlet _loc1_ = 0;\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t{\n\t\t\t\tconst newestMinute = layer.getNewestMinute();\n\t\t\t\tif (_loc1_ < newestMinute)\n\t\t\t\t\t_loc1_ = newestMinute;\n\t\t\t}\n\t\t\treturn _loc1_;\n\t\t}\n\n\t\tgetLastMinute(): number\n\t\t{\n\t\t\treturn this.lastMinute + this.minutesOffset;\n\t\t}\n\n\t\tcheckEvents(detailLevel = Intervals.INVALID, eventCallbacks?: EventCallback[])\n\t\t{\n\t\t\tlet _loc9_ = false;\n\t\t\tconst baseDataSource = this.getBaseDataSource();\n\t\t\tif (!baseDataSource)\n\t\t\t\treturn;\n\n\t\t\tconst _loc4_ = baseDataSource.data.days.length - 1;\n\t\t\tconst _loc5_ = DataSource.getMinuteMetaIndex(this.lastMinute - this.count, baseDataSource.data.days, baseDataSource.data.units);\n\t\t\tconst _loc6_ = DataSource.getMinuteMetaIndex(this.lastMinute, baseDataSource.data.days, baseDataSource.data.units);\n\t\t\tif (_loc4_ - _loc6_ <= Const.INTRADAY_DAYS && _loc6_ - _loc5_ <= Const.INTRADAY_DAYS)\n\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_5D_DATA);\n\n\t\t\tconst _loc7_ = _loc4_ - _loc5_;\n\t\t\tif (Const.INDICATOR_ENABLED && !this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t{\n\t\t\t\t_loc9_ = !this.myController || this.myController.currentIntervalLevel === Intervals.INVALID;\n\t\t\t\tconst _loc10_ = this.displayManager.hasOhlcRequiredIndicator() || !_loc9_ ? ChartEventPriorities.OHLC_REQUIRED : ChartEventPriorities.OPTIONAL;\n\t\t\t\tswitch (detailLevel !== Intervals.INVALID ? detailLevel : this.getDetailLevelForTechnicalStyle())\n\t\t\t\t{\n\t\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_5D_DATA, _loc10_, eventCallbacks);\n\t\t\t\t\t\tif (Boolean(MainManager.paramsObj.forceDisplayExtendedHours) || Boolean(MainManager.paramsObj.displayExtendedHours))\n\t\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_AH_DATA, _loc10_);\n\n\t\t\t\t\t\tif (this.getFirstMinute() === this.getOldestBaseMinute())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_1Y_DATA, _loc10_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Intervals.FIVE_MINUTES:\n\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_1Y_DATA, _loc10_);\n\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_10D_DATA, _loc10_, eventCallbacks);\n\t\t\t\t\t\tif (_loc9_ && (Boolean(MainManager.paramsObj.forceDisplayExtendedHours) || Boolean(MainManager.paramsObj.displayExtendedHours)))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_AH_DATA, _loc10_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Intervals.HALF_HOUR:\n\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_1Y_DATA, _loc10_);\n\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_30D_DATA, _loc10_, eventCallbacks);\n\t\t\t\t\t\tif (_loc9_ && (Boolean(MainManager.paramsObj.forceDisplayExtendedHours) || Boolean(MainManager.paramsObj.displayExtendedHours)))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_AH_DATA, _loc10_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Intervals.DAILY:\n\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_1Y_DATA, _loc10_, eventCallbacks);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_5Y_DATA, _loc10_, eventCallbacks);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_5Y_DATA);\n\n\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_1Y_DATA);\n\t\t\t}\n\t\t\tif (_loc7_ >= Const.DAILY_DAYS)\n\t\t\t\tthis.generateEventForAllSources(ChartDetailTypes.GET_40Y_DATA);\n\t\t}\n\n\t\tgetDetailLevelForDifferentMarketSessionComparison(count = NaN, minute = NaN): Intervals\n\t\t{\n\t\t\tif (isNaN(count))\n\t\t\t\tcount = this.count;\n\t\t\tif (isNaN(minute))\n\t\t\t\tminute = this.getLastMinute();\n\n\t\t\tif (count - minute <= Const.DAILY_DAYS)\n\t\t\t\treturn Intervals.DAILY;\n\n\t\t\treturn Intervals.WEEKLY;\n\t\t}\n\n\t\tgetLayers(): AbstractLayer<IViewPoint>[]\n\t\t{\n\t\t\tconst abstractLayers: AbstractLayer<ViewPoint>[] = [];\n\t\t\treturn abstractLayers.concat(this.drawingLayers, this.descriptiveLayers);\n\t\t}\n\n\t\tclearAllChildrenFromTopCanvas()\n\t\t{\n\t\t\twhile (this.topCanvas.numChildren > 0)\n\t\t\t\tthis.topCanvas.removeChildAt(0);\n\t\t}\n\n\t\tprivate getClosestPoint(param1: number, param2: number): DataUnit\n\t\t{\n\t\t\tlet _loc4_: number[];\n\t\t\tconst baseDataSource = notnull(this.getBaseDataSource()).data;\n\t\t\tswitch (param2)\n\t\t\t{\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error();\n\t\t\t\tcase Snaps.SNAP_DAY:\n\t\t\t\t\t_loc4_ = baseDataSource.days;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Snaps.SNAP_WEEK:\n\t\t\t\t\t_loc4_ = baseDataSource.fridays;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Snaps.SNAP_MONTH:\n\t\t\t\t\t_loc4_ = baseDataSource.firsts;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Snaps.SNAP_YEAR:\n\t\t\t\t\t_loc4_ = baseDataSource.years;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst minuteMetaIndex = DataSource.getMinuteMetaIndex(param1, _loc4_, baseDataSource.units);\n\t\t\tlet unit: DataUnit;\n\t\t\tif (_loc4_ === baseDataSource.days)\n\t\t\t\tunit = baseDataSource.units[_loc4_[minuteMetaIndex]];\n\t\t\telse\n\t\t\t\tunit = baseDataSource.units[_loc4_[minuteMetaIndex] - 1];\n\n\t\t\tconst intervalLength = this.getIntervalLength(param1 - unit.relativeMinutes);\n\t\t\tif (minuteMetaIndex < _loc4_.length - 1)\n\t\t\t{\n\t\t\t\tlet nextUnit: DataUnit;\n\t\t\t\tif (_loc4_ === baseDataSource.days)\n\t\t\t\t\tnextUnit = baseDataSource.units[_loc4_[minuteMetaIndex + 1]];\n\t\t\t\telse\n\t\t\t\t\tnextUnit = baseDataSource.units[_loc4_[minuteMetaIndex + 1] - 1];\n\n\t\t\t\treturn (this.getIntervalLength(nextUnit.relativeMinutes - param1) < intervalLength) ? nextUnit : unit;\n\t\t\t}\n\t\t\treturn unit;\n\t\t}\n\n\t\tgetOldestBaseMinute(): number\n\t\t{\n\t\t\tconst baseDataSource = this.getBaseDataSource();\n\t\t\tif (baseDataSource)\n\t\t\t\treturn baseDataSource.data.getFirstRelativeMinute();\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tisAnimating(): boolean\n\t\t{\n\t\t\treturn !!this.zoomingFinalState;\n\t\t}\n\n\t\tzoomInMinutes_Handler(context: Context, param2 = false)\n\t\t{\n\t\t\tlet newContext: Context | null;\n\t\t\tif (Const.INDICATOR_ENABLED && this.myController && this.myController.currentIntervalLevel !== Intervals.INVALID)\n\t\t\t\tnewContext = this.adjustBarChartContext(context, this.myController.currentIntervalLevel);\n\t\t\telse\n\t\t\t\tnewContext = this.adjustLineChartContext(context);\n\n\t\t\tif (newContext)\n\t\t\t{\n\t\t\t\tthis.setNewCount(Math.floor(newContext.count), param2);\n\t\t\t\tthis.lastMinute = newContext.lastMinute;\n\t\t\t\tthis.update(newContext);\n\t\t\t\tthis.checkEvents();\n\t\t\t}\n\t\t}\n\n\t\tprivate generateEventForAllSources(detailType: ChartDetailTypes, priority = ChartEventPriorities.OPTIONAL, eventCallbacks?: EventCallback[])\n\t\t{\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t\tthis.generateEvent(detailType, layer.dataSource, priority, eventCallbacks);\n\t\t}\n\n\t\tzoomIn_Handler(param1: number, param2: number)\n\t\t{\n\t\t\tlet count = (param2 - param1) * 1 * this.count / (this.maxx - this.minx);\n\t\t\tconst oldestBaseMinute = Math.abs(this.getOldestBaseMinute());\n\t\t\tcount = Math.min(count, oldestBaseMinute);\n\t\t\tconst lastMinute = this.lastMinute - this.count * (this.maxx - param2) / (this.maxx - this.minx);\n\t\t\tconst newContext = this.getNewContext(lastMinute, count);\n\t\t\tthis.zoomInMinutes_Handler(newContext);\n\t\t}\n\n\t\tgetOldestMinute(): number\n\t\t{\n\t\t\tlet oldestMinute = 0;\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t{\n\t\t\t\tconst minute = layer.getOldestMinute();\n\t\t\t\tif (oldestMinute > minute)\n\t\t\t\t\toldestMinute = Number(minute);\n\t\t\t}\n\t\t\treturn oldestMinute;\n\t\t}\n\n\t\tzoomingAnimation_ticker(viewPoint: ViewPoint, param2: number, param3: boolean)\n\t\t{\n\t\t\tconst zoomingInitialState = viewPoint.zoomingInitialState;\n\t\t\tconst state = notnull(viewPoint.zoomingFinalState);\n\t\t\tconst clone = Utils.cloneObject(zoomingInitialState);\n\t\t\tfor (const key of Object.keys(zoomingInitialState))\n\t\t\t{\n\t\t\t\tif (!isNaN(zoomingInitialState[key]) && !isNaN(state[key]))\n\t\t\t\t\tclone[key] = zoomingInitialState[key] + (state[key] - zoomingInitialState[key]) * (1 - param2);\n\t\t\t}\n\t\t\tviewPoint.zoomInMinutes_Handler(clone);\n\t\t\tif (param2 === 0)\n\t\t\t{\n\t\t\t\tviewPoint.HTMLnotify(param3);\n\t\t\t\tviewPoint.zoomingFinalState = null;\n\t\t\t}\n\t\t\tthis.displayManager.showContextualStaticInfo();\n\t\t}\n\n\t\trenderLayers()\n\t\t{\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t\tlayer.renderLayer(this.layersContext);\n\n\t\t\tfor (const layer of this.descriptiveLayers)\n\t\t\t\tlayer.renderLayer(this.layersContext);\n\t\t}\n\n\t\tgetLastDataUnit(dataSeries?: DataSeries): DataUnit | null\n\t\t{\n\t\t\tlet dataSeries2: DataSeries | null = null;\n\t\t\tlet dataSource: DataSource | null = null;\n\t\t\tif (dataSeries)\n\t\t\t{\n\t\t\t\tdataSeries2 = dataSeries;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdataSource = this.getBaseDataSource();\n\t\t\t\tdataSeries2 = dataSource ? dataSource.data : null;\n\t\t\t\tif (!dataSeries2)\n\t\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (this.getLastMinute() === this.getNewestMinute())\n\t\t\t{\n\t\t\t\tconst units = dataSeries2.units;\n\t\t\t\tconst dataUnit = new DataUnit(-1, -1, -1, -1);\n\t\t\t\tdataUnit.exchangeDateInUTC = units[units.length - 1].exchangeDateInUTC;\n\t\t\t\tdataUnit.close = units[units.length - 1].close;\n\t\t\t\tdataUnit.time = new Date().getTime();\n\t\t\t\tdataUnit.relativeMinutes = 0;\n\t\t\t\tif (dataUnit.time < units[units.length - 1].time)\n\t\t\t\t\tdataUnit.time = units[units.length - 1].time;\n\n\t\t\t\treturn dataUnit;\n\t\t\t}\n\t\t\tif (dataSource)\n\t\t\t\treturn dataSource.getVisibleDataUnitForMinute(this.getLastMinute());\n\n\t\t\treturn dataSeries2.units[dataSeries2.getRelativeMinuteIndex(this.getLastMinute())];\n\t\t}\n\n\t\tgetDetailLevel(param1 = NaN, param2 = NaN, dataSource?: DataSource): Intervals\n\t\t{\n\t\t\tif (this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t\treturn this.getDetailLevelForDifferentMarketSessionComparison(param1, param2);\n\n\t\t\tlet _loc4_ = this.minutePix;\n\t\t\tlet lastMinute = this.getLastMinute();\n\t\t\tlet baseDataSource = this.getBaseDataSource();\n\t\t\tlet _loc7_ = this.count;\n\t\t\tif (!isNaN(param1))\n\t\t\t{\n\t\t\t\t_loc4_ = (this.maxx - this.minx) / param1;\n\t\t\t\t_loc7_ = param1;\n\t\t\t}\n\t\t\tif (isNaN(_loc4_) || !baseDataSource)\n\t\t\t\treturn Intervals.INVALID;\n\n\t\t\tif (!isNaN(param2))\n\t\t\t\tlastMinute = param2;\n\n\t\t\tif (dataSource)\n\t\t\t\tbaseDataSource = dataSource;\n\n\t\t\tconst data = baseDataSource.data;\n\t\t\tif (!data)\n\t\t\t\treturn Intervals.INVALID;\n\n\t\t\tconst _loc9_ = baseDataSource.data.allSessionsLength() + 1;\n\t\t\tlet _loc10_ = _loc9_;\n\t\t\tif (baseDataSource.afterHoursData)\n\t\t\t\t_loc10_ += baseDataSource.afterHoursData.allSessionsLength() + baseDataSource.afterHoursData.dataSessions.length();\n\n\t\t\tconst unitIndex = data.getRelativeMinuteIndex(lastMinute);\n\t\t\tconst time = data.units[unitIndex].time;\n\t\t\tif (_loc7_ <= Const.INTRADAY_DAYS * _loc10_)\n\t\t\t{\n\t\t\t\tif (data.intervalDataContainsTime(time, Const.INTRADAY_INTERVAL) || data.intervalDataPreceedsTime(time, Const.INTRADAY_INTERVAL))\n\t\t\t\t\treturn Intervals.INTRADAY;\n\n\t\t\t\tif (data.intervalDataContainsTime(time, Const.DAILY_INTERVAL, Const.INTRADAY_INTERVAL))\n\t\t\t\t\treturn Intervals.DAILY;\n\n\t\t\t\treturn Intervals.WEEKLY;\n\t\t\t}\n\t\t\tif (_loc7_ <= Const.DAILY_DAYS * _loc9_)\n\t\t\t{\n\t\t\t\tif (data.intervalDataContainsTime(time, Const.INTRADAY_INTERVAL, Const.DAILY_INTERVAL) || data.intervalDataPreceedsTime(time, Const.DAILY_INTERVAL))\n\t\t\t\t\treturn Intervals.DAILY;\n\n\t\t\t\treturn Intervals.WEEKLY;\n\t\t\t}\n\t\t\treturn Intervals.WEEKLY;\n\t\t}\n\n\t\tgetFirstDataUnit(): DataUnit | null\n\t\t{\n\t\t\tconst baseDataSource = this.getBaseDataSource();\n\t\t\tif (!baseDataSource)\n\t\t\t\treturn null;\n\n\t\t\treturn baseDataSource.getClosestDataUnitAfterMinute(this.getFirstMinute());\n\t\t}\n\n\t\tgetDisplayManager(): DisplayManager\n\t\t{\n\t\t\treturn this.displayManager;\n\t\t}\n\n\t\tgetDetailLevelForTechnicalStyle(param1 = NaN, param2 = NaN): Intervals\n\t\t{\n\t\t\tif (this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t\treturn this.getDetailLevelForDifferentMarketSessionComparison(param1, param2);\n\n\t\t\tif (this.myController && this.myController.currentIntervalLevel !== Intervals.INVALID)\n\t\t\t\treturn this.myController.currentIntervalLevel;\n\n\t\t\tconst _loc3_ = !isNaN(param2) ? param2 : this.getLastMinute();\n\t\t\tconst _loc4_ = !isNaN(param1) ? param1 : this.count;\n\n\t\t\tconst quoteType = this.getQuoteType();\n\t\t\tconst baseDataSource = this.getBaseDataSource();\n\t\t\tif (quoteType === QuoteTypes.COMPANY)\n\t\t\t{\n\t\t\t\tif (baseDataSource)\n\t\t\t\t{\n\t\t\t\t\tconst _loc9_ = baseDataSource.data.getPointsInIntervalArray(Const.INTRADAY_INTERVAL);\n\t\t\t\t\tif (_loc9_ && _loc9_.length > 0 && Math.abs(_loc3_ - _loc4_) <= Math.abs(_loc9_[0].relativeMinutes) + 1)\n\t\t\t\t\t\treturn Intervals.INTRADAY;\n\n\t\t\t\t\tconst _loc10_ = baseDataSource.data.getPointsInIntervalArray(Const.FIVE_MINUTE_INTERVAL);\n\t\t\t\t\tif (_loc10_ && _loc10_.length > 0 && Math.abs(_loc3_ - _loc4_) <= Math.abs(_loc10_[0].relativeMinutes) + 1)\n\t\t\t\t\t\treturn Intervals.FIVE_MINUTES;\n\t\t\t\t}\n\t\t\t\telse if (Const.DEFAULT_CHART_STYLE_NAME !== Const.LINE_CHART)\n\t\t\t\t{\n\t\t\t\t\treturn Const.DEFAULT_D;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst _loc7_ = Math.abs(_loc3_ - _loc4_) / (this.getMarketDayLength() + 1) + 1;\n\t\t\tconst dataSeries: DataSeries | null = baseDataSource ? baseDataSource.data : null;\n\t\t\tif (_loc7_ <= Const.FIVE_MINUTE_DAYS && quoteType === QuoteTypes.COMPANY && !(dataSeries && dataSeries.hasNoPointsInIntervalArray(Const.FIVE_MINUTE_INTERVAL)))\n\t\t\t\treturn Intervals.FIVE_MINUTES;\n\n\t\t\tif (_loc7_ <= Const.HALF_HOUR_DAYS && quoteType === QuoteTypes.COMPANY && !(dataSeries && dataSeries.hasNoPointsInIntervalArray(Const.HALF_HOUR_INTERVAL)))\n\t\t\t\treturn Intervals.HALF_HOUR;\n\n\t\t\tif (_loc7_ <= Const.DAILY_DAYS && !(dataSeries && dataSeries.hasNoPointsInIntervalArray(Const.DAILY_INTERVAL)))\n\t\t\t\treturn Intervals.DAILY;\n\n\t\t\treturn Intervals.WEEKLY;\n\t\t}\n\n\t\tprotected getMarketDayLength(): number\n\t\t{\n\t\t\tconst baseDataSource = this.getBaseDataSource();\n\t\t\tif (!baseDataSource)\n\t\t\t\treturn Const.MARKET_DAY_LENGTH;\n\n\t\t\treturn baseDataSource.data.marketDayLength;\n\t\t}\n\n\t\tsetController(controller: Controller)\n\t\t{\n\t\t\tcontroller.addControlListener(this);\n\t\t\tconst bounds = new Bounds(this.minx, this.miny, this.maxx, this.maxy);\n\t\t\tcontroller.addBounds(bounds);\n\t\t\tthis.myController = controller;\n\t\t}\n\n\t\tcheckAfterHoursVisibility(param1: number, param2: number)\n\t\t{\n\t\t\tconst layersManager = this.displayManager.layersManager;\n\t\t\tif (layersManager.getStyle() !== LayersManager.SINGLE)\n\t\t\t\treturn;\n\n\t\t\tif (MainManager.paramsObj.displayExtendedHours !== \"true\")\n\t\t\t\treturn;\n\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tconst _loc4_ = this.getDetailLevelForTechnicalStyle(param1);\n\t\t\t\tconst _loc5_ = this.getDetailLevelForTechnicalStyle(param2);\n\t\t\t\tif (_loc5_ >= Intervals.DAILY && _loc4_ < Intervals.DAILY)\n\t\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(false);\n\t\t\t\telse if (_loc4_ >= Intervals.DAILY && _loc5_ < Intervals.DAILY)\n\t\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(true);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst _loc4_ = this.getDetailLevel(param1);\n\t\t\t\tconst _loc5_ = this.getDetailLevel(param2);\n\t\t\t\tif (_loc5_ > Intervals.INTRADAY && _loc4_ === Intervals.INTRADAY)\n\t\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(false);\n\t\t\t\telse if (_loc4_ > Intervals.INTRADAY && _loc5_ === Intervals.INTRADAY)\n\t\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(true);\n\t\t\t}\n\t\t}\n\n\t\tgetLayer(layerId: string, dataSource?: DataSource): AbstractLayer<ViewPoint> | null\n\t\t{\n\t\t\tlet layerIndex = this.getLayerIndex(layerId, this.drawingLayers, dataSource);\n\t\t\tif (layerIndex !== -1)\n\t\t\t\treturn this.drawingLayers[layerIndex];\n\n\t\t\tlayerIndex = this.getLayerIndex(layerId, this.descriptiveLayers, dataSource);\n\t\t\tif (layerIndex !== -1)\n\t\t\t\treturn this.descriptiveLayers[layerIndex];\n\n\t\t\treturn null;\n\t\t}\n\n\t\tgetFirstMinute(): number\n\t\t{\n\t\t\treturn this.lastMinute + this.minutesOffset - this.count;\n\t\t}\n\n\t\tmoveChartBy_Handler(param1: number)\n\t\t{\n\t\t\tconst _loc2_ = Math.floor(this.lastMinute - Number(param1 / this.POINTS_DISTANCE) * this.unitsPerUnit);\n\t\t\tconst _loc3_ = Math.ceil(_loc2_ - this.count);\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t{\n\t\t\t\tconst dataSource = layer.dataSource;\n\t\t\t\tconst firstRelativeMinute = dataSource.data.getFirstRelativeMinute();\n\t\t\t\tif (_loc3_ < firstRelativeMinute)\n\t\t\t\t{\n\t\t\t\t\tif (Const.getZoomLevel(this.count, dataSource.data.marketDayLength) >= ScaleTypes.SCALE_5D)\n\t\t\t\t\t\tthis.generateEvent(ChartDetailTypes.GET_1Y_DATA, dataSource);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst _loc5_ = Math.abs(this.getOldestBaseMinute());\n\t\t\tif (this.count > _loc5_)\n\t\t\t\treturn;\n\n\t\t\tlet _loc6_ = Number(this.getOldestBaseMinute());\n\t\t\tif (Const.INDICATOR_ENABLED && this.myController && this.myController.currentIntervalLevel !== Intervals.INVALID)\n\t\t\t{\n\t\t\t\tconst baseDataSource = this.getBaseDataSource();\n\t\t\t\tif (baseDataSource)\n\t\t\t\t{\n\t\t\t\t\tconst _loc12_ = baseDataSource.data.getPointsInIntervalArray(Const.getDetailLevelInterval(this.myController.currentIntervalLevel));\n\t\t\t\t\t_loc6_ = Number(!_loc12_ || _loc12_.length === 0 ? 0 : Math.max(_loc12_[0].relativeMinutes, baseDataSource.firstOpenRelativeMinutes));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_loc6_ = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst _loc7_ = this.lastMinute + this.minutesOffset;\n\t\t\tif (_loc3_ < _loc6_)\n\t\t\t{\n\t\t\t\tthis.minutesOffset = _loc6_ + this.count - this.lastMinute;\n\t\t\t\tthis.checkAfterHoursVisibilityWhenChartMoved(_loc7_);\n\t\t\t\tthis.update();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst _loc8_ = this.getNewestMinute();\n\t\t\tif (_loc2_ <= _loc8_)\n\t\t\t\tthis.minutesOffset = -Math.floor(Number(param1 / this.POINTS_DISTANCE) * this.unitsPerUnit);\n\t\t\telse if (_loc2_ > _loc8_)\n\t\t\t\tthis.minutesOffset = _loc8_ - this.lastMinute;\n\n\t\t\tthis.checkAfterHoursVisibilityWhenChartMoved(_loc7_);\n\t\t\tthis.trySnapping();\n\t\t\tthis.update();\n\t\t}\n\n\t\tzoomChart_Handler(direction: Directions, param2 = NaN)\n\t\t{\n\t\t\tlet _loc3_ = Math.floor(this.count / 40);\n\t\t\tif (!isNaN(param2))\n\t\t\t\t_loc3_ *= param2;\n\n\t\t\t_loc3_ = Math.max(_loc3_, ViewPoint.MIN_ZOOM_CHART_AMOUNT);\n\t\t\tconst _loc4_ = this.POINTS_DISTANCE * _loc3_ / this.unitsPerUnit;\n\t\t\tswitch (direction)\n\t\t\t{\n\t\t\t\tcase Directions.BACKWARD:\n\t\t\t\t\tthis.zoomIn_Handler(this.minx - _loc4_, this.maxx);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Directions.FORWARD:\n\t\t\t\t\tthis.zoomIn_Handler(this.minx + _loc4_, this.maxx);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tcommitOffset_Handler()\n\t\t{\n\t\t\tthis.lastMinute += this.minutesOffset;\n\t\t\tthis.minutesOffset = 0;\n\t\t\tthis.update();\n\t\t\tthis.checkEvents();\n\t\t}\n\n\t\tgetLastNotVisibleDataUnit(): DataUnit | null\n\t\t{\n\t\t\tconst data = notnull(this.getBaseDataSource()).data;\n\t\t\tif (!data)\n\t\t\t\treturn null;\n\n\t\t\treturn data.units[data.getRelativeMinuteIndex(this.getFirstMinute())];\n\t\t}\n\n\t\tHTMLnotify(param1 = false)\n\t\t{\n\t\t\tconst _loc2_ = this.getLastMinute() - this.lastNotifyMinute;\n\t\t\tconst _loc3_ = this.minutePix * _loc2_;\n\t\t\tconst _loc4_ = this.getFirstMinute() - this.firstNotifyMinute;\n\t\t\tconst _loc5_ = this.minutePix * _loc4_;\n\t\t\tif (Math.abs(_loc5_) > 20 || Math.abs(_loc3_) > 20)\n\t\t\t{\n\t\t\t\tthis.displayManager.HTMLnotify(this.name, param1);\n\t\t\t\tthis.lastNotifyMinute = this.getLastMinute();\n\t\t\t\tthis.firstNotifyMinute = this.getFirstMinute();\n\t\t\t}\n\t\t}\n\n\t\tadjustLineChartContext(context: Context)\n\t\t{\n\t\t\tlet count = context.count;\n\t\t\tlet lastMinute = context.lastMinute;\n\t\t\tconst _loc4_ = this.getMinDisplayMinutes(this.getBaseDataSource());\n\t\t\tif (count < _loc4_)\n\t\t\t{\n\t\t\t\tcount = _loc4_;\n\t\t\t\tif (this.count === count)\n\t\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst _loc5_ = Math.abs(lastMinute - this.getOldestBaseMinute());\n\t\t\tcount = Math.min(count, _loc5_);\n\t\t\tconst _loc6_ = this.POINTS_DISTANCE * count / (this.maxx - this.minx);\n\t\t\tif (_loc6_ < 0.3 && !this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t\treturn null;\n\n\t\t\tconst newestMinute = this.getNewestMinute();\n\t\t\tif (lastMinute >= newestMinute)\n\t\t\t\tlastMinute = newestMinute;\n\n\t\t\tif (count !== context.count || lastMinute !== context.lastMinute)\n\t\t\t\treturn this.getNewContext(lastMinute, count);\n\n\t\t\treturn context;\n\t\t}\n\n\t\tupdate(context?: Context)\n\t\t{\n\t\t\tif (!this.stage || this.stage.stageWidth === 0)\n\t\t\t\treturn;\n\n\t\t\tif (context)\n\t\t\t\tthis.layersContext = context;\n\t\t\telse if (this.forcedLayersContext)\n\t\t\t\tthis.layersContext = this.forcedLayersContext;\n\t\t\telse\n\t\t\t\tthis.precomputeContexts();\n\n\t\t\tthis.clearTextCanvas();\n\t\t\tthis.renderLayers();\n\t\t}\n\n\t\taddLabel(param1: string)\n\t\t{\n\t\t\tthis.myLabel = new flash.text.TextField();\n\t\t\tthis.myLabel.text = \"Volume (millions)\";\n\t\t\tthis.myLabel.x = this.minx + 5;\n\t\t\tthis.myLabel.y = this.miny + 5;\n\t\t\tthis.addChild(this.myLabel);\n\t\t}\n\n\t\tsetNewCount(count: number, checkAfterHoursVisibility = false)\n\t\t{\n\t\t\tif (isNaN(count))\n\t\t\t\treturn;\n\n\t\t\tif (checkAfterHoursVisibility !== true)\n\t\t\t\tthis.checkAfterHoursVisibility(this.count, count);\n\n\t\t\tthis.count = count;\n\t\t\tthis.unitsPerUnit = this.POINTS_DISTANCE * this.count / (this.maxx - this.minx);\n\t\t\tthis.minutePix = (this.maxx - this.minx) / this.count;\n\t\t}\n\n\t\tgetSkipInterval(param1 = NaN, param2 = NaN): SkipInterval\n\t\t{\n\t\t\tlet _loc3_ = this.minutePix;\n\t\t\tconst _loc4_ = Const.INTRADAY_INTERVAL / 60;\n\t\t\tlet _loc5_: number;\n\t\t\tlet _loc6_ = 1;\n\t\t\tif (!isNaN(param1))\n\t\t\t{\n\t\t\t\t_loc3_ = (this.maxx - this.minx) / param1;\n\t\t\t\t_loc5_ = Number(this.getDetailLevel(param1, param2));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t_loc5_ = Number(this.getDetailLevel());\n\t\t\t}\n\t\t\tswitch (_loc5_)\n\t\t\t{\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\twhile (_loc3_ * _loc6_ * _loc4_ < this.POINTS_DISTANCE)\n\t\t\t\t\t\t_loc6_ = Number(_loc6_ * 2);\n\n\t\t\t\t\treturn new SkipInterval(_loc6_, _loc6_ * Const.INTRADAY_INTERVAL);\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\t\treturn new SkipInterval(1, Const.DAILY_INTERVAL);\n\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\tconst _loc7_ = _loc3_ * 5 * this.getMarketDayLength();\n\t\t\t\t\twhile (_loc6_ * _loc7_ < this.POINTS_DISTANCE)\n\t\t\t\t\t\t_loc6_ = Number(_loc6_ * 2);\n\n\t\t\t\t\treturn new SkipInterval(_loc6_, _loc6_ * Const.WEEKLY_INTERVAL);\n\t\t\t\tdefault:\n\t\t\t\t\treturn new SkipInterval(0, -1);\n\t\t\t}\n\t\t}\n\n\t\tnewFinalAnimationState(context: Context)\n\t\t{\n\t\t\tconst count = Math.max(context.count, this.getMinDisplayMinutes(this.getBaseDataSource()));\n\t\t\tthis.zoomingFinalState = this.getNewContext(context.lastMinute, count);\n\t\t}\n\n\t\tprivate checkAfterHoursVisibilityWhenChartMoved(param1: number)\n\t\t{\n\t\t\tif (!Const.INDICATOR_ENABLED)\n\t\t\t\treturn;\n\n\t\t\tif (this.displayManager.layersManager.getStyle() !== LayersManager.SINGLE)\n\t\t\t\treturn;\n\n\t\t\tif (MainManager.paramsObj.displayExtendedHours !== \"true\")\n\t\t\t\treturn;\n\n\t\t\tconst _loc2_ = this.getDetailLevelForTechnicalStyle(this.count, param1);\n\t\t\tconst _loc3_ = this.getDetailLevelForTechnicalStyle();\n\t\t\tif (_loc3_ >= Intervals.DAILY && _loc2_ < Intervals.DAILY)\n\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(false);\n\t\t\telse if (_loc2_ >= Intervals.DAILY && _loc3_ < Intervals.DAILY)\n\t\t\t\tthis.displayManager.toggleAllAfterHoursSessions(true);\n\t\t}\n\n\t\taddChildToTopCanvas(sprite: flash.display.Sprite)\n\t\t{\n\t\t\tthis.topCanvas.addChild(sprite);\n\t\t}\n\n\t\tupdateObjectLayers()\n\t\t{\n\t\t\tfor (const layer of this.descriptiveLayers)\n\t\t\t{\n\t\t\t\tif (layer instanceof PinPointsLayer || layer instanceof IntervalBasedPinPointsLayer || layer instanceof IndependentObjectsLayer || layer instanceof IntervalBasedIndependentObjectsLayer)\n\t\t\t\t\tlayer.renderLayer(this.layersContext);\n\t\t\t}\n\t\t}\n\n\t\tprivate drawBorders()\n\t\t{\n\t\t\tconst gr = this.bg.graphics;\n\t\t\tgr.clear();\n\t\t\tgr.beginFill(0xffffff, 1);\n\t\t\tgr.drawRect(this.minx, this.miny, this.maxx - this.minx, this.maxy - this.miny);\n\t\t\tgr.endFill();\n\t\t\tgr.lineStyle(0, ViewPoint.BORDER_DARK_COLOR, 1);\n\t\t\tgr.moveTo(this.minx - 1, this.miny);\n\t\t\tgr.lineTo(this.maxx, this.miny);\n\t\t\tgr.lineTo(this.maxx, this.maxy);\n\t\t\tgr.lineStyle(0, ViewPoint.BORDER_LIGHT_COLOR, 1);\n\t\t\tgr.lineTo(this.minx - 1, this.maxy);\n\t\t\tgr.lineStyle(0, ViewPoint.BORDER_DARK_COLOR, 1);\n\t\t\tgr.lineTo(this.minx - 1, this.miny);\n\t\t}\n\n\t\tclearPointInformation()\n\t\t{\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t\tlayer.clearHighlight();\n\t\t}\n\n\t\tgetNewContext(lastMinute: number, count: number): Context\n\t\t{\n\t\t\tlet context = new Context();\n\t\t\tcontext.lastMinute = lastMinute;\n\t\t\tcontext.count = Math.round(count);\n\t\t\tcontext.verticalScaling = MainManager.paramsObj.verticalScaling;\n\t\t\tfor (const layer of this.drawingLayers)\n\t\t\t\tcontext = layer.getContext(context);\n\t\t\treturn context;\n\t\t}\n\n\t\tgetMinuteXPos(param1: number): number\n\t\t{\n\t\t\treturn this.maxx - (this.getLastMinute() - param1) * this.minutePix;\n\t\t}\n\n\t\tgetNumberOfDays(): number\n\t\t{\n\t\t\treturn Math.round(this.count / Const.MARKET_DAY_LENGTH);\n\t\t}\n\n\t\tnewLastMinute_Handler(lastMinute: number)\n\t\t{\n\t\t\t//const _loc2_ = param1 - this.count;\n\t\t\tconst _loc3_ = this.getOldestBaseMinute();\n\t\t\tif (lastMinute - this.count < _loc3_)\n\t\t\t\tlastMinute = Number(_loc3_ + this.count);\n\n\t\t\tif (lastMinute > 0)\n\t\t\t\tlastMinute = 0;\n\n\t\t\tthis.lastMinute = lastMinute;\n\t\t\tthis.update();\n\t\t}\n\n\t\tprivate getLayerIndex(layerId: string, abstractLayers: AbstractLayer<ViewPoint>[], dataSource?: DataSource): number\n\t\t{\n\t\t\tfor (let layerIndex = 0; layerIndex < abstractLayers.length; layerIndex++)\n\t\t\t{\n\t\t\t\tconst _loc5_ = abstractLayers[layerIndex];\n\t\t\t\tif (_loc5_.layerId === layerId && (!dataSource || _loc5_.dataSource === dataSource))\n\t\t\t\t\treturn layerIndex;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tprecomputeContexts()\n\t\t{\n\t\t\tthis.layersContext = this.getNewContext(this.getLastMinute(), this.count);\n\t\t\tif (this.zoomingFinalState)\n\t\t\t{\n\t\t\t\tconst lastMinute = this.zoomingFinalState.lastMinute;\n\t\t\t\tconst count = this.zoomingFinalState.count;\n\t\t\t\tthis.zoomingFinalState = this.getNewContext(lastMinute, count);\n\t\t\t}\n\t\t}\n\n\t\tgetMinDisplayMinutes(dataSource: DataSource | null): number\n\t\t{\n\t\t\tlet _loc2_ = Const.MARKET_DAY_LENGTH;\n\t\t\tif (dataSource && !isNaN(dataSource.data.marketDayLength))\n\t\t\t\t_loc2_ = dataSource.data.marketDayLength + 1;\n\n\t\t\tif (Const.INDICATOR_ENABLED && this.myController && this.myController.currentIntervalLevel !== Intervals.INVALID)\n\t\t\t\treturn Const.INTERVAL_PERIODS[this.myController.currentIntervalLevel].mindays * _loc2_;\n\n\t\t\tif (this.displayManager.isDifferentMarketSessionComparison())\n\t\t\t\treturn Const.DIF_MKT_COMPARISON_MIN_DISPLAY_DAYS;\n\n\t\t\treturn Const.MIN_DISPLAY_DAYS * _loc2_;\n\t\t}\n\n\t\tzoomingAnimation_init(context: Context)\n\t\t{\n\t\t\tthis.zoomingInitialState = Utils.cloneObject(this.layersContext);\n\t\t\tthis.newFinalAnimationState(context);\n\t\t}\n\n\t\tgetMinuteOfX(x: number): number\n\t\t{\n\t\t\treturn this.getLastMinute() - (this.maxx - x) * this.count / (this.maxx - this.minx);\n\t\t}\n\n\t\tsetNewSize(bounds: Bounds)\n\t\t{\n\t\t\tif (this.minx === bounds.minx &&\n\t\t\t\tthis.miny === bounds.miny &&\n\t\t\t\tthis.maxx === bounds.maxx &&\n\t\t\t\tthis.maxy === bounds.maxy)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.myController)\n\t\t\t{\n\t\t\t\tconst newBounds = new Bounds(this.minx, this.miny, this.maxx, this.maxy);\n\t\t\t\tthis.myController.replaceBounds(newBounds, bounds);\n\t\t\t}\n\t\t\tthis.minx = bounds.minx;\n\t\t\tthis.miny = bounds.miny;\n\t\t\tthis.maxx = bounds.maxx;\n\t\t\tthis.maxy = bounds.maxy;\n\t\t\tthis.drawBorders();\n\t\t\tif (this.myLabel)\n\t\t\t{\n\t\t\t\tthis.myLabel.x = this.minx + 5;\n\t\t\t\tthis.myLabel.y = this.miny + 5;\n\t\t\t}\n\t\t\tthis.medPriceY = (this.maxy - this.miny) / 2;\n\t\t\tthis.maxPriceRangeViewSize = this.maxy - this.miny - ViewPoint.MIN_EDGE_DISTANCE - ViewPoint.MAX_EDGE_DISTANCE;\n\t\t\tconst _loc2_ = (this.maxx - this.minx) * this.unitsPerUnit / this.POINTS_DISTANCE;\n\t\t\tif (Const.INDICATOR_ENABLED && this.myController && this.myController.currentIntervalLevel !== Intervals.INVALID)\n\t\t\t{\n\t\t\t\tlet context = new Context();\n\t\t\t\tcontext.count = _loc2_;\n\t\t\t\tcontext.lastMinute = this.lastMinute;\n\t\t\t\tcontext = this.adjustBarChartContext(context, this.myController.currentIntervalLevel);\n\t\t\t\tthis.lastMinute = context.lastMinute;\n\t\t\t\tthis.count = context.count;\n\t\t\t\tthis.unitsPerUnit = this.count * this.POINTS_DISTANCE / (this.maxx - this.minx);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.count = Math.min(_loc2_, Math.abs(this.lastMinute - this.getOldestBaseMinute()));\n\t\t\t}\n\t\t\tthis.minutePix = (this.maxx - this.minx) / this.count;\n\t\t\tthis.precomputeContexts();\n\t\t\tthis.update();\n\t\t}\n\t}\n\n\texport interface MinMaxMedPrice\n\t{\n\t\tmaxPrice: number;\n\t\tminPrice: number;\n\t\tmedPrice: number;\n\t}\n\n\texport class Context\n\t\t//extends ViewPoint\n\t\timplements MinMaxMedPrice\n\t{\n\t\t[key: string]: any;\n\n\t\t//lastMinute: number;\n\t\t//count: number;\n\t\tverticalScaling: string;\n\n\t\tmaxPrice: number;\n\t\tminPrice: number;\n\t\tmedPrice: number;\n\n\t\tmaxPriceRange: number;\n\n\t\tmaxValue: number;\n\t\tminValue: number;\n\n\t\tmaxVolume: number;\n\n\t\tmaxRangeLowerBound: number;\n\t\tmaxRangeUpperBound: number;\n\n\t\tplusVariation: number;\n\t\tminusVariation: number;\n\n\t\tscaleVariation: number;\n\t\tlocalYAdjustment: number;\n\t\tplusSize: number;\n\n\t\tlastMinute: number;\n\t\tcount: number;\n\t}\n}\n","/// <reference path=\"ViewPoint.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.display.SimpleButton;\n\t// import flash.utils.getDefinitionByName;\n\t// import flash.events.Event;\n\t// import flash.text.TextFormat;\n\t// import flash.display.Bitmap;\n\t// import flash.events.MouseEvent;\n\n\texport class SparklineViewPoint\n\t\textends IViewPoint\n\t{\n\t\t// private windowMask: flash.display.Sprite;\n\n\t\tstatic readonly TEXT_FIELD_HEIGHT = 50;\n\t\tstatic readonly TEXT_VERTICAL_OFFSET = -1;\n\t\tstatic readonly TEXT_HORIZONTAL_OFFSET = 5;\n\t\tstatic readonly TEXT_FIELD_WIDTH = 200;\n\t\treadonly POINTS_DISTANCE = 2;\n\n\t\tprivate readonly leftScrollButton = new flash.display.SimpleButton(\"leftScrollButton\");\n\t\t//private currentSparkTimeLength = 0;\n\t\tprivate readonly ScrollbarButtonRight = SparklineViewPoint_ScrollbarButtonRight;\n\t\tprivate sparklineType: string;\n\t\tprivate graySparkline: SparklineLayer;\n\t\tprivate layers: AbstractLayer<SparklineViewPoint>[] = [];\n\t\tprivate passiveLayers: AbstractLayer<SparklineViewPoint>[] = [];\n\t\tprivate sparkline: SparklineLayer;\n\t\tprivate readonly rightScrollButton = new flash.display.SimpleButton(\"rightScrollButton\");\n\t\tprivate displayThresholds: { chartDays: number, sparkDays: number }[];\n\t\t// private textCanvas: flash.display.Sprite;\n\t\tprivate readonly scrollBg = new flash.display.Sprite(\"scrollBg\");\n\t\tprivate readonly ScrollbarButtonLeft = SparklineViewPoint_ScrollbarButtonLeft;\n\t\t// private displayManager: DisplayManager;\n\n\t\tsparkLastMinute: number;\n\t\tmy_minx: number;\n\t\tmy_miny: number;\n\t\tsparkCount: number;\n\t\twindowLayer: WindowLayer;\n\t\treadonly bg = new flash.display.Sprite(\"bg\");\n\t\tmy_maxx: number;\n\t\tmy_maxy: number;\n\t\tlastMinute: number;\n\t\tdataSource: DataSource;\n\t\t//myController: Controller;\n\t\tsparkButtonMinutes: number;\n\t\tsparkMinutesOffset: number = 0;\n\t\thourTextFormat: flash.text.TextFormat;\n\t\treadonly priceTextFormat = new flash.text.TextFormat(\"_sans\", 10, 0x666666);\n\t\treadonly dateTextFormat = new flash.text.TextFormat(\"Verdana\", 10, 0x6f6f6f);\n\t\ttopBorder = 0;\n\n\t\tconstructor(private readonly dataManager: DataManager, readonly displayManager: DisplayManager)\n\t\t{\n\t\t\tsuper(displayManager);\n\n\t\t\tthis.addChild(this.bg);\n\t\t\tthis.textCanvas = new flash.display.Sprite(\"textCanvas\");\n\t\t\tthis.addChild(this.textCanvas);\n\t\t\tthis.dateTextFormat.bold = false;\n\t\t\tthis.priceTextFormat.align = \"right\";\n\t\t\tconst scrollbarButtonLeft = new this.ScrollbarButtonLeft();\n\t\t\tthis.leftScrollButton.downState = scrollbarButtonLeft;\n\t\t\tthis.leftScrollButton.overState = scrollbarButtonLeft;\n\t\t\tthis.leftScrollButton.upState = scrollbarButtonLeft;\n\t\t\tthis.leftScrollButton.hitTestState = scrollbarButtonLeft;\n\t\t\tthis.leftScrollButton.useHandCursor = true;\n\t\t\tthis.addChild(this.leftScrollButton);\n\t\t\tconst scrollbarButtonRight = new this.ScrollbarButtonRight();\n\t\t\tthis.rightScrollButton.downState = scrollbarButtonRight;\n\t\t\tthis.rightScrollButton.overState = scrollbarButtonRight;\n\t\t\tthis.rightScrollButton.upState = scrollbarButtonRight;\n\t\t\tthis.rightScrollButton.hitTestState = scrollbarButtonRight;\n\t\t\tthis.rightScrollButton.useHandCursor = true;\n\t\t\tthis.addChild(this.rightScrollButton);\n\t\t\tthis.bg.addChild(this.scrollBg);\n\t\t\tthis.positionElements();\n\t\t\tthis.leftScrollButton.addEventListener(MouseEvents.MOUSE_DOWN, flash.display.Stage.bind(this.onMouseDown, this));\n\t\t\tthis.rightScrollButton.addEventListener(MouseEvents.MOUSE_DOWN, flash.display.Stage.bind(this.onMouseDown, this));\n\t\t\tthis.leftScrollButton.addEventListener(MouseEvents.MOUSE_UP, flash.display.Stage.bind(this.onMouseUp, this));\n\t\t\tthis.rightScrollButton.addEventListener(MouseEvents.MOUSE_UP, flash.display.Stage.bind(this.onMouseUp, this));\n\t\t\tthis.initDisplayCountThresholds();\n\t\t\tif (MainManager.paramsObj.sparklineType === Const.STATIC || MainManager.paramsObj.sparklineType === Const.DYNAMIC)\n\t\t\t\tthis.sparklineType = MainManager.paramsObj.sparklineType;\n\t\t\telse\n\t\t\t\tthis.sparklineType = Const.STATIC;\n\t\t}\n\n\t\tgetIntervalLength(param1: number): number\n\t\t{\n\t\t\treturn param1 * (this.maxx - this.minx) / this.sparkCount;\n\t\t}\n\n\t\tprivate redraw()\n\t\t{\n\t\t\tthis.adjustWindowToSparkline();\n\n\t\t\tthis.resetCanvas();\n\t\t\tthis.renderLayers();\n\t\t\tthis.moveMask();\n\t\t\tthis.renderPassiveLayers();\n\t\t}\n\n\t\tremoveAllLayers()\n\t\t{\n\t\t\tfor (const layer of this.layers)\n\t\t\t\tthis.removeChild(layer);\n\t\t\tthis.layers = [];\n\t\t}\n\n\t\tsetNewSize(bounds: Bounds)\n\t\t{\n\t\t\tthis.my_minx = bounds.minx;\n\t\t\tthis.my_miny = bounds.miny;\n\t\t\tthis.my_maxx = bounds.maxx;\n\t\t\tthis.my_maxy = bounds.maxy;\n\t\t\tthis.drawBorders();\n\t\t\tthis.positionElements();\n\t\t\tif (this.sparkline)\n\t\t\t{\n\t\t\t\tthis.sparkline.fillColor = Const.SPARK_ACTIVE_FILL_COLOR;\n\t\t\t\tthis.sparkline.lineColor = Const.SPARK_ACTIVE_LINE_COLOR;\n\t\t\t\tthis.sparkline.renderLayer();\n\t\t\t}\n\t\t\tif (this.graySparkline)\n\t\t\t{\n\t\t\t\tthis.graySparkline.fillColor = Const.SPARK_INACTIVE_FILL_COLOR;\n\t\t\t\tthis.graySparkline.lineColor = Const.SPARK_INACTIVE_LINE_COLOR;\n\t\t\t\tthis.graySparkline.renderLayer();\n\t\t\t}\n\t\t\tif (this.windowLayer)\n\t\t\t{\n\t\t\t\tthis.windowLayer.updateFixedElements();\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\n\t\tgetWidth(): number\n\t\t{\n\t\t\treturn this.maxx - this.minx;\n\t\t}\n\n\t\tgenerateEvent(detailType: ChartDetailTypes, dataSource: DataSource)\n\t\t{\n\t\t\tconst event = EventFactory.getEvent(detailType, dataSource.quoteName, ChartEventPriorities.OPTIONAL);\n\t\t\tthis.dataManager.expectEvent(event);\n\t\t\tthis.dataManager.eventHandler(event);\n\t\t}\n\n\t\taddLayer(layerTypeName: string, dataSource: DataSource, name: string): AbstractLayer<IViewPoint> | null\n\t\t{\n\t\t\tif (layerTypeName === \"\")\n\t\t\t\treturn null;\n\n\t\t\tthis.addDataSource(dataSource);\n\t\t\tconst layerType = getDefinitionByName(\"com.google.finance.\" + layerTypeName) as typeof AbstractLayer;\n\t\t\tconst layer = new layerType(this, dataSource);\n\t\t\tlayer.name = name;\n\t\t\tlayer.layerId = name;\n\t\t\tif (layer instanceof WindowLayer)\n\t\t\t{\n\t\t\t\tif (this.windowLayer && this.contains(this.windowLayer))\n\t\t\t\t{\n\t\t\t\t\tthis.removeChild(this.windowLayer);\n\t\t\t\t\tconst indexOfWindow = this.layers.indexOf(this.windowLayer);\n\t\t\t\t\tif (indexOfWindow !== -1)\n\t\t\t\t\t\tthis.layers.splice(indexOfWindow, 1);\n\t\t\t\t}\n\t\t\t\tthis.windowLayer = layer;\n\t\t\t}\n\t\t\tthis.addChild(layer);\n\t\t\tthis.layers.push(layer);\n\n\t\t\treturn layer;\n\t\t}\n\n\t\tcommitSparklineOffset_Handler()\n\t\t{\n\t\t\tthis.sparkLastMinute += this.sparkMinutesOffset;\n\t\t\tthis.sparkMinutesOffset = 0;\n\t\t}\n\n\t\tprivate adjustWindowToSparkline()\n\t\t{\n\t\t\tconst lastMinute = this.getLastMinute();\n\t\t\tconst firstMinute = this.getFirstMinute();\n\t\t\tconst sparkLastMinute = this.getSparkLastMinute();\n\t\t\tconst sparkFirstMinute = this.getSparkFirstMinute();\n\t\t\tif (lastMinute > sparkLastMinute)\n\t\t\t{\n\t\t\t\tthis.myController.jumpTo(sparkLastMinute, lastMinute - firstMinute);\n\t\t\t}\n\t\t\telse if (firstMinute < sparkFirstMinute)\n\t\t\t{\n\t\t\t\tconst count = lastMinute - firstMinute;\n\t\t\t\tthis.myController.jumpTo(sparkFirstMinute + count, count);\n\t\t\t}\n\t\t}\n\n\t\tgetLayers(): AbstractLayer<SparklineViewPoint>[]\n\t\t{\n\t\t\treturn this.layers;\n\t\t}\n\n\t\thighlightPoint(x: number, state: Dictionary)\n\t\t{\n\t\t}\n\n\t\tgetSparkFirstMinute(): number\n\t\t{\n\t\t\treturn this.getSparkLastMinute() - this.sparkCount;\n\t\t}\n\n\t\tprecomputeContexts()\n\t\t{\n\t\t}\n\n\t\tprivate positionElements()\n\t\t{\n\t\t\tthis.leftScrollButton.x = -1;\n\t\t\tthis.leftScrollButton.y = this.maxy - 1;\n\t\t\tthis.rightScrollButton.x = this.maxx - 1;\n\t\t\tthis.rightScrollButton.y = this.maxy - 1;\n\t\t\tthis.scrollBg.x = this.minx;\n\t\t\tthis.scrollBg.y = this.maxy - 1;\n\t\t\tthis.scrollBg.width = this.maxx - this.minx;\n\t\t}\n\n\t\treplaceSparklineDataSource(dataSource: DataSource)\n\t\t{\n\t\t\tthis.sparkline.dataSource = dataSource;\n\t\t\tthis.graySparkline.dataSource = dataSource;\n\t\t}\n\n\t\tzoomIn_Handler(param1: number, param2: number)\n\t\t{\n\t\t\tthis.renderLayers();\n\t\t\tthis.moveMask();\n\t\t}\n\n\t\tgetYScaling()\n\t\t{\n\t\t\treturn { maxPriceRange: 0 };\n\t\t}\n\n\t\tgetXPos(param1: number, param2: number, dataUnit: DataUnit): number\n\t\t{\n\t\t\tconst sparkLastMinute = this.getSparkLastMinute();\n\t\t\tconst relativeMinutes = dataUnit.relativeMinutes;\n\t\t\treturn Math.round(param1 - (sparkLastMinute - relativeMinutes) * (param1 - param2) / this.sparkCount);\n\t\t}\n\n\t\tzoomInMinutes_Handler(context: Context, param2 = false)\n\t\t{\n\t\t\tthis.checkResizeSparkline(context.count);\n\t\t}\n\n\t\trenderPassiveLayers()\n\t\t{\n\t\t\tfor (const layer of this.passiveLayers)\n\t\t\t\tlayer.renderLayer();\n\t\t}\n\n\t\tisAnimating(): boolean\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\ttoggleHandles(param1: boolean)\n\t\t{\n\t\t\tif (this.windowLayer)\n\t\t\t\tthis.windowLayer.toggleHandles(param1);\n\t\t}\n\n\t\tgetLastMinute(): number\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\treturn mainViewPoint.getLastMinute();\n\t\t}\n\n\t\tonMouseUp(event: Event)\n\t\t{\n\t\t\tthis.myController.mouseUpAction();\n\t\t}\n\n\t\tprivate moveMask()\n\t\t{\n\t\t\tif (!this.windowMask)\n\t\t\t\treturn;\n\n\t\t\tconst lastMinuteXPos = this.getMinuteXPos(this.getLastMinute());\n\t\t\tlet firstMinuteXPos = this.getMinuteXPos(this.getFirstMinute());\n\t\t\tif (lastMinuteXPos - firstMinuteXPos <= 4)\n\t\t\t\tfirstMinuteXPos = lastMinuteXPos - 4;\n\n\t\t\tthis.windowMask.x = firstMinuteXPos;\n\t\t\tthis.windowMask.y = this.my_miny - 1;\n\t\t\tthis.windowMask.width = lastMinuteXPos - firstMinuteXPos;\n\t\t}\n\n\t\tprivate createSparklineMask(): flash.display.Sprite\n\t\t{\n\t\t\tthis.windowMask = new flash.display.Sprite(\"windowMask\");\n\t\t\tthis.windowMask.graphics.beginFill(0);\n\t\t\tthis.windowMask.graphics.drawRect(0, 0, 10, this.my_maxy - this.my_miny + 1);\n\t\t\tthis.windowMask.y = this.my_miny - 1;\n\t\t\tthis.addChildAt(this.windowMask, 3);\n\t\t\treturn this.windowMask;\n\t\t}\n\n\t\tgetMinutesForLength(param1: number): number\n\t\t{\n\t\t\treturn param1 * this.sparkCount / (this.maxx - this.minx);\n\t\t}\n\n\t\tget miny(): number\n\t\t{\n\t\t\treturn this.my_miny;\n\t\t}\n\n\t\tgetOldestMinute(): number\n\t\t{\n\t\t\treturn this.dataSource.data.getFirstRelativeMinute();\n\t\t}\n\n\t\tgetMedPrice()\n\t\t{\n\t\t\treturn { medPrice: 0 };\n\t\t}\n\n\t\tget minx(): number\n\t\t{\n\t\t\treturn this.my_minx + 14;\n\t\t}\n\n\t\tgetFirstDataUnit(): DataUnit\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\treturn notnull(mainViewPoint.getFirstDataUnit());\n\t\t}\n\n\t\tzoomingAnimation_ticker(sparklineViewPoint: SparklineViewPoint, param2: number, param3: boolean)\n\t\t{\n\t\t\tsparklineViewPoint.checkResizeSparkline();\n\t\t\tsparklineViewPoint.renderLayers();\n\t\t\tsparklineViewPoint.moveMask();\n\t\t}\n\n\t\trenderLayers()\n\t\t{\n\t\t\tfor (const layer of this.layers)\n\t\t\t\tlayer.renderLayer();\n\t\t}\n\n\t\tgetLastDataUnit(): DataUnit\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\treturn notnull(mainViewPoint.getLastDataUnit());\n\t\t}\n\n\t\tgetLeftX(): number\n\t\t{\n\t\t\tif (this.windowLayer)\n\t\t\t\treturn this.windowLayer.getLeftX();\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tgetHandleRightX(): number\n\t\t{\n\t\t\tif (this.windowLayer)\n\t\t\t\treturn this.windowLayer.getHandleRightX();\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tprivate resetCanvas()\n\t\t{\n\t\t\tthis.textCanvas.graphics.clear();\n\t\t\tUtils.removeAllChildren(this.textCanvas);\n\t\t}\n\n\t\tget maxy(): number\n\t\t{\n\t\t\treturn this.my_maxy - 14;\n\t\t}\n\n\t\tcommitOffset_Handler()\n\t\t{\n\t\t\tthis.renderLayers();\n\t\t\tthis.moveMask();\n\t\t}\n\n\t\tsetController(controller: Controller)\n\t\t{\n\t\t\tcontroller.addControlListener(this, TickPositions.BOTTOM);\n\t\t\tthis.myController = controller;\n\t\t}\n\n\t\tgetFirstMinute(): number\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\treturn mainViewPoint.getFirstMinute();\n\t\t}\n\n\t\tmoveChartBy_Handler(param1: number)\n\t\t{\n\t\t\tthis.adjustSparklineToWindow();\n\t\t\tthis.renderLayers();\n\t\t\tthis.moveMask();\n\t\t}\n\n\t\tgetRightX(): number\n\t\t{\n\t\t\tif (this.windowLayer)\n\t\t\t\treturn this.windowLayer.getRightX();\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tgetHandleLeftX(): number\n\t\t{\n\t\t\tif (this.windowLayer)\n\t\t\t\treturn this.windowLayer.getHandleLeftX();\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tHTMLnotify(param1 = false)\n\t\t{\n\t\t}\n\n\t\tget maxx(): number\n\t\t{\n\t\t\treturn this.my_maxx - 14;\n\t\t}\n\n\t\tgetLastNotVisibleDataUnit(): DataUnit\n\t\t{\n\t\t\tconst mainViewPoint = this.displayManager.getMainViewPoint();\n\t\t\treturn notnull(mainViewPoint.getLastNotVisibleDataUnit());\n\t\t}\n\n\t\tzoomChart_Handler(direction: Directions, param2 = NaN)\n\t\t{\n\t\t\tthis.renderLayers();\n\t\t\tthis.moveMask();\n\t\t}\n\n\t\tnewFinalAnimationState(viewPoint: IViewPoint)\n\t\t{\n\t\t}\n\n\t\tonMouseDown(event: Event)\n\t\t{\n\t\t\tswitch (event.currentTarget)\n\t\t\t{\n\t\t\t\tcase this.leftScrollButton.element:\n\t\t\t\t\tthis.myController.mouseDownAction(ControllerComponents.LEFT_BUTTON);\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.rightScrollButton.element:\n\t\t\t\t\tthis.myController.mouseDownAction(ControllerComponents.RIGHT_BUTTON);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tupdate()\n\t\t{\n\t\t\tif (this.stage.stageWidth === 0 || !this.dataSource || !this.dataSource.data || this.dataSource.data.points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst points = this.dataSource.data.points;\n\t\t\tconst firstRelativeMinute = this.dataSource.data.getFirstRelativeMinute();\n\t\t\tif (this.dataSource && points.length !== 0)\n\t\t\t{\n\t\t\t\tif (this.sparkCount !== Math.abs(firstRelativeMinute) && this.sparklineType === Const.STATIC)\n\t\t\t\t\tthis.sparkCount = Math.abs(firstRelativeMinute);\n\n\t\t\t\tthis.checkResizeSparkline();\n\n\t\t\t\tthis.resetCanvas();\n\t\t\t\tthis.renderPassiveLayers();\n\t\t\t\tthis.renderLayers();\n\t\t\t\tthis.moveMask();\n\t\t\t}\n\t\t}\n\n\t\tsparklinePagingPossible(param1: number): boolean\n\t\t{\n\t\t\tconst sparkLastMinute = this.getSparkLastMinute() < 0;\n\t\t\tconst sparkFirstMinute = this.getSparkFirstMinute() > this.getOldestMinute();\n\t\t\treturn param1 < 0 && sparkFirstMinute || param1 > 0 && sparkLastMinute;\n\t\t}\n\n\t\tprivate checkResizeSparkline(param1 = NaN)\n\t\t{\n\t\t\tif (this.sparklineType === Const.STATIC)\n\t\t\t\treturn;\n\n\t\t\tlet minutes = this.getLastMinute() - this.getFirstMinute();\n\t\t\tif (!isNaN(param1))\n\t\t\t\tminutes = param1;\n\n\t\t\tif (!this.dataSource || !this.dataSource.data)\n\t\t\t\treturn;\n\n\t\t\tconst marketDayLength = this.dataSource.data.marketDayLength;\n\t\t\tlet _loc4_ = 0;\n\t\t\twhile (_loc4_ < this.displayThresholds.length - 1 && minutes > this.displayThresholds[_loc4_].chartDays * marketDayLength)\n\t\t\t{\n\t\t\t\t_loc4_++;\n\t\t\t}\n\t\t\tlet _loc5_ = this.displayThresholds[_loc4_].sparkDays * marketDayLength;\n\t\t\tconst _loc6_ = Math.abs(this.dataSource.data.getFirstRelativeMinute());\n\t\t\t_loc5_ = Math.min(_loc5_, _loc6_);\n\t\t\tif (_loc5_ !== this.sparkCount && !isNaN(_loc5_))\n\t\t\t{\n\t\t\t\tthis.sparkCount = _loc5_;\n\t\t\t\tthis.sparkButtonMinutes = (this.leftScrollButton.width - 2) * this.sparkCount / (this.maxx - this.minx);\n\t\t\t\tif (this.sparkLastMinute - this.sparkCount < this.dataSource.data.getFirstRelativeMinute())\n\t\t\t\t\tthis.sparkLastMinute = 0;\n\n\t\t\t\tif (_loc4_ === this.displayThresholds.length - 1)\n\t\t\t\t\tthis.generateEvent(ChartDetailTypes.GET_40Y_DATA, this.dataSource);\n\n\t\t\t\tthis.redraw();\n\t\t\t}\n\t\t\tthis.adjustSparklineToWindow();\n\t\t}\n\n\t\tsetNewCount(param1: number)\n\t\t{\n\t\t\tthis.checkResizeSparkline(param1);\n\t\t}\n\n\t\tdrawBorders()\n\t\t{\n\t\t\tconst gr = this.bg.graphics;\n\t\t\tgr.clear();\n\t\t\tgr.beginFill(0xffffff);\n\t\t\tgr.drawRect(\n\t\t\t\tthis.my_minx, this.my_miny - this.topBorder,\n\t\t\t\tthis.my_maxx - this.my_minx, this.my_maxy - (this.my_miny - this.topBorder)\n\t\t\t);\n\t\t\t/*\n\t\t\tgr.moveTo(this.my_minx, this.my_miny - this.topBorder);\n\t\t\tgr.lineTo(this.my_maxx, this.my_miny - this.topBorder);\n\t\t\tgr.lineTo(this.my_maxx, this.my_maxy);\n\t\t\tgr.lineTo(this.my_minx, this.my_maxy);\n\t\t\t*/\n\t\t\tgr.endFill();\n\t\t\tthis.textCanvas.graphics.clear();\n\t\t}\n\n\t\tgetMinuteXPos(param1: number): number\n\t\t{\n\t\t\treturn Math.round(this.maxx - (this.getSparkLastMinute() - param1) * (this.maxx - this.minx) / this.sparkCount);\n\t\t}\n\n\t\tgetSparkLastMinute(): number\n\t\t{\n\t\t\treturn this.sparkLastMinute + this.sparkMinutesOffset;\n\t\t}\n\n\t\tprivate initDisplayCountThresholds()\n\t\t{\n\t\t\tlet _loc1_ = false;\n\t\t\tif (MainManager.paramsObj.displayThresholds)\n\t\t\t{\n\t\t\t\tthis.displayThresholds = Utils.decodeObjects(MainManager.paramsObj.displayThresholds);\n\t\t\t\t_loc1_ = true;\n\t\t\t\tfor (const threshold of this.displayThresholds)\n\t\t\t\t{\n\t\t\t\t\tif (isNaN(threshold.chartDays) || isNaN(threshold.sparkDays))\n\t\t\t\t\t\t_loc1_ = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!_loc1_)\n\t\t\t{\n\t\t\t\tthis.displayThresholds = [{\n\t\t\t\t\tchartDays: 230,\n\t\t\t\t\tsparkDays: 520\n\t\t\t\t}, {\n\t\t\t\t\tchartDays: Number.POSITIVE_INFINITY,\n\t\t\t\t\tsparkDays: Number.POSITIVE_INFINITY\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\n\t\tprivate addDataSource(dataSource: DataSource)\n\t\t{\n\t\t\tif (!this.dataSource)\n\t\t\t{\n\t\t\t\tthis.sparkMinutesOffset = 0;\n\t\t\t\tif (this.sparklineType === Const.DYNAMIC)\n\t\t\t\t\tthis.sparkCount = dataSource.data.marketDayLength * this.displayThresholds[0].sparkDays;\n\t\t\t\telse\n\t\t\t\t\tthis.sparkCount = Math.abs(dataSource.data.getFirstRelativeMinute());\n\n\t\t\t\tthis.sparkButtonMinutes = (this.leftScrollButton.width - 2) * this.sparkCount / (this.my_maxx - this.my_minx);\n\t\t\t\tthis.sparkLastMinute = 0;\n\t\t\t\tthis.graySparkline = new SparklineLayer(this, dataSource);\n\t\t\t\tthis.graySparkline.layerId = \"GraySparkline\";\n\t\t\t\tthis.graySparkline.fillColor = Const.SPARK_INACTIVE_FILL_COLOR;\n\t\t\t\tthis.graySparkline.lineColor = Const.SPARK_INACTIVE_LINE_COLOR;\n\t\t\t\tthis.addChildAt(this.graySparkline, 1);\n\t\t\t\tthis.graySparkline.hasBackground = true;\n\t\t\t\tthis.graySparkline.bgColor = 0xffffff;\n\t\t\t\tthis.graySparkline.borderColor = 0xdddddd;\n\t\t\t\tthis.passiveLayers.push(this.graySparkline);\n\t\t\t\tthis.sparkline = new SparklineLayer(this, dataSource);\n\t\t\t\tthis.sparkline.layerId = \"Sparkline\";\n\t\t\t\tthis.sparkline.fillColor = Const.SPARK_ACTIVE_FILL_COLOR;\n\t\t\t\tthis.sparkline.lineColor = Const.SPARK_ACTIVE_LINE_COLOR;\n\t\t\t\tthis.addChildAt(this.sparkline, 2);\n\t\t\t\tthis.sparkline.hasBackground = true;\n\t\t\t\tthis.sparkline.bgColor = 0xffffff;\n\t\t\t\tthis.sparkline.borderColor = 0xffffff;\n\t\t\t\tthis.passiveLayers.push(this.sparkline);\n\t\t\t\tthis.windowMask = this.createSparklineMask();\n\t\t\t\t// TODO: this.sparkline.mask = this.windowMask;\n\t\t\t\tconst sparklineDateLinesLayer = new SparklineDateLinesLayer(this, dataSource);\n\t\t\t\tsparklineDateLinesLayer.textCanvas = this.textCanvas;\n\t\t\t\tthis.addChild(sparklineDateLinesLayer);\n\t\t\t\tthis.passiveLayers.push(sparklineDateLinesLayer);\n\t\t\t}\n\t\t\tthis.rightScrollButton.enabled = true;\n\t\t\tthis.leftScrollButton.enabled = true;\n\t\t\tthis.dataSource = dataSource;\n\t\t\tthis.update();\n\t\t}\n\n\t\tclearPointInformation()\n\t\t{\n\t\t}\n\n\t\tmoveSparklineBy_Handler(param1: number): number\n\t\t{\n\t\t\tif (!this.dataSource || this.dataSource.data.points.length === 0)\n\t\t\t\treturn 0;\n\n\t\t\tif (this.sparklineType === Const.STATIC)\n\t\t\t\treturn param1;\n\n\t\t\tlet _loc2_ = param1 * this.sparkCount / (this.maxx - this.minx);\n\t\t\tlet _loc3_ = this.sparkLastMinute + _loc2_ - this.sparkCount;\n\t\t\tconst _loc4_ = _loc2_;\n\t\t\tif (this.sparkLastMinute + _loc2_ > 0)\n\t\t\t{\n\t\t\t\t_loc2_ = -this.sparkLastMinute;\n\t\t\t}\n\t\t\telse if (_loc3_ < this.getOldestMinute())\n\t\t\t{\n\t\t\t\t_loc2_ = this.getOldestMinute() + this.sparkCount - this.sparkLastMinute;\n\t\t\t\tthis.generateEvent(ChartDetailTypes.GET_40Y_DATA, this.dataSource);\n\t\t\t}\n\t\t\tconst firstDataSource = this.displayManager.layersManager.getFirstDataSource();\n\t\t\tif (this.myController.currentIntervalLevel !== Intervals.INVALID && firstDataSource)\n\t\t\t{\n\t\t\t\t_loc3_ = this.sparkLastMinute + _loc2_ - this.sparkCount;\n\t\t\t\tif (_loc3_ > this.getOldestMinute() && _loc3_ < firstDataSource.firstOpenRelativeMinutes)\n\t\t\t\t\t_loc2_ = firstDataSource.firstOpenRelativeMinutes + this.sparkCount - this.sparkLastMinute;\n\t\t\t}\n\t\t\tif (_loc2_ !== this.sparkMinutesOffset)\n\t\t\t{\n\t\t\t\tthis.sparkMinutesOffset = _loc2_;\n\t\t\t\tthis.redraw();\n\t\t\t}\n\t\t\tif (_loc4_ === 0)\n\t\t\t\treturn 0;\n\n\t\t\treturn param1 * (_loc2_ / _loc4_);\n\t\t}\n\n\t\tprivate adjustSparklineToWindow()\n\t\t{\n\t\t\tconst lastMinute = this.getLastMinute();\n\t\t\tconst firstMinute = this.getFirstMinute();\n\t\t\tconst sparkLastMinute = this.getSparkLastMinute();\n\t\t\tconst sparkFirstMinute = this.getSparkFirstMinute();\n\t\t\tif (lastMinute > sparkLastMinute && lastMinute <= 0)\n\t\t\t\tthis.sparkLastMinute += lastMinute - sparkLastMinute;\n\t\t\telse if (firstMinute < sparkFirstMinute)\n\t\t\t\tthis.sparkLastMinute += firstMinute - sparkFirstMinute;\n\t\t\telse\n\t\t\t\treturn;\n\n\t\t\tthis.resetCanvas();\n\t\t\tthis.renderPassiveLayers();\n\t\t\tthis.renderLayers();\n\t\t\tthis.moveMask();\n\t\t}\n\n\t\tgetMinuteOfX(x: number): number\n\t\t{\n\t\t\treturn this.getSparkLastMinute() - (this.maxx - x) * this.sparkCount / (this.maxx - this.minx);\n\t\t}\n\n\t\tzoomingAnimation_init(context: Context)\n\t\t{\n\t\t}\n\n\t\tgetNewContext(lastMinute: number, count: number): Context\n\t\t{\n\t\t\tconst context = new Context();\n\t\t\tcontext.lastMinute = lastMinute;\n\t\t\tcontext.count = count;\n\t\t\treturn context;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class SparklineViewPoint_ScrollbarButtonLeft extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"../../../flash/display/Bitmap.ts\"/>\nnamespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class SparklineViewPoint_ScrollbarButtonRight extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"StockAssociatedObject.ts\" />\n\nnamespace com.google.finance\n{\n\texport class Split extends StockAssociatedObject\n\t{\n\t\tconstructor(pos: number, dayPos: number, posInInterval: SeriesPosition[] | null, time: number, exchangeDateInUTC: Date, id: number, qname: string, public oldShares: number, public newShares: number)\n\t\t{\n\t\t\tsuper(pos, dayPos, posInInterval, time, exchangeDateInUTC, id, qname);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class StockDividend extends StockAssociatedObject\n\t{\n\t\tconstructor(pos: number, dayPos: number, posInInterval: SeriesPosition[] | null, time: number, exchangeDateInUTC: Date, id: number, qname: string, public ticker: string, public  adjustmentFactor: number)\n\t\t{\n\t\t\tsuper(pos, dayPos, posInInterval, time, exchangeDateInUTC, id, qname);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class StockDividendMovie_DividendArrowSidewaysClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class StockDividendMovie_DividendArrowOnOverClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class StockDividendMovie_DividendArrowClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class StockDividendMovie_DividendArrowSidewaysOverClass extends flash.display.Bitmap\n\t{\n\t}\n}\n","/// <reference path=\"StockDividendMovie_DividendArrowSidewaysClass.ts\" />\n/// <reference path=\"StockDividendMovie_DividendArrowOnOverClass.ts\" />\n/// <reference path=\"StockDividendMovie_DividendArrowClass.ts\" />\n/// <reference path=\"StockDividendMovie_DividendArrowSidewaysOverClass.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.text.TextFieldAutoSize;\n\t// import com.google.i18n.locale.DateTimeLocale;\n\n\texport class StockDividendMovie extends SplitMovie\n\t{\n\t\tprivate static readonly DividendArrowSidewaysClass = StockDividendMovie_DividendArrowSidewaysClass;\n\t\tprivate static readonly DividendArrowOnOverClass = StockDividendMovie_DividendArrowOnOverClass;\n\t\tprivate static readonly DividendArrowClass = StockDividendMovie_DividendArrowClass;\n\t\tprivate static readonly DividendArrowSidewaysOverClass = StockDividendMovie_DividendArrowSidewaysOverClass;\n\n\t\tprivate associatedStockDividend: StockDividend;\n\n\t\tprotected getTextColor(): number\n\t\t{\n\t\t\treturn 0x66dd;\n\t\t}\n\n\t\tprotected initArrows()\n\t\t{\n\t\t\tthis.arrow = new StockDividendMovie.DividendArrowClass();\n\t\t\tthis.arrowOnOver = new StockDividendMovie.DividendArrowOnOverClass();\n\t\t\tthis.arrowSideways = new StockDividendMovie.DividendArrowSidewaysClass();\n\t\t\tthis.arrowSidewaysOver = new StockDividendMovie.DividendArrowSidewaysOverClass();\n\t\t}\n\n\t\tgetDetailedText(): string\n\t\t{\n\t\t\tlet msg: string;\n\t\t\tif (this.associatedStockDividend.ticker)\n\t\t\t\tmsg = Message.getMsg(Messages.STOCK_DIVIDEND_TEXT_WITH_TICKER, this.associatedStockDividend.ticker);\n\t\t\telse\n\t\t\t\tmsg = Message.getMsg(Messages.STOCK_DIVIDEND_TEXT);\n\n\t\t\treturn msg.concat(\"\\n\", Message.getMsg(Messages.ADJUSTMENT_FACTOR_TEXT, this.associatedStockDividend.adjustmentFactor));\n\t\t}\n\n\t\tsetObject(stockDividend: StockDividend)\n\t\t{\n\t\t\tthis.associatedStockDividend = stockDividend;\n\t\t\tthis.showText();\n\t\t}\n\n\t\tprotected positionSidewaysArrow()\n\t\t{\n\t\t\tthis.currentVisibleButton.x = -1;\n\t\t\tthis.text.autoSize = flash.text.TextFieldAutoSize.RIGHT;\n\t\t\tthis.text.x = 0;\n\t\t}\n\n\t\tgetDateText(): string\n\t\t{\n\t\t\tconst exchangeDateInUTC = this.associatedStockDividend.exchangeDateInUTC;\n\t\t\tif (Const.isZhLocale(i18n.locale.DateTimeLocale.getLocale()))\n\t\t\t\treturn i18n.locale.DateTimeLocale.standardFormatDateTime(i18n.locale.DateTimeFormats.LONG_DATE_FORMAT, exchangeDateInUTC, true);\n\n\t\t\treturn i18n.locale.DateTimeLocale.standardFormatDateTime(i18n.locale.DateTimeFormats.MEDIUM_DATE_FORMAT, exchangeDateInUTC, true);\n\t\t}\n\n\t\tgetShortText(param1 = false): string\n\t\t{\n\t\t\treturn \"\";\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextFieldAutoSize;\n\t// import flash.text.TextField;\n\t// import flash.text.TextFormat;\n\t// import flash.events.MouseEvent;\n\t// import flash.events.Event;\n\n\texport class ToolTipMovie extends flash.display.Sprite\n\t{\n\t\tprivate content: flash.text.TextField;\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.content = new flash.text.TextField();\n\t\t\tthis.content.defaultTextFormat = new flash.text.TextFormat(\"Arial\", 11);\n\t\t\tthis.content.selectable = false;\n\t\t\tthis.content.addEventListener(MouseEvents.MOUSE_OVER, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t\tMainManager.mouseCursor.lockOnDisplayObject(this.content);\n\t\t\t});\n\t\t\tthis.content.addEventListener(MouseEvents.MOUSE_OUT, (event: Event) =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.unlock();\n\t\t\t});\n\t\t}\n\n\t\tprivate renderBackground()\n\t\t{\n\t\t\tthis.graphics.lineStyle(1, 0x666666, 1);\n\t\t\tthis.graphics.beginFill(0xffffff, 1);\n\t\t\tthis.graphics.drawRect(this.content.x - 1, this.content.y - 1, this.content.width + 2, this.content.height + 2);\n\t\t\tthis.graphics.endFill();\n\t\t}\n\n\t\tprivate renderContent(xPos: number, yPos: number, htmlText: string)\n\t\t{\n\t\t\tthis.content.wordWrap = false;\n\t\t\tthis.content.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.content.htmlText = htmlText;\n\t\t\tthis.addChild(this.content);\n\t\t\tthis.content.x = xPos - this.content.width;\n\t\t\tthis.content.y = yPos;\n\t\t}\n\n\t\trenderMovie(xPos: number, yPos: number, htmlText: string)\n\t\t{\n\t\t\tthis.renderContent(xPos, yPos, htmlText);\n\t\t\tthis.renderBackground();\n\t\t}\n\n\t\tclearMovie()\n\t\t{\n\t\t\tif (this.contains(this.content))\n\t\t\t\tthis.removeChild(this.content);\n\n\t\t\tthis.graphics.clear();\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.text.TextField;\n\t// import flash.display.Sprite;\n\t// import flash.text.TextFormat;\n\t// import flash.text.TextFieldAutoSize;\n\t// import flash.display.DisplayObjectContainer;\n\t// import flash.display.DisplayObject;\n\n\t//type Class = { new (): any };\n\n\texport class Utils\n\t{\n\t\tprivate static localTzOffset: number;\n\n\t\tstatic compareDataUnits(dataUnit1: DataUnit, dataUnit2: DataUnit): number\n\t\t{\n\t\t\treturn dataUnit1.exchangeDateInUTC.getTime() - dataUnit2.exchangeDateInUTC.getTime();\n\t\t}\n\n\t\tstatic getLocalTimezoneOffset(): number\n\t\t{\n\t\t\tif (isNaN(Utils.localTzOffset))\n\t\t\t\tUtils.localTzOffset = new Date().getTimezoneOffset();\n\t\t\treturn Utils.localTzOffset;\n\t\t}\n\n\t\tstatic getDateInTimezone(date: Date, minutes: number): number\n\t\t{\n\t\t\treturn Utils.newDateInTimezone(date, minutes).getUTCDate();\n\t\t}\n\n\t\tstatic adjustExchangeNameOfArray(maps: Map<string>[], key: string)\n\t\t{\n\t\t\tfor (const map of maps)\n\t\t\t{\n\t\t\t\tif (map && map[key])\n\t\t\t\t{\n\t\t\t\t\tif (map[key].indexOf(\"NASD:\") === 0)\n\t\t\t\t\t\tmap[key] = Utils.adjustNasdToNasdaq(map[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tstatic decodeObjects(param1: string): any[]\n\t\t{\n\t\t\tif (!param1)\n\t\t\t\treturn [];\n\n\t\t\tparam1 = decodeURIComponent(param1);\n\t\t\tconst _loc2_: Map<string>[] = [];\n\t\t\tfor (const obj of param1.split(MainManager.paramsObj.objectSeparator))\n\t\t\t{\n\t\t\t\tconst _loc5_: Map<string> = {};\n\t\t\t\tfor (const field of obj.split(MainManager.paramsObj.fieldSeparator))\n\t\t\t\t{\n\t\t\t\t\tconst _loc8_ = field.split(':');\n\t\t\t\t\tlet value: any = _loc8_[1];\n\t\t\t\t\tif (!isNaN(value))\n\t\t\t\t\t\tvalue = Number(value);\n\t\t\t\t\telse if (value === \"true\")\n\t\t\t\t\t\tvalue = true;\n\t\t\t\t\telse if (value === \"false\")\n\t\t\t\t\t\tvalue = false;\n\t\t\t\t\telse if (value === \"null\")\n\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t_loc5_[_loc8_[0]] = value;\n\t\t\t\t}\n\t\t\t\t_loc2_.push(_loc5_);\n\t\t\t}\n\t\t\treturn _loc2_;\n\t\t}\n\n\t\tstatic getTickerParts(ticker: string)\n\t\t{\n\t\t\tconst _loc2_ = ticker.split(':');\n\t\t\tlet _loc3_ = _loc2_.shift()!;\t// TODO: check undefined\n\t\t\tlet _loc4_ = _loc2_.join(':');\n\t\t\tif (_loc4_ === \"\")\n\t\t\t{\n\t\t\t\t_loc4_ = _loc3_;\n\t\t\t\t_loc3_ = \"\";\n\t\t\t}\n\t\t\treturn {\n\t\t\t\texchange: _loc3_,\n\t\t\t\tsymbol: _loc4_\n\t\t\t};\n\t\t}\n\n\t\tstatic binarySearch<T, T2, T3>(items: T[], value: T2, comparer: (p1: T, p2: T2) => number, thisObj: T3): number\n\t\t{\n\t\t\tif (!items || items.length === 0)\n\t\t\t\treturn -1;\n\n\t\t\tif (comparer.call(thisObj, items[0], value) > 0)\n\t\t\t\treturn -1;\n\n\t\t\tif (comparer.call(thisObj, items[items.length - 1], value) <= 0)\n\t\t\t\treturn items.length - 1;\n\n\t\t\tlet left = 0;\n\t\t\tlet right = items.length - 1;\n\t\t\twhile (left < right - 1)\n\t\t\t{\n\t\t\t\tconst mid = Math.round((left + right) / 2);\n\t\t\t\tconst comparison = comparer.call(thisObj, items[mid], value);\n\t\t\t\tif (comparison < 0)\n\t\t\t\t\tleft = mid;\n\t\t\t\telse if (comparison > 0)\n\t\t\t\t\tright = mid;\n\t\t\t\telse\n\t\t\t\t\treturn mid;\n\t\t\t}\n\t\t\treturn left;\n\t\t}\n\n\t\tstatic assocArrayLength(map: Dictionary): number\n\t\t{\n\t\t\tlet length = 0;\n\t\t\tfor (const _ of Object.keys(map))\n\t\t\t\tlength++;\n\t\t\treturn length;\n\t\t}\n\n\t\tstatic newDateInTimezone(date: Date, minutes: number): Date\n\t\t{\n\t\t\treturn new Date(date.getTime() + minutes * 60 * 1000);\n\t\t}\n\n\t\tstatic compareUtcDates(date1: Date, date2: Date): number\n\t\t{\n\t\t\tif (date1.getUTCFullYear() !== date2.getUTCFullYear())\n\t\t\t\treturn date1.getUTCFullYear() - date2.getUTCFullYear();\n\n\t\t\tif (date1.getUTCMonth() !== date2.getUTCMonth())\n\t\t\t\treturn date1.getUTCMonth() - date2.getUTCMonth();\n\n\t\t\tif (date1.getUTCDate() !== date2.getUTCDate())\n\t\t\t\treturn date1.getUTCDate() - date2.getUTCDate();\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tstatic logTransform(value: number): number\n\t\t{\n\t\t\treturn Math.log(value < Const.LOG_SCALE ? Number((Const.LOG_SCALE - 1) / Const.LOG_SCALE * value + 1) : value) / Const.LOG_SCALE_LOG;\n\t\t}\n\n\t\tstatic getEndOfUTCDayTime(date: Date): number\n\t\t{\n\t\t\tdate = new Date(date.getTime());\n\t\t\tdate.setUTCHours(23, 59, 0, 0);\n\t\t\treturn date.getTime();\n\t\t}\n\n\t\tstatic getSymbolFromTicker(quote: string): string\n\t\t{\n\t\t\treturn Utils.getTickerParts(quote).symbol;\n\t\t}\n\n\t\tstatic getLastRealPointIndex(dataUnits: DataUnit[]): number\n\t\t{\n\t\t\tif (!dataUnits || dataUnits.length === 0)\n\t\t\t\treturn -1;\n\n\t\t\tlet unitIndex = dataUnits.length - 1;\n\t\t\twhile (unitIndex >= 0 && dataUnits[unitIndex].fake)\n\t\t\t\tunitIndex--;\n\n\t\t\treturn unitIndex;\n\t\t}\n\n\t\tstatic getExchangeFromTicker(param1: string): string\n\t\t{\n\t\t\treturn Utils.getTickerParts(param1).exchange;\n\t\t}\n\n\t\tstatic numberToString(value: number, decimals: number, digits: number): string\n\t\t{\n\t\t\tlet _loc4_ = Math.pow(10, decimals);\n\t\t\tvalue = Math.round(value * _loc4_);\n\t\t\tlet _loc5_ = value % _loc4_;\n\t\t\tlet _loc6_ = Math.floor(value / _loc4_) + '.';\n\t\t\twhile (_loc4_ > 1)\n\t\t\t{\n\t\t\t\t_loc4_ /= 10;\n\t\t\t\t_loc6_ += Math.floor(_loc5_ / _loc4_);\n\t\t\t\t_loc5_ = _loc5_ % _loc4_;\n\t\t\t}\n\t\t\tfor (let _loc7_ = 0; _loc7_ < digits - _loc6_.length; _loc7_++)\n\t\t\t\t_loc6_ = '0' + _loc6_;\n\t\t\treturn _loc6_;\n\t\t}\n\n\t\tstatic utcDateToString(date: Date): string\n\t\t{\n\t\t\treturn date.getUTCFullYear() + '.' + (date.getUTCMonth() + 1) + '.' + date.getUTCDate() + '/' + date.getUTCHours() + ':' + date.getUTCMinutes();\n\t\t}\n\n\t\tstatic createLabel(sprite: flash.display.Sprite, text: string, textFormat: flash.text.TextFormat): flash.text.TextField\n\t\t{\n\t\t\tconst textField = new flash.text.TextField();\n\t\t\tsprite.addChild(textField);\n\t\t\ttextField.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\ttextField.defaultTextFormat = textFormat;\n\t\t\ttextField.selectable = false;\n\t\t\ttextField.text = text;\n\t\t\treturn textField;\n\t\t}\n\n\t\tstatic extendedMin(param1: number, param2: number): number\n\t\t{\n\t\t\tif (!(param1 >= 0 || param1 <= 0))\n\t\t\t\treturn param2;\n\n\t\t\tif (!(param2 >= 0 || param2 <= 0))\n\t\t\t\treturn param1;\n\n\t\t\treturn Math.min(param1, param2);\n\t\t}\n\n\t\tstatic findValueInArray<T>(value: T, items: T[]): number\n\t\t{\n\t\t\tif (!items || !value)\n\t\t\t\treturn -1;\n\n\t\t\tfor (let index = 0; index < items.length; index++)\n\t\t\t{\n\t\t\t\tif (value === items[index])\n\t\t\t\t\treturn index;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tstatic getWeekdaysDifference(date1: Date, date2: Date, param3: number): number\n\t\t{\n\t\t\tlet _loc4_ = 0;\n\t\t\tfor (let _loc5_ = 0; _loc5_ < Const.DAY_PER_WEEK; _loc5_++)\n\t\t\t{\n\t\t\t\tif (Utils.IsWeekday(_loc5_, param3))\n\t\t\t\t\t_loc4_++;\n\t\t\t}\n\t\t\tconst _loc6_ = (date2.getTime() - date1.getTime()) / Const.MS_PER_DAY;\n\t\t\tconst _loc7_ = Math.floor(_loc6_ / Const.DAY_PER_WEEK) * _loc4_;\n\t\t\tif (_loc6_ % Const.DAY_PER_WEEK === 0)\n\t\t\t\treturn _loc7_;\n\n\t\t\tlet _loc8_ = 0;\n\t\t\tlet day = date1.getDay();\n\n\t\t\tfor (let _loc10_ = 0; _loc10_ < Const.DAY_PER_WEEK && day !== date2.getDay(); _loc10_++)\n\t\t\t{\n\t\t\t\tif (Utils.IsWeekday(day, param3))\n\t\t\t\t\t_loc8_++;\n\n\t\t\t\tday = (day + 1) % Const.DAY_PER_WEEK;\n\t\t\t}\n\t\t\tif (!Utils.IsWeekday(date1.getDay(), param3) && Utils.IsWeekday(date2.getDay(), param3))\n\t\t\t\t_loc8_++;\n\n\t\t\treturn _loc7_ + _loc8_;\n\t\t}\n\n\t\tstatic numberToMinTwoChars(value: number): string\n\t\t{\n\t\t\tif (value < 10)\n\t\t\t\treturn '0' + value;\n\n\t\t\treturn value.toString();\n\t\t}\n\n\t\tstatic getLogScaledValue(value: number, logScale: string): number\n\t\t{\n\t\t\tif (logScale === Const.LOG_VSCALE || logScale === Const.NEW_LOG_VSCALE)\n\t\t\t\treturn Utils.logTransform(value);\n\n\t\t\treturn value;\n\t\t}\n\n\t\tstatic removeAllChildren(displayObjectContainer: flash.display.DisplayObjectContainer)\n\t\t{\n\t\t\twhile (displayObjectContainer.numChildren > 0)\n\t\t\t\tdisplayObjectContainer.removeChildAt(displayObjectContainer.numChildren - 1);\n\t\t}\n\n\t\tstatic compareNumbers(param1: number, param2: number): number\n\t\t{\n\t\t\tif (param1 < param2)\n\t\t\t\treturn -1;\n\n\t\t\tif (param1 > param2)\n\t\t\t\treturn 1;\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tstatic checkUndefined<T>(value1: T, value2: T): T\n\t\t{\n\t\t\tif (value1 === undefined)\n\t\t\t\treturn value2;\n\n\t\t\treturn value1;\n\t\t}\n\n\t\tstatic adjustNasdToNasdaq(ticker: string): string\n\t\t{\n\t\t\tif (ticker.indexOf(\"NASD:\") === 0)\n\t\t\t\treturn \"NASDAQ:\" + ticker.substr(5);\n\n\t\t\treturn ticker;\n\t\t}\n\n\t\tstatic extendedMax(param1: number, param2: number): number\n\t\t{\n\t\t\tif (!(param1 >= 0 || param1 <= 0))\n\t\t\t\treturn param2;\n\n\t\t\tif (!(param2 >= 0 || param2 <= 0))\n\t\t\t\treturn param1;\n\n\t\t\treturn Math.max(param1, param2);\n\t\t}\n\n\t\tstatic isSubset(superset: Dictionary, subset: Dictionary): boolean\n\t\t{\n\t\t\tfor (const key of Object.keys(superset))\n\t\t\t{\n\t\t\t\tif (superset[key] !== subset[key])\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tstatic printObjectMembers(param1: string, param2: any)\n\t\t{\n\t\t\tconsole.log(param1);\n\t\t\tfor (const key of Object.keys(param2))\n\t\t\t{\n\t\t\t\tconsole.log(\"  obj.\" + key + \" = \" + param2[key]);\n\t\t\t}\n\t\t}\n\n\t\tstatic hourToString(hour: number, minute: number): string\n\t\t{\n\t\t\tlet text = \"\";\n\t\t\tif (minute === 0)\n\t\t\t{\n\t\t\t\tif (hour > 12)\n\t\t\t\t{\n\t\t\t\t\thour -= 12;\n\t\t\t\t\ttext = hour + \" pm\";\n\t\t\t\t}\n\t\t\t\telse if (hour === 12)\n\t\t\t\t{\n\t\t\t\t\ttext = \"12 pm\";\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttext = hour + \" am\";\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet _loc4_ = \"\" + hour;\n\t\t\t\tlet _loc5_ = \"\" + minute;\n\t\t\t\tif (hour < 10)\n\t\t\t\t\t_loc4_ = '0' + hour;\n\n\t\t\t\tif (minute < 10)\n\t\t\t\t\t_loc5_ = '0' + minute;\n\n\t\t\t\ttext = _loc4_ + ':' + _loc5_;\n\t\t\t}\n\t\t\treturn text;\n\t\t}\n\n\t\tstatic appendObjectMembersAsStrings(param1: string, param2: any): string\n\t\t{\n\t\t\tlet _loc3_ = param1 + ':';\n\t\t\tfor (const key of Object.keys(param2))\n\t\t\t\t_loc3_ += \"  obj.\" + key + '=' + param2[key];\n\t\t\treturn _loc3_;\n\t\t}\n\n\t\tstatic displayObjectToTop(displayObject: flash.display.DisplayObject, displayObjectContainer: flash.display.DisplayObjectContainer)\n\t\t{\n\t\t\tlet index = 0;\n\t\t\tconst child = displayObject;\n\t\t\tconst container = displayObjectContainer;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tindex = container.getChildIndex(child);\n\t\t\t\tcontainer.swapChildrenAt(index, container.numChildren - 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcatch (ae /*:ArgumentError*/)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tstatic getLastDayOfWeek(param1: number): number\n\t\t{\n\t\t\tfor (let day = Const.DAY_PER_WEEK - 1; day >= 0; day--)\n\t\t\t{\n\t\t\t\tif (Utils.IsWeekday(day, param1))\n\t\t\t\t\treturn day;\n\t\t\t}\n\t\t\treturn Const.DEFAULT_LAST_MARKET_WEEKDAY;\n\t\t}\n\n\t\tstatic cloneObject<T>(obj: T): T\n\t\t{\n\t\t\tconst clone: any = {};\n\t\t\tfor (const key of Object.keys(obj))\n\t\t\t\tclone[key] = (<any>obj)[key]; // TODO\n\t\t\treturn <T>clone;\n\t\t}\n\n\t\tstatic IsWeekday(param1: number, param2: number): boolean\n\t\t{\n\t\t\tif (64 >> param1 & param2)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t}\n\n\t\tstatic hasDifferentDividendCurrency(currency: string, pinArray: any[]): boolean\n\t\t{\n\t\t\tfor (const pin of pinArray)\n\t\t\t{\n\t\t\t\tif (pin._type === \"dividend\" && pin._amount_currency)\n\t\t\t\t{\n\t\t\t\t\tif (currency && currency !== pin._amount_currency)\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\tcurrency = pin._amount_currency;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\texport class VolumeCalculator\n\t{\n\t\tprivate static computeWeekly(input: DataSeries, output: DataSeries, duration: number)\n\t\t{\n\t\t\tconst weeks = duration / Const.WEEKLY_INTERVAL;\n\t\t\tfor (let dayIndex = input.fridays.length - 1; dayIndex >= 0; dayIndex -= weeks)\n\t\t\t{\n\t\t\t\tlet dayIndex2 = Number(dayIndex);\n\t\t\t\tlet volume = 0;\n\t\t\t\toutput.fridays.push(output.points.length);\n\t\t\t\twhile (dayIndex2 > dayIndex - weeks && dayIndex2 >= 0)\n\t\t\t\t{\n\t\t\t\t\tvolume = Number(volume + input.units[input.fridays[dayIndex2]].volumes[Const.WEEKLY_INTERVAL]);\n\t\t\t\t\tdayIndex2--;\n\t\t\t\t}\n\t\t\t\tif (dayIndex2 < 0)\n\t\t\t\t\tdayIndex2 = 0;\n\n\t\t\t\toutput.points.push(new indicator.VolumeIndicatorPoint(\n\t\t\t\t\tvolume,\n\t\t\t\t\t(input.units[input.fridays[dayIndex]]).relativeMinutes,\n\t\t\t\t\t(<indicator.IndicatorPoint>input.points[input.fridays[dayIndex]]).point,\n\t\t\t\t\t(input.units[input.fridays[dayIndex2]]).time\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\n\t\tprivate static computeDaily(input: DataSeries, output: DataSeries, param3: number)\n\t\t{\n\t\t\tconst dailyInterval = Const.DAILY_INTERVAL;\n\t\t\tconst _loc5_ = param3 / Const.DAILY_INTERVAL;\n\t\t\tfor (let dayIndex = input.days.length - 1; dayIndex >= 0; dayIndex -= _loc5_)\n\t\t\t{\n\t\t\t\tlet dayIndex2 = Number(dayIndex);\n\t\t\t\tlet volume = 0;\n\t\t\t\toutput.days.push(output.points.length);\n\t\t\t\twhile (dayIndex2 > dayIndex - _loc5_ && dayIndex2 >= 0)\n\t\t\t\t{\n\t\t\t\t\tvolume = Number(volume + Number(input.units[input.days[dayIndex2]].volumes[dailyInterval]));\n\t\t\t\t\tdayIndex2--;\n\t\t\t\t}\n\t\t\t\tif (dayIndex2 < 0)\n\t\t\t\t\tdayIndex2 = 0;\n\n\t\t\t\toutput.points.push(new indicator.VolumeIndicatorPoint(\n\t\t\t\t\tvolume,\n\t\t\t\t\t(input.units[input.days[dayIndex]]).relativeMinutes,\n\t\t\t\t\t(<indicator.IndicatorPoint>input.points[input.days[dayIndex]]).point,\n\t\t\t\t\t(input.units[input.days[dayIndex2]]).time\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\n\t\tstatic computeInterval(interval: number, indicator: Indicator, intput: DataSeries)\n\t\t{\n\t\t\tif (indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst output = new DataSeries();\n\t\t\tif (interval < Const.INTRADAY_INTERVAL)\n\t\t\t\treturn;\n\n\t\t\tif (interval < Const.DAILY_INTERVAL)\n\t\t\t\tVolumeCalculator.computeIntraday(intput, output, interval);\n\t\t\telse if (interval < Const.WEEKLY_INTERVAL)\n\t\t\t\tVolumeCalculator.computeDaily(intput, output, interval);\n\t\t\telse\n\t\t\t\tVolumeCalculator.computeWeekly(intput, output, interval);\n\n\t\t\toutput.points.reverse();\n\t\t\toutput.days.reverse();\n\t\t\toutput.fridays.reverse();\n\t\t\tfor (let dayIndex = 0; dayIndex < output.days.length; dayIndex++)\n\t\t\t{\n\t\t\t\toutput.days[dayIndex] = output.points.length - 1 - output.days[dayIndex];\n\t\t\t\toutput.fridays[dayIndex] = output.points.length - 1 - output.fridays[dayIndex];\n\t\t\t}\n\t\t\tindicator.setDataSeries(interval, output);\n\t\t}\n\n\t\tprivate static computeIntraday(input: DataSeries, output: DataSeries, param3: number)\n\t\t{\n\t\t\tconst intradayInterval = Const.INTRADAY_INTERVAL;\n\t\t\tconst _loc5_ = param3 / Const.INTRADAY_INTERVAL;\n\t\t\tfor (let regionIndex = input.intradayRegions.length - 1; regionIndex >= 0; regionIndex--)\n\t\t\t{\n\t\t\t\tconst end = input.intradayRegions[regionIndex].end;\n\t\t\t\tconst start = input.intradayRegions[regionIndex].start;\n\t\t\t\toutput.days.push(output.points.length);\n\t\t\t\tlet unitIndex = end;\n\t\t\t\twhile (unitIndex >= start)\n\t\t\t\t{\n\t\t\t\t\tlet volume = 0;\n\t\t\t\t\tfor (let unitIndex2 = unitIndex; unitIndex2 > unitIndex - _loc5_ && unitIndex2 >= start; unitIndex2--)\n\t\t\t\t\t\tvolume = Number(volume + input.units[unitIndex2].volumes[intradayInterval]);\n\n\t\t\t\t\toutput.points.push(new indicator.VolumeIndicatorPoint(\n\t\t\t\t\t\tvolume,\n\t\t\t\t\t\tinput.units[unitIndex].relativeMinutes,\n\t\t\t\t\t\t(<indicator.IndicatorPoint>input.points[unitIndex]).point,\n\t\t\t\t\t\tinput.units[unitIndex].time\n\t\t\t\t\t));\n\n\t\t\t\t\tunitIndex -= _loc5_;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import flash.text.TextField;\n\t// import flash.text.TextFormat;\n\t// import flash.text.TextFieldAutoSize;\n\n\texport class VolumeScaleLayer extends AbstractLayer<ViewPoint>\n\t{\n\t\tprivate static readonly LABEL_PADDING = 2;\n\n\t\t//private maxPriceRange: number;\n\t\t//private priceSkip: number;\n\t\t//private averagePrice: number;\n\t\tprivate midScaleTextField: flash.text.TextField;\n\t\tprivate topScaleTextField: flash.text.TextField;\n\t\tprivate volumeLabel = new flash.text.TextField();\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.volumeLabel.defaultTextFormat = new flash.text.TextFormat(\"Verdana\", 9, 0x999999);\n\t\t\tthis.volumeLabel.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tthis.volumeLabel.selectable = false;\n\t\t\tthis.addChild(this.volumeLabel);\n\t\t\tthis.initTextFields(viewPoint);\n\t\t}\n\n\t\tprivate drawVolumeLines(context: Context)\n\t\t{\n\t\t\tlet _loc2_ = 1000;\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tif (context && context.maxVolume / 1000000 > 0.5)\n\t\t\t{\n\t\t\t\tthis.volumeLabel.text = Message.getMsg(Messages.VOLUME_LONG) + \" (\" + Message.getMsg(Messages.MILLION_SHORT) + \" / \";\n\t\t\t\t_loc2_ = 1000000;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.volumeLabel.text = Message.getMsg(Messages.VOLUME_LONG) + \" (\" + Message.getMsg(Messages.THOUSAND_SHORT) + \" / \";\n\t\t\t\t_loc2_ = 1000;\n\t\t\t}\n\t\t\tconst _loc4_ = Const.INDICATOR_ENABLED ? viewPoint.getDetailLevelForTechnicalStyle() : viewPoint.getDetailLevel();\n\t\t\tconst _loc5_ = Const.INDICATOR_ENABLED ? 1 : viewPoint.getSkipInterval().skip;\n\t\t\tswitch (_loc4_)\n\t\t\t{\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\tthis.volumeLabel.appendText(_loc5_ * (Const.INTRADAY_INTERVAL / 60) + Message.getMsg(Messages.MINUTES_SHORT) + ')');\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.FIVE_MINUTES:\n\t\t\t\t\tthis.volumeLabel.appendText(_loc5_ * (Const.FIVE_MINUTE_INTERVAL / 60) + Message.getMsg(Messages.MINUTES_SHORT) + ')');\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.HALF_HOUR:\n\t\t\t\t\tthis.volumeLabel.appendText(_loc5_ * (Const.HALF_HOUR_INTERVAL / 60) + Message.getMsg(Messages.MINUTES_SHORT) + ')');\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\t\tthis.volumeLabel.appendText(_loc5_ + Message.getMsg(Messages.DAY_SHORT) + ')');\n\t\t\t\t\tbreak;\n\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\tthis.volumeLabel.appendText(_loc5_ + Message.getMsg(Messages.WEEK_SHORT) + ')');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.clear();\n\t\t\tif (!context.maxVolume)\n\t\t\t{\n\t\t\t\tthis.topScaleTextField.text = \"\";\n\t\t\t\tthis.midScaleTextField.text = \"\";\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgr.lineStyle(0, 0x666666, 1);\n\t\t\tconst _loc6_ = Const.INDICATOR_ENABLED ? Number(viewPoint.miny + Const.BOTTOM_VIEWPOINT_HEADER_HEIGHT) : viewPoint.miny;\n\t\t\tif (Const.INDICATOR_ENABLED)\n\t\t\t{\n\t\t\t\tgr.moveTo(viewPoint.maxx, _loc6_ + 1);\n\t\t\t\tgr.lineTo(viewPoint.maxx - 5, _loc6_ + 1);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tgr.moveTo(viewPoint.maxx, _loc6_ + 3);\n\t\t\t\tgr.lineTo(viewPoint.maxx - 5, _loc6_ + 3);\n\t\t\t}\n\t\t\tgr.moveTo(viewPoint.maxx, (_loc6_ + viewPoint.maxy) / 2);\n\t\t\tgr.lineTo(viewPoint.maxx - 5, (_loc6_ + viewPoint.maxy) / 2);\n\t\t\tthis.topScaleTextField.x = viewPoint.maxx - ViewPoint.TEXT_FIELD_WIDTH - 4;\n\t\t\tthis.topScaleTextField.y = _loc6_ + ViewPoint.TEXT_VERTICAL_OFFSET - 4;\n\t\t\tthis.midScaleTextField.x = viewPoint.maxx - ViewPoint.TEXT_FIELD_WIDTH - 4;\n\t\t\tthis.midScaleTextField.y = (_loc6_ + viewPoint.maxy) / 2 - ViewPoint.TEXT_FIELD_HEIGHT / 2 - 1;\n\t\t\tthis.topScaleTextField.text = String(Math.floor(context.maxVolume) / _loc2_);\n\t\t\tthis.midScaleTextField.text = String(Math.floor(context.maxVolume / 2) / _loc2_);\n\t\t}\n\n\t\tprivate positionVolumeLabel()\n\t\t{\n\t\t\tthis.volumeLabel.x = this.viewPoint.minx + VolumeScaleLayer.LABEL_PADDING;\n\t\t\tthis.volumeLabel.y = this.viewPoint.miny + VolumeScaleLayer.LABEL_PADDING;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.drawVolumeLines(context);\n\t\t\tthis.positionVolumeLabel();\n\t\t}\n\n\t\tprivate initTextFields(viewPoint: IViewPoint)\n\t\t{\n\t\t\tthis.topScaleTextField = new flash.text.TextField();\n\t\t\tthis.topScaleTextField.width = ViewPoint.TEXT_FIELD_WIDTH;\n\t\t\tthis.topScaleTextField.height = ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tthis.topScaleTextField.defaultTextFormat = viewPoint.priceTextFormat;\n\t\t\tthis.topScaleTextField.selectable = false;\n\t\t\tthis.addChild(this.topScaleTextField);\n\t\t\tthis.midScaleTextField = new flash.text.TextField();\n\t\t\tthis.midScaleTextField.width = ViewPoint.TEXT_FIELD_WIDTH;\n\t\t\tthis.midScaleTextField.height = ViewPoint.TEXT_FIELD_HEIGHT;\n\t\t\tthis.midScaleTextField.defaultTextFormat = viewPoint.priceTextFormat;\n\t\t\tthis.midScaleTextField.selectable = false;\n\t\t\tthis.addChild(this.midScaleTextField);\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class WindowLayer_SparkHandle extends flash.display.Bitmap\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis._width = 11;\n\t\t\tthis._height = 18;\n\t\t}\n\t}\n}\n","namespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class WindowLayer_ScrollBarBg extends flash.display.Bitmap\n\t{\n\t}\n}\n","namespace com.google.finance\n{\n\t// import mx.core.Bitmap;\n\n\texport class WindowLayer_SparkHandleActive extends flash.display.Bitmap\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis._width = 11;\n\t\t\tthis._height = 18;\n\t\t}\n\t}\n}\n","/// <reference path=\"WindowLayer_SparkHandle.ts\" />\n/// <reference path=\"WindowLayer_ScrollBarBg.ts\" />\n/// <reference path=\"WindowLayer_SparkHandleActive.ts\" />\n\nnamespace com.google.finance\n{\n\t// import flash.display.Bitmap;\n\t// import flash.display.Sprite;\n\t// import flash.display.DisplayObject;\n\t// import flash.events.MouseEvent;\n\n\texport class WindowLayer extends AbstractDrawingLayer<SparklineViewPoint>\n\t{\n\t\tprivate static readonly SparkHandle = WindowLayer_SparkHandle;\n\t\tprivate static readonly ScrollBarBg = WindowLayer_ScrollBarBg;\n\t\tprivate static readonly SparkHandleActive = WindowLayer_SparkHandleActive;\n\n\t\tprivate static MIN_WINDOW_WIDTH = 6;\n\n\t\tprivate currentHandlesVisibility: boolean = true;\n\t\tprivate sliderBg = new flash.display.Sprite(\"sliderBg\");\n\t\tprivate leftX: number;\n\t\tprivate rightX: number;\n\n\t\tscrollSlider = new ScrollSlider(\"scrollSlider\");\n\t\tinitialX: number;\n\t\tleftHandle: DraggableHandle;\n\t\trightHandle: DraggableHandle;\n\t\tleftHandleXOffset = 0;\n\t\trightHandleXOffset = 0;\n\n\t\tconstructor(viewPoint: SparklineViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\n\t\t\tconst sliderBgBitmap = new WindowLayer.ScrollBarBg();\n\t\t\tsliderBgBitmap.y = viewPoint.maxy - 1;\n\t\t\tsliderBgBitmap.x = viewPoint.minx;\n\t\t\tsliderBgBitmap.width = viewPoint.maxx - viewPoint.minx;\n\t\t\tthis.sliderBg.addChild(sliderBgBitmap);\n\t\t\tthis.addChild(this.sliderBg);\n\t\t\tthis.sliderBg.addEventListener(MouseEvents.CLICK, () =>\n\t\t\t{\n\t\t\t\tviewPoint.myController.mouseDownAction(ControllerComponents.SCROLL_BG);\n\t\t\t});\n\t\t\tthis.addChild(this.scrollSlider);\n\t\t\tthis.scrollSlider.y = viewPoint.maxy - 1;\n\t\t\tthis.scrollSlider.x = viewPoint.minx;\n\t\t\tthis.rightHandle = new DraggableHandle(WindowLayer.SparkHandle, WindowLayer.SparkHandleActive);\n\t\t\tthis.rightHandle.y = Math.floor((viewPoint.maxy + viewPoint.miny) / 2 - this.rightHandle.height / 2);\n\t\t\tthis.rightHandle.x = viewPoint.minx;\n\t\t\tthis.addChild(this.rightHandle);\n\t\t\tthis.leftHandle = new DraggableHandle(WindowLayer.SparkHandle, WindowLayer.SparkHandleActive);\n\t\t\tthis.leftHandle.y = Math.floor((viewPoint.maxy + viewPoint.miny) / 2 - this.leftHandle.height / 2);\n\t\t\tthis.leftHandle.x = viewPoint.minx;\n\t\t\tthis.addChild(this.leftHandle);\n\t\t\tthis.scrollSlider.addEventListener(MouseEvents.MOUSE_DOWN, () =>\n\t\t\t{\n\t\t\t\tviewPoint.myController.mouseDownAction(ControllerComponents.SCROLL_BAR);\n\t\t\t});\n\t\t\tconst controller = viewPoint.myController;\n\t\t\tthis.leftHandle.addEventListener(MouseEvents.ROLL_OVER, () =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.H_ARROWS);\n\t\t\t});\n\t\t\tthis.leftHandle.addEventListener(MouseEvents.ROLL_OUT, () =>\n\t\t\t{\n\t\t\t\tif (controller.getState() !== ControllerStates.DRAGGING_LEFT_HANDLE)\n\t\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t});\n\t\t\tthis.leftHandle.addEventListener(MouseEvents.MOUSE_DOWN, () =>\n\t\t\t{\n\t\t\t\tviewPoint.myController.mouseDownAction(ControllerComponents.LEFT_HANDLE);\n\t\t\t});\n\t\t\tthis.rightHandle.addEventListener(MouseEvents.ROLL_OVER, () =>\n\t\t\t{\n\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.H_ARROWS);\n\t\t\t});\n\t\t\tthis.rightHandle.addEventListener(MouseEvents.ROLL_OUT, () =>\n\t\t\t{\n\t\t\t\tif (controller.getState() !== ControllerStates.DRAGGING_RIGHT_HANDLE)\n\t\t\t\t\tMainManager.mouseCursor.setCursor(MouseCursors.CLASSIC);\n\t\t\t});\n\t\t\tthis.rightHandle.addEventListener(MouseEvents.MOUSE_DOWN, () =>\n\t\t\t{\n\t\t\t\tviewPoint.myController.mouseDownAction(ControllerComponents.RIGHT_HANDLE);\n\t\t\t});\n\t\t\tthis.toggleHandles(false);\n\t\t}\n\n\t\tgetLastDataUnit(): DataUnit\n\t\t{\n\t\t\tconst handleRightX = this.getHandleRightX();\n\t\t\tconst data = this.viewPoint.dataSource.data;\n\t\t\tconst minute = this.viewPoint.getMinuteOfX(handleRightX);\n\t\t\treturn data.units[data.getRelativeMinuteIndex(minute)];\n\t\t}\n\n\t\tupdateFixedElements()\n\t\t{\n\t\t\tconst bitmap = this.sliderBg.getChildAt(0) as flash.display.Bitmap;\n\t\t\tbitmap.y = this.viewPoint.maxy - 1;\n\t\t\tbitmap.width = this.viewPoint.maxx - this.viewPoint.minx;\n\t\t\tthis.scrollSlider.y = this.viewPoint.maxy - 1;\n\t\t\tthis.rightHandle.y = Math.floor((this.viewPoint.maxy + this.viewPoint.miny) / 2 - this.rightHandle.height / 2);\n\t\t\tthis.leftHandle.y = Math.floor((this.viewPoint.maxy + this.viewPoint.miny) / 2 - this.leftHandle.height / 2);\n\t\t}\n\n\t\tgetHandleRightX(): number\n\t\t{\n\t\t\treturn this.rightHandle.x + this.rightHandle.width / 2;\n\t\t}\n\n\t\tprivate checkHandlePosition(displayObject: flash.display.DisplayObject)\n\t\t{\n\t\t\tif (displayObject.x < this.viewPoint.minx - displayObject.width / 2)\n\t\t\t\tdisplayObject.x = this.viewPoint.minx - displayObject.width / 2;\n\n\t\t\tif (displayObject.x > this.viewPoint.maxx - displayObject.width / 2)\n\t\t\t\tdisplayObject.x = this.viewPoint.maxx - displayObject.width / 2;\n\t\t}\n\n\t\trenderLayer(context?: Context)\n\t\t{\n\t\t\tif (this.stage.stageWidth === 0)\n\t\t\t\treturn;\n\n\t\t\tif (!this.dataSource || this.dataSource.isEmpty())\n\t\t\t\treturn;\n\n\t\t\tconst data = this.dataSource.data;\n\t\t\tconst sparklineViewPoint = <SparklineViewPoint><any>this.viewPoint;\n\t\t\tthis.graphics.clear();\n\t\t\t//const _loc4_ = _loc2_.getRelativeMinuteIndex(_loc3_.getLastMinute());\n\t\t\tlet firstMinuteIndex = Number(data.getRelativeMinuteIndex(sparklineViewPoint.getFirstMinute()) - 1);\n\t\t\tif (firstMinuteIndex < 0)\n\t\t\t\tfirstMinuteIndex = 0;\n\n\t\t\tthis.rightX = sparklineViewPoint.getMinuteXPos(sparklineViewPoint.getLastMinute());\n\t\t\tthis.leftX = sparklineViewPoint.getMinuteXPos(sparklineViewPoint.getFirstMinute());\n\t\t\tlet rightX = this.rightX;\n\t\t\tlet leftX = this.leftX;\n\t\t\tif (rightX > sparklineViewPoint.maxx)\n\t\t\t\trightX = sparklineViewPoint.maxx;\n\n\t\t\tif (rightX < sparklineViewPoint.minx + WindowLayer.MIN_WINDOW_WIDTH - 1)\n\t\t\t\trightX = sparklineViewPoint.minx + WindowLayer.MIN_WINDOW_WIDTH - 1;\n\n\t\t\tif (rightX - leftX <= WindowLayer.MIN_WINDOW_WIDTH)\n\t\t\t{\n\t\t\t\trightX = (leftX + rightX) / 2;\n\t\t\t\tif (rightX > sparklineViewPoint.maxx - (this.rightHandle.width - 2) / 2 + 2)\n\t\t\t\t\trightX = sparklineViewPoint.maxx - (this.rightHandle.width - 2) / 2 + 2;\n\n\t\t\t\tleftX = rightX;\n\t\t\t}\n\t\t\tthis.rightHandle.x = rightX - this.rightHandle.width / 2 - this.rightHandleXOffset;\n\t\t\tthis.checkHandlePosition(this.rightHandle);\n\t\t\tthis.leftHandle.x = leftX - this.leftHandle.width / 2 - this.leftHandleXOffset;\n\t\t\tthis.checkHandlePosition(this.leftHandle);\n\t\t\tthis.scrollSlider.x = Math.round(leftX) - 2;\n\t\t\tthis.scrollSlider.setWidth(Math.round(rightX - leftX) + 2);\n\t\t\tif (this.scrollSlider.width + 2 > rightX - leftX)\n\t\t\t\tthis.scrollSlider.x = (rightX + leftX) / 2 - this.scrollSlider.width / 2;\n\n\t\t\tif (this.scrollSlider.x + this.scrollSlider.width > this.viewPoint.maxx)\n\t\t\t\tthis.scrollSlider.x = this.viewPoint.maxx - this.scrollSlider.width;\n\n\t\t\tif (this.scrollSlider.x < this.viewPoint.minx)\n\t\t\t\tthis.scrollSlider.x = this.viewPoint.minx;\n\t\t}\n\n\t\tgetHandleLeftX(): number\n\t\t{\n\t\t\treturn this.leftHandle.x + this.leftHandle.width / 2;\n\t\t}\n\n\t\ttoggleHandles(visibility: boolean)\n\t\t{\n\t\t\t//return false;\t// TODO (hitTestPoint)\n\t\t\tif (visibility === this.currentHandlesVisibility)\n\t\t\t\treturn;\n\n\t\t\tthis.currentHandlesVisibility = visibility;\n\t\t\tif (visibility === true)\n\t\t\t{\n\t\t\t\tthis.addChild(this.leftHandle);\n\t\t\t\tthis.addChild(this.rightHandle);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tthis.removeChild(this.leftHandle);\n\t\t\t\t\tthis.removeChild(this.rightHandle);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcatch (ae /*:ArgumentError*/)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgetFirstDataUnit(): DataUnit\n\t\t{\n\t\t\tconst handleLeftX = this.getHandleLeftX();\n\t\t\tconst data = this.viewPoint.dataSource.data;\n\t\t\tconst minute = this.viewPoint.getMinuteOfX(handleLeftX);\n\t\t\treturn data.units[data.getRelativeMinuteIndex(minute) + 1];\n\t\t}\n\n\t\thandleReleased(draggableHandle: DraggableHandle)\n\t\t{\n\t\t\tlet _loc7_ = NaN;\n\t\t\tconst _loc2_ = this.rightHandle.x + this.rightHandle.width / 2;\n\t\t\tlet _loc3_ = this.leftHandle.x + this.leftHandle.width / 2;\n\t\t\tif (_loc2_ === _loc3_)\n\t\t\t\t_loc3_ = _loc2_ - WindowLayer.MIN_WINDOW_WIDTH;\n\n\t\t\t//const _loc4_ = this.dataSource.data;\n\t\t\tconst sparklineViewPoint = <SparklineViewPoint><any>this.viewPoint;\n\t\t\tconst _loc6_ = sparklineViewPoint.sparkCount * Math.abs(_loc2_ - _loc3_) / (sparklineViewPoint.maxx - sparklineViewPoint.minx);\n\t\t\tswitch (draggableHandle)\n\t\t\t{\n\t\t\t\tcase this.leftHandle:\n\t\t\t\t\tif (_loc3_ < _loc2_)\n\t\t\t\t\t\t_loc7_ = Number(sparklineViewPoint.getLastMinute());\n\t\t\t\t\telse\n\t\t\t\t\t\t_loc7_ = Number(sparklineViewPoint.getLastMinute() + _loc6_);\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.rightHandle:\n\t\t\t\t\tif (_loc3_ < _loc2_)\n\t\t\t\t\t\t_loc7_ = Number(sparklineViewPoint.getFirstMinute() + _loc6_);\n\t\t\t\t\telse\n\t\t\t\t\t\t_loc7_ = Number(sparklineViewPoint.getFirstMinute());\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (_loc7_ > 0)\n\t\t\t\t_loc7_ = 0;\n\n\t\t\tsparklineViewPoint.myController.clearCurrentZoom();\n\t\t\tsparklineViewPoint.myController.animateTo(_loc7_, _loc6_);\n\t\t\tdraggableHandle.x = this.initialX;\n\t\t\tthis.leftHandleXOffset = 0;\n\t\t\tthis.rightHandleXOffset = 0;\n\t\t}\n\n\t\tgetRightX(): number\n\t\t{\n\t\t\treturn this.rightX;\n\t\t}\n\n\t\tgetLeftX(): number\n\t\t{\n\t\t\treturn this.leftX;\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.AbstractDrawingLayer;\n\t// import flash.text.TextField;\n\t// import com.google.finance.Const;\n\t// import com.google.finance.Indicator;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataUnit;\n\t// import flash.display.Sprite;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.DataSource;\n\t// import flash.text.TextFormat;\n\n\texport abstract class IndicatorLayer extends AbstractDrawingLayer<ViewPoint>\n\t{\n\t\tstatic readonly TRUE_STR = \"true\";\n\t\tstatic readonly FALSE_STR = \"false\";\n\n\t\tstatic readonly TEXT_LEFT_MARGIN = 2;\n\t\tstatic readonly TEXT_TOP_MARGIN = 2;\n\n\t\tstatic readonly INDICATOR_TEXT_FONT = \"Verdana\";\n\t\tstatic readonly INDICATOR_TEXT_FONT_SIZE = 9;\n\t\tstatic readonly INDICATOR_TEXT_WIDTH = 118;\n\t\tstatic readonly INDICATOR_TEXT_HEIGHT = 16;\n\n\t\tstatic readonly NAME_TEXT_COLOR = 0x999999;\n\t\tstatic readonly MEDIAN_LINE_COLOR = 0xaa0000;\n\t\tstatic readonly COLORS: ReadonlyArray<number> = [0x66cc, 0xcc3300, 0x339933, 0xff00ff];\n\n\t\tprotected localYOffset = 0;\n\n\t\tprotected _enabled = false;\n\n\t\tprotected indicatorNameText: flash.text.TextField;\n\n\t\tindicator: Indicator;\n\n\t\tprotected medianLineCanvas: flash.display.Sprite;\n\n\t\tprotected textOutCanvas: flash.display.Sprite;\n\n\t\tprotected localMedianValue = 0;\n\n\t\tprotected localYScale = 0;\n\n\t\tprotected indicatorValueTextArray: flash.text.TextField[];\n\n\t\tprotected indicatorName: string;\n\n\t\tprotected highlightCanvas: flash.display.Sprite;\n\n\t\tprotected dashSize = 7;\n\n\t\tprotected originalDataSeries: DataSeries;\n\n\t\tprivate static readonly INDICATOR_LAYER_PARAMETER_NAMES: ReadonlyArray<string> = [];\n\t\tstatic getParameterNames() { return IndicatorLayer.INDICATOR_LAYER_PARAMETER_NAMES; }\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tthis.highlightCanvas = new flash.display.Sprite(\"highlightCanvas\");\n\t\t\tthis.addChild(this.highlightCanvas);\n\t\t\tthis.textOutCanvas = new flash.display.Sprite(\"textOutCanvas\");\n\t\t\tthis.addChild(this.textOutCanvas);\n\t\t\tthis.medianLineCanvas = new flash.display.Sprite(\"medianLineCanvas\");\n\t\t\tthis.addChild(this.medianLineCanvas);\n\t\t\tif (this.isNameTextRequired())\n\t\t\t{\n\t\t\t\tthis.indicatorNameText = new flash.text.TextField();\n\t\t\t\tthis.indicatorNameText.selectable = false;\n\t\t\t\tthis.indicatorNameText.textColor = IndicatorLayer.NAME_TEXT_COLOR;\n\t\t\t\tthis.indicatorNameText.defaultTextFormat = new flash.text.TextFormat(IndicatorLayer.INDICATOR_TEXT_FONT, IndicatorLayer.INDICATOR_TEXT_FONT_SIZE, IndicatorLayer.NAME_TEXT_COLOR);\n\t\t\t\tthis.indicatorNameText.width = IndicatorLayer.INDICATOR_TEXT_WIDTH;\n\t\t\t\tthis.indicatorNameText.height = IndicatorLayer.INDICATOR_TEXT_HEIGHT;\n\t\t\t\tthis.textOutCanvas.addChild(this.indicatorNameText);\n\t\t\t}\n\t\t\tthis.indicatorValueTextArray = [];\n\t\t\tfor (let colorIndex = 0; colorIndex < IndicatorLayer.COLORS.length; colorIndex++)\n\t\t\t{\n\t\t\t\tconst layerTextFormat = new flash.text.TextField();\n\t\t\t\tlayerTextFormat.selectable = false;\n\t\t\t\tlayerTextFormat.textColor = this.getColor(colorIndex);\n\t\t\t\tlayerTextFormat.defaultTextFormat = new flash.text.TextFormat(IndicatorLayer.INDICATOR_TEXT_FONT, IndicatorLayer.INDICATOR_TEXT_FONT_SIZE, layerTextFormat.textColor);\n\t\t\t\tlayerTextFormat.width = IndicatorLayer.INDICATOR_TEXT_WIDTH;\n\t\t\t\tlayerTextFormat.height = IndicatorLayer.INDICATOR_TEXT_HEIGHT;\n\t\t\t\tthis.textOutCanvas.addChild(layerTextFormat);\n\t\t\t\tthis.indicatorValueTextArray.push(layerTextFormat);\n\t\t\t}\n\t\t}\n\n\t\tprivate getIntervalText(detailLevel: Intervals): string\n\t\t{\n\t\t\tswitch (detailLevel)\n\t\t\t{\n\t\t\t\tcase Intervals.INTRADAY:\n\t\t\t\t\treturn \"2m\";\n\t\t\t\tcase Intervals.FIVE_MINUTES:\n\t\t\t\t\treturn \"5m\";\n\t\t\t\tcase Intervals.HALF_HOUR:\n\t\t\t\t\treturn \"30m\";\n\t\t\t\tcase Intervals.DAILY:\n\t\t\t\t\treturn \"1d\";\n\t\t\t\tcase Intervals.WEEKLY:\n\t\t\t\t\treturn \"1w\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}\n\n\t\tgetIndicatorName(): string\n\t\t{\n\t\t\treturn this.indicatorName;\n\t\t}\n\n\t\tprivate renderHistogramLine(dataSeriesArray: DataSeries[], dataSeriesIndex: number, param3: number, param4: number, viewPoint: ViewPoint, context: Context, detailLevel: Intervals, layerType: string)\n\t\t{\n\t\t\tlet xPos = Number.MAX_VALUE;\n\t\t\tconst yPos = this.getYPos(context, new IndicatorPoint(0, <DataUnit><any>null));\t// TODO\n\t\t\tconst gr = this.graphics;\n\t\t\tfor (let pointIndex = param4; pointIndex >= param3; pointIndex--)\n\t\t\t{\n\t\t\t\tif (!isNaN(dataSeriesArray[dataSeriesIndex].points[pointIndex].getValue()))\n\t\t\t\t{\n\t\t\t\t\tconst point = dataSeriesArray[dataSeriesIndex].points[pointIndex].getPoint();\n\t\t\t\t\tif (detailLevel === Intervals.WEEKLY && layerType !== Const.LINE_CHART)\n\t\t\t\t\t\txPos = this.getWeeklyBarXPos(point, xPos);\n\n\t\t\t\t\tconst x = !isNaN(point.weeklyXPos) ? point.weeklyXPos : viewPoint.getXPos(point);\n\t\t\t\t\tconst y = this.getYPos(context, dataSeriesArray[dataSeriesIndex].points[pointIndex]);\n\t\t\t\t\tgr.lineStyle(1, this.getColor(dataSeriesIndex, dataSeriesArray[dataSeriesIndex].points[pointIndex].getValue()));\n\t\t\t\t\tgr.moveTo(x, yPos);\n\t\t\t\t\tgr.lineTo(x, y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate renderSingleLine(dataSeriesArray: DataSeries[], param2: number, param3: number, param4: number, viewPoint: ViewPoint, context: Context, detailLevel: Intervals, layerType: string)\n\t\t{\n\t\t\tlet _loc9_ = Number.MAX_VALUE;\n\t\t\tlet point = dataSeriesArray[param2].points[param4].getPoint();\n\t\t\tif (detailLevel === Intervals.WEEKLY && layerType !== Const.LINE_CHART)\n\t\t\t\t_loc9_ = this.getWeeklyBarXPos(point, _loc9_);\n\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(1, this.indicatorValueTextArray[param2].textColor);\n\t\t\tgr.moveTo(!isNaN(point.weeklyXPos) ? Number(point.weeklyXPos) : viewPoint.getXPos(point), this.getYPos(context, dataSeriesArray[param2].points[param4]));\n\t\t\tlet _loc11_ = param4 - 1;\n\t\t\twhile (_loc11_ >= param3)\n\t\t\t{\n\t\t\t\tif (!isNaN(dataSeriesArray[param2].points[_loc11_].getValue()))\n\t\t\t\t{\n\t\t\t\t\tpoint = dataSeriesArray[param2].points[_loc11_].getPoint();\n\t\t\t\t\tif (detailLevel === Intervals.WEEKLY && layerType !== Const.LINE_CHART)\n\t\t\t\t\t\t_loc9_ = this.getWeeklyBarXPos(point, _loc9_);\n\n\t\t\t\t\tconst _loc12_ = !isNaN(point.weeklyXPos) ? point.weeklyXPos : viewPoint.getXPos(point);\n\t\t\t\t\tconst _loc13_ = this.getYPos(context, dataSeriesArray[param2].points[_loc11_]);\n\t\t\t\t\tif (_loc13_ < viewPoint.miny)\n\t\t\t\t\t\tgr.moveTo(_loc12_, viewPoint.miny);\n\t\t\t\t\telse if (_loc13_ > viewPoint.maxy)\n\t\t\t\t\t\tgr.moveTo(_loc12_, viewPoint.maxy);\n\t\t\t\t\telse\n\t\t\t\t\t\tgr.lineTo(_loc12_, _loc13_);\n\t\t\t\t}\n\t\t\t\t_loc11_--;\n\t\t\t}\n\t\t}\n\n\t\tprivate renderHistogramLineFromBottom(dataSeriesArray: DataSeries[], param2: number, param3: number, param4: number, viewPoint: ViewPoint, context: Context, detailLevel: Intervals, layerType: string)\n\t\t{\n\t\t\tlet _loc9_ = Number.MAX_VALUE;\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(1, this.indicatorValueTextArray[param2].textColor);\n\t\t\tlet _loc11_ = param4;\n\t\t\twhile (_loc11_ >= param3)\n\t\t\t{\n\t\t\t\tif (!isNaN(dataSeriesArray[param2].points[_loc11_].getValue()))\n\t\t\t\t{\n\t\t\t\t\tconst point = dataSeriesArray[param2].points[_loc11_].getPoint();\n\t\t\t\t\tif (detailLevel === Intervals.WEEKLY && layerType !== Const.LINE_CHART)\n\t\t\t\t\t\t_loc9_ = this.getWeeklyBarXPos(point, _loc9_);\n\n\t\t\t\t\tconst x = !isNaN(point.weeklyXPos) ? point.weeklyXPos : viewPoint.getXPos(point);\n\t\t\t\t\tconst y = this.getYPos(context, dataSeriesArray[param2].points[_loc11_]);\n\t\t\t\t\tgr.moveTo(x, this.viewPoint.maxy);\n\t\t\t\t\tgr.lineTo(x, y);\n\t\t\t\t}\n\t\t\t\t_loc11_--;\n\t\t\t}\n\t\t}\n\n\t\tprotected getYPos(context: Context, indicatorPoint: IndicatorPoint): number\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\tprotected drawMedianLine(param1: number = -1, sprite: flash.display.Sprite)\n\t\t{\n\t\t\tif (param1 === -1)\n\t\t\t\tparam1 = IndicatorLayer.MEDIAN_LINE_COLOR;\n\n\t\t\tif (!sprite)\n\t\t\t\tsprite = this.medianLineCanvas;\n\n\t\t\tconst localYOffset = this.localYOffset;\n\t\t\tconst minx = this.viewPoint.minx;\n\t\t\tconst maxx = this.viewPoint.maxx;\n\t\t\tlet _loc6_ = 0;\n\t\t\tconst gr = sprite.graphics;\n\t\t\tgr.lineStyle(1, param1);\n\t\t\tdo\n\t\t\t{\n\t\t\t\tgr.moveTo(minx + _loc6_ * this.dashSize, localYOffset);\n\t\t\t\tgr.lineTo(minx + (_loc6_ + 1) * this.dashSize, localYOffset);\n\t\t\t\t_loc6_ = Number(_loc6_ + 2);\n\t\t\t}\n\t\t\twhile (minx + _loc6_ * this.dashSize < maxx);\n\t\t}\n\n\t\tprotected drawAHighlightDot(param1: number, param2: number, param3: number)\n\t\t{\n\t\t\tconst gr = this.highlightCanvas.graphics;\n\t\t\tgr.lineStyle(5, param3, 1);\n\t\t\tgr.moveTo(param1, param2 - 0.2);\n\t\t\tgr.lineTo(param1, param2 + 0.2);\n\t\t}\n\n\t\tset enabled(enabled: string)\n\t\t{\n\t\t\tthis._enabled = enabled === IndicatorLayer.TRUE_STR;\n\t\t}\n\n\t\tprotected abstract calculateLocalScaleMeters(context: Context): void;\n\n\t\tprotected getColor(param1: number, param2 = NaN): number\n\t\t{\n\t\t\treturn IndicatorLayer.COLORS[param1 % IndicatorLayer.COLORS.length];\n\t\t}\n\n\t\tgetDataSeries(context: Context): DataSeries | null\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\thighlightPoint(context: Context, x: number, state: Dictionary)\n\t\t{\n\n\t\t\tif (!this._enabled)\n\t\t\t\treturn;\n\n\t\t\tthis.clearHighlight();\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst detailLevel = viewPoint.getDetailLevelForTechnicalStyle();\n\t\t\tconst intervalText = this.getIntervalText(detailLevel);\n\t\t\tconst dataSeriesArray = this.getDataSeriesArray(detailLevel);\n\t\t\tif (!dataSeriesArray)\n\t\t\t\treturn;\n\n\t\t\tconst dPointIndex = this.findPointIndex(x);\n\t\t\tif (dPointIndex === -1)\n\t\t\t\treturn;\n\n\t\t\tfor (let dataSeriesIndex = 0; dataSeriesIndex < dataSeriesArray.length; dataSeriesIndex++)\n\t\t\t{\n\t\t\t\tconst point = dataSeriesArray[dataSeriesIndex].points[dPointIndex];\n\t\t\t\tif (!point)\n\t\t\t\t\tcontinue;\t// TODO:\n\t\t\t\tconst _loc9_ = point.getPoint();\n\t\t\t\tlet value = point.getValue();\n\t\t\t\tif (!isNaN(value))\n\t\t\t\t{\n\t\t\t\t\tconst _loc12_ = !isNaN(_loc9_.weeklyXPos) ? _loc9_.weeklyXPos : viewPoint.getXPos(_loc9_);\n\t\t\t\t\tlet _loc13_;\n\t\t\t\t\tswitch (this.getLineStyle(dataSeriesIndex))\n\t\t\t\t\t{\n\t\t\t\t\t\tcase IndicatorLineStyle.SIMPLE_LINE:\n\t\t\t\t\t\t\t_loc13_ = this.getYPos(context, point);\n\t\t\t\t\t\t\tif (_loc13_ < viewPoint.maxy && _loc13_ > viewPoint.miny)\n\t\t\t\t\t\t\t\tthis.drawAHighlightDot(_loc12_, _loc13_, this.indicatorValueTextArray[dataSeriesIndex].textColor);\n\n\t\t\t\t\t\t\tvalue = Math.round(value * 100) / 100;\n\t\t\t\t\t\t\tthis.indicatorValueTextArray[dataSeriesIndex].text = this.getIndicatorValueText(dataSeriesIndex, value, intervalText, context);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase IndicatorLineStyle.HISTOGRAM_LINE:\n\t\t\t\t\t\t\tconst _loc14_ = this.getYPos(context, new IndicatorPoint(0, <DataUnit><any>null)); // TODO\n\t\t\t\t\t\t\t_loc13_ = this.getYPos(context, point);\n\t\t\t\t\t\t\tthis.drawAHighlightLine(_loc12_, _loc14_, _loc12_, _loc13_, this.getColor(dataSeriesIndex, point.getValue()));\n\t\t\t\t\t\t\tvalue = Math.round(value * 100) / 100;\n\t\t\t\t\t\t\tthis.indicatorValueTextArray[dataSeriesIndex].text = this.getIndicatorValueText(dataSeriesIndex, value, intervalText, context);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase IndicatorLineStyle.HISTOGRAM_LINE_FROM_BOTTOM:\n\t\t\t\t\t\t\t_loc13_ = this.getYPos(context, point);\n\t\t\t\t\t\t\tthis.drawAHighlightLine(_loc12_, viewPoint.maxy, _loc12_, _loc13_, this.indicatorValueTextArray[dataSeriesIndex].textColor);\n\t\t\t\t\t\t\tvalue = Math.round(value * 100) / 100;\n\t\t\t\t\t\t\tthis.indicatorValueTextArray[dataSeriesIndex].text = this.getIndicatorValueText(dataSeriesIndex, value, intervalText, context);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase IndicatorLineStyle.NONE:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet length = dataSeriesArray.length;\n\t\t\twhile (length < this.indicatorValueTextArray.length)\n\t\t\t{\n\t\t\t\tthis.indicatorValueTextArray[length].text = \"\";\n\t\t\t\tlength++;\n\t\t\t}\n\t\t}\n\n\t\tprivate doCopyLastIndicatorPoint(dataUnit: DataUnit, dataSeriesArray: DataSeries[])\n\t\t{\n\t\t\tconst indicatorPoint = new IndicatorPoint(NaN, dataUnit);\n\t\t\tfor (let dataSeriesIndex = 0; dataSeriesIndex < dataSeriesArray.length; dataSeriesIndex++)\n\t\t\t{\n\t\t\t\tconst _loc5_ = dataSeriesArray[dataSeriesIndex].points.length;\n\t\t\t\tif (_loc5_ > 0)\n\t\t\t\t\tdataSeriesArray[dataSeriesIndex].points.push(new IndicatorPoint(dataSeriesArray[dataSeriesIndex].points[_loc5_ - 1].getValue(), dataUnit));\n\t\t\t\telse\n\t\t\t\t\tdataSeriesArray[dataSeriesIndex].points.push(indicatorPoint);\n\n\t\t\t\tdataSeriesIndex++;\n\t\t\t}\n\t\t}\n\n\t\tprotected findPointIndex(x: number): number\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst originalDataSeries = this.originalDataSeries;\n\t\t\tconst detailLevel = viewPoint.getDetailLevelForTechnicalStyle();\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst points = originalDataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points)\n\t\t\t\treturn -1;\n\n\t\t\tconst minuteOfX = viewPoint.getMinuteOfX(x);\n\t\t\tlet relativeMinuteIndex = originalDataSeries.getRelativeMinuteIndex(minuteOfX, points);\n\t\t\tif (relativeMinuteIndex === points.length - 2)\n\t\t\t{\n\t\t\t\tif (Math.abs(minuteOfX - points[relativeMinuteIndex].relativeMinutes) > Math.abs(minuteOfX - points[relativeMinuteIndex + 1].relativeMinutes))\n\t\t\t\t\trelativeMinuteIndex++;\n\t\t\t}\n\t\t\tif (detailLevel === Intervals.WEEKLY)\n\t\t\t{\n\t\t\t\twhile (relativeMinuteIndex + 1 < points.length && points[relativeMinuteIndex + 1].weeklyXPos <= x)\n\t\t\t\t\trelativeMinuteIndex++;\n\t\t\t}\n\t\t\twhile (relativeMinuteIndex > 0 && (points[relativeMinuteIndex].fake || points[relativeMinuteIndex].duplicate))\n\t\t\t{\n\t\t\t\trelativeMinuteIndex--;\n\t\t\t}\n\t\t\treturn relativeMinuteIndex;\n\t\t}\n\n\t\tprotected drawAHighlightLine(param1: number, param2: number, param3: number, param4: number, param5: number)\n\t\t{\n\t\t\tconst gr = this.highlightCanvas.graphics;\n\t\t\tgr.lineStyle(2, param5);\n\t\t\tgr.moveTo(param1, param2);\n\t\t\tgr.lineTo(param3, param4);\n\t\t}\n\n\t\tcopyLastIndicatorPoint(dataUnit: DataUnit, ...rest: DataSeries[])\n\t\t{\n\t\t\tthis.doCopyLastIndicatorPoint(dataUnit, rest);\n\t\t}\n\n\t\tsetIndicator(indicatorName: string, dataSeries: DataSeries)\n\t\t{\n\t\t\tthis.indicatorName = indicatorName;\n\t\t\tif (this.dataSource.indicators[indicatorName] === undefined)\n\t\t\t\tthis.dataSource.indicators[indicatorName] = new Indicator();\n\n\t\t\tthis.indicator = this.dataSource.indicators[indicatorName];\n\t\t\tthis.originalDataSeries = dataSeries;\n\t\t\tthis.setIndicatorInstanceArray(Const.INDICATOR_PARAMETERS[indicatorName]);\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn \"\";\n\t\t}\n\n\t\tshouldSkip(dataUnit: DataUnit, ...rest: DataSeries[]): boolean\n\t\t{\n\t\t\tif (dataUnit.duplicate)\n\t\t\t{\n\t\t\t\tconst indicatorPoint = new IndicatorPoint(NaN, dataUnit);\n\t\t\t\tfor (const dataSeries of rest)\n\t\t\t\t\tdataSeries.points.push(indicatorPoint);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (dataUnit.fake)\n\t\t\t{\n\t\t\t\tthis.doCopyLastIndicatorPoint(dataUnit, rest);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tcomputeIntervalIndicator(param1: number)\n\t\t{\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tthis.placeIndicatorNameAndValueTexts();\n\t\t\tif (!this._enabled)\n\t\t\t\treturn;\n\n\t\t\tthis.graphics.clear();\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst detailLevel = viewPoint.getDetailLevelForTechnicalStyle();\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst originalDataSeries = this.originalDataSeries;\n\t\t\tconst points = originalDataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points)\n\t\t\t{\n\t\t\t\tif (this.indicatorNameText)\n\t\t\t\t\tthis.indicatorNameText.text = \"\";\n\n\t\t\t\tlet _loc14_ = 0;\n\t\t\t\twhile (_loc14_ < this.indicatorValueTextArray.length)\n\t\t\t\t{\n\t\t\t\t\tthis.indicatorValueTextArray[_loc14_].text = \"\";\n\t\t\t\t\t_loc14_++;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst dataSeriesArray = this.getDataSeriesArray(detailLevel);\n\t\t\tif (!dataSeriesArray)\n\t\t\t\treturn;\n\n\t\t\tconst intervalText = this.getIntervalText(detailLevel);\n\t\t\tif (this.indicatorNameText)\n\t\t\t\tthis.indicatorNameText.text = this.getIndicatorNameText(intervalText);\n\n\t\t\tthis.calculateLocalScaleMeters(context);\n\t\t\tlet lastMinuteIndex = originalDataSeries.getRelativeMinuteIndex(viewPoint.getLastMinute(), points);\n\t\t\tif (lastMinuteIndex < points.length - 1)\n\t\t\t\tlastMinuteIndex++;\n\n\t\t\tconst lastRealPointIndex = this.getLastRealPointIndex(points);\n\t\t\tif (lastMinuteIndex > lastRealPointIndex)\n\t\t\t\tlastMinuteIndex = lastRealPointIndex;\n\n\t\t\tlet firstMinuteIndex = originalDataSeries.getRelativeMinuteIndex(viewPoint.getFirstMinute(), points) - 1;\n\t\t\tif (firstMinuteIndex < 0)\n\t\t\t\tfirstMinuteIndex = 0;\n\n\t\t\tconst enabledChartLayer = this.viewPoint.getDisplayManager().getEnabledChartLayer();\n\t\t\tfor (let dataSeriesIndex = 0; dataSeriesIndex < dataSeriesArray.length; dataSeriesIndex++)\n\t\t\t{\n\t\t\t\tconst points2 = dataSeriesArray[dataSeriesIndex].points;\n\n\t\t\t\tlet _loc15_ = lastMinuteIndex;\n\t\t\t\tif (_loc15_ > points2.length - 1)\n\t\t\t\t\t_loc15_ = points2.length - 1;\t// TODO: never\n\n\t\t\t\tlet _loc16_ = firstMinuteIndex;\n\t\t\t\tconst numPoints = points2.length;\n\t\t\t\twhile (_loc16_ < numPoints && isNaN(points2[_loc16_].getValue()))\n\t\t\t\t\t_loc16_++;\n\n\t\t\t\twhile (_loc15_ >= 0 && isNaN(points2[_loc15_].getValue()))\n\t\t\t\t\t_loc15_--;\n\n\t\t\t\tif (_loc16_ > _loc15_)\n\t\t\t\t{\n\t\t\t\t\tthis.indicatorValueTextArray[dataSeriesIndex].text = this.getIndicatorValueText(dataSeriesIndex, 0, intervalText, context);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tswitch (this.getLineStyle(dataSeriesIndex))\n\t\t\t\t\t{\n\t\t\t\t\t\tcase IndicatorLineStyle.SIMPLE_LINE:\n\t\t\t\t\t\t\tthis.renderSingleLine(dataSeriesArray, dataSeriesIndex, _loc16_, _loc15_, viewPoint, context, detailLevel, enabledChartLayer);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase IndicatorLineStyle.HISTOGRAM_LINE:\n\t\t\t\t\t\t\tthis.renderHistogramLine(dataSeriesArray, dataSeriesIndex, _loc16_, _loc15_, viewPoint, context, detailLevel, enabledChartLayer);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase IndicatorLineStyle.HISTOGRAM_LINE_FROM_BOTTOM:\n\t\t\t\t\t\t\tthis.renderHistogramLineFromBottom(dataSeriesArray, dataSeriesIndex, _loc16_, _loc15_, viewPoint, context, detailLevel, enabledChartLayer);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase IndicatorLineStyle.NONE:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tisNameTextRequired(): boolean\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tgetDataSeriesArray(detailLevel: Intervals, context?: Context): DataSeries[] | null\n\t\t{\n\t\t\tlet _loc6_ = 0;\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst originalDataSeries = this.originalDataSeries;\n\t\t\tconst points = originalDataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points || points.length === 0)\n\t\t\t\treturn null;\n\n\t\t\tif (!this.indicator.hasInterval(detailLevelInterval))\n\t\t\t{\n\t\t\t\tif (this.isOhlcDataRequired())\n\t\t\t\t{\n\t\t\t\t\t_loc6_ = 0;\n\t\t\t\t\twhile (_loc6_ < points.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (isNaN(points[_loc6_].high) || isNaN(points[_loc6_].low) || isNaN(points[_loc6_].open))\n\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\t_loc6_++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.computeIntervalIndicator(detailLevelInterval);\n\t\t\t}\n\t\t\treturn this.indicator.getDataSeriesArray(detailLevelInterval);\n\t\t}\n\n\t\tisOhlcDataRequired(): boolean\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\treturn \"\";\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tclearHighlight()\n\t\t{\n\t\t\tthis.highlightCanvas.graphics.clear();\n\t\t}\n\n\t\tpublic setIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t}\n\n\t\tprotected placeIndicatorNameAndValueTexts()\n\t\t{\n\t\t\tif (this.indicatorNameText)\n\t\t\t{\n\t\t\t\tthis.indicatorNameText.y = this.viewPoint.miny + IndicatorLayer.TEXT_TOP_MARGIN;\n\t\t\t\tthis.indicatorNameText.x = this.viewPoint.minx + IndicatorLayer.TEXT_LEFT_MARGIN;\n\t\t\t}\n\t\t\tfor (let textFieldIndex = 0; textFieldIndex < this.indicatorValueTextArray.length; textFieldIndex++)\n\t\t\t{\n\t\t\t\tthis.indicatorValueTextArray[textFieldIndex].y = this.viewPoint.miny + IndicatorLayer.TEXT_TOP_MARGIN;\n\t\t\t\tthis.indicatorValueTextArray[textFieldIndex].x = this.viewPoint.minx + IndicatorLayer.TEXT_LEFT_MARGIN + (this.indicatorNameText ? textFieldIndex + 1 : textFieldIndex) * IndicatorLayer.INDICATOR_TEXT_WIDTH;\n\t\t\t}\n\t\t}\n\n\t\tsetEnabled(enabled = true)\n\t\t{\n\t\t\tthis._enabled = enabled;\n\t\t\tthis.visible = enabled;\n\t\t\tthis.highlightCanvas.visible = enabled;\n\t\t\tthis.textOutCanvas.visible = enabled;\n\t\t\tthis.medianLineCanvas.visible = enabled;\n\t\t}\n\t}\n}\n","/// <reference path=\"IndicatorLayer.ts\" />\n\nnamespace com.google.finance.indicator\n{\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.Const;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.Utils;\n\t// import com.google.finance.DataSource;\n\t// import flash.text.TextField;\n\t// import flash.text.TextFormat;\n\n\texport class IndependentIndicatorLayer extends IndicatorLayer\n\t{\n\t\tprivate static readonly LEVEL_CNT= 3;\n\t\tprivate static readonly NAME_TEXT_BLOCK_HEIGHT= 20;\n\t\tprivate static readonly MARGIN_HEIGHT= 2;\n\t\tprivate static readonly LEVEL_TEXT_WIDTH= 70;\n\n\t\tprotected levelTextArray: flash.text.TextField[] = [];\n\n\t\tconstructor(viewPoint: ViewPoint, dataSource: DataSource)\n\t\t{\n\t\t\tsuper(viewPoint, dataSource);\n\t\t\tconst textFormat = new flash.text.TextFormat(\"Verdana\", 9);\n\t\t\ttextFormat.align = \"right\";\n\t\t\tfor (let levelIndex = 0; levelIndex < IndependentIndicatorLayer.LEVEL_CNT; levelIndex++)\n\t\t\t{\n\t\t\t\tconst layerTextFormat = new flash.text.TextField();\n\t\t\t\tlayerTextFormat.width = IndependentIndicatorLayer.LEVEL_TEXT_WIDTH;\n\t\t\t\tlayerTextFormat.defaultTextFormat = textFormat;\n\t\t\t\tlayerTextFormat.text = \"\";\n\t\t\t\tlayerTextFormat.selectable = false;\n\t\t\t\tlayerTextFormat.x = viewPoint.maxx - IndependentIndicatorLayer.LEVEL_TEXT_WIDTH;\n\t\t\t\tlayerTextFormat.y = viewPoint.miny + (viewPoint.maxy - viewPoint.miny - 15) * (IndependentIndicatorLayer.LEVEL_CNT - 1 - levelIndex) / (IndependentIndicatorLayer.LEVEL_CNT - 1);\n\t\t\t\tthis.textOutCanvas.addChild(layerTextFormat);\n\t\t\t\tthis.levelTextArray.push(layerTextFormat);\n\t\t\t}\n\t\t}\n\n\t\tprotected getYPos(context: Context, point: IndicatorPoint): number\n\t\t{\n\t\t\treturn this.localYOffset - (point.getValue() - this.localMedianValue) * this.localYScale;\n\t\t}\n\n\t\trenderLayer(context: Context)\n\t\t{\n\t\t\tsuper.renderLayer(context);\n\t\t\tthis.drawHorizontalLine(this.viewPoint.miny + IndependentIndicatorLayer.NAME_TEXT_BLOCK_HEIGHT);\n\t\t\tthis.updateLevelTexts(context.maxValue, context.minValue);\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\tif (!this._enabled)\n\t\t\t\treturn context;\n\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tconst detailLevel = viewPoint.getDetailLevelForTechnicalStyle(context.lastMinute, context.count);\n\t\t\tconst detailLevelInterval = Const.getDetailLevelInterval(detailLevel);\n\t\t\tconst originalDataSeries = this.originalDataSeries;\n\t\t\tconst points = originalDataSeries.getPointsInIntervalArray(detailLevelInterval);\n\t\t\tif (!points)\n\t\t\t\treturn context;\n\n\t\t\tconst dataSeries = this.getDataSeriesArray(detailLevel, context);\n\t\t\tif (!dataSeries)\n\t\t\t\treturn context;\n\n\t\t\tlet _loc9_ = Number.NEGATIVE_INFINITY;\n\t\t\tlet _loc10_ = Number.POSITIVE_INFINITY;\n\t\t\tlet _loc11_ = originalDataSeries.getRelativeMinuteIndex(context.lastMinute, points);\n\t\t\tif (_loc11_ < points.length - 1)\n\t\t\t\t_loc11_++;\n\n\t\t\tlet _loc12_ = originalDataSeries.getRelativeMinuteIndex(context.lastMinute - context.count, points) - 1;\n\t\t\tif (_loc12_ < 0)\n\t\t\t\t_loc12_ = 0;\n\n\t\t\tfor (let dataSeriesIndex = 0; dataSeriesIndex < dataSeries.length; dataSeriesIndex++)\n\t\t\t{\n\t\t\t\tif (this.getLineStyle(dataSeriesIndex) === IndicatorLineStyle.NONE)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tfor (const point of dataSeries[dataSeriesIndex].points)\n\t\t\t\t{\n\t\t\t\t\tif (!point)\n\t\t\t\t\t\tcontinue;\t// TODO: this shouldn't happen\n\n\t\t\t\t\tconst value = point.getValue();\n\t\t\t\t\tif (!isNaN(value))\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc9_ = Math.max(_loc9_, value);\n\t\t\t\t\t\t_loc10_ = Math.min(_loc10_, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (_loc9_ !== Number.NEGATIVE_INFINITY && _loc10_ !== Number.POSITIVE_INFINITY)\n\t\t\t{\n\t\t\t\tcontext.maxValue = Utils.extendedMax(_loc9_, context.maxValue);\n\t\t\t\tcontext.minValue = Utils.extendedMin(_loc10_, context.minValue);\n\t\t\t}\n\t\t\treturn context;\n\t\t}\n\n\t\tprivate updateLevelTexts(param1: number, param2: number)\n\t\t{\n\t\t\tfor (let levelTextIndex = 0; levelTextIndex < this.levelTextArray.length; levelTextIndex++)\n\t\t\t{\n\t\t\t\tlet _loc4_ = param2 + (param1 - param2) * levelTextIndex / (this.levelTextArray.length - 1);\n\t\t\t\t_loc4_ = Math.round(_loc4_ * 100) / 100;\n\t\t\t\tthis.levelTextArray[levelTextIndex].text = isNaN(_loc4_) ? \"\" : \"\" + _loc4_;\n\t\t\t\tthis.levelTextArray[levelTextIndex].x = this.viewPoint.maxx - IndependentIndicatorLayer.LEVEL_TEXT_WIDTH;\n\t\t\t\tthis.levelTextArray[levelTextIndex].y = this.viewPoint.miny + IndependentIndicatorLayer.NAME_TEXT_BLOCK_HEIGHT + (this.viewPoint.maxy - this.viewPoint.miny - 15 - IndependentIndicatorLayer.NAME_TEXT_BLOCK_HEIGHT) * (this.levelTextArray.length - 1 - levelTextIndex) / (this.levelTextArray.length - 1);\n\t\t\t}\n\t\t}\n\n\t\tprivate drawHorizontalLine(param1: number)\n\t\t{\n\t\t\tconst gr = this.graphics;\n\t\t\tgr.lineStyle(0, Const.HORIZONTAL_GRID_COLOR, 1);\n\t\t\tgr.moveTo(this.viewPoint.minx + 1, param1);\n\t\t\tgr.lineTo(this.viewPoint.maxx - 1, param1);\n\t\t}\n\n\t\tprotected calculateLocalScaleMeters(context: Context)\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tthis.localYOffset = viewPoint.miny + viewPoint.medPriceY + IndependentIndicatorLayer.NAME_TEXT_BLOCK_HEIGHT / 2;\n\t\t\tthis.localYScale = (viewPoint.maxy - viewPoint.miny - IndependentIndicatorLayer.NAME_TEXT_BLOCK_HEIGHT - IndependentIndicatorLayer.MARGIN_HEIGHT * 2) / (context.maxValue - context.minValue);\n\t\t\tthis.localMedianValue = (context.maxValue + context.minValue) / 2;\n\t\t}\n\t}\n}\n","/// <reference path=\"IndependentIndicatorLayer.ts\" />\n\nnamespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class AbstractStochasticIndicatorLayer extends IndependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"kPeriod\", \"dPeriod\"];\n\n\t\tprotected dPeriod = 3;\n\t\tprotected kPeriod = 14;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn AbstractStochasticIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tisOhlcDataRequired(): boolean\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tswitch (param1)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn Message.getMsg(Messages.K_STOCHASTIC, param2);\n\t\t\t\tcase 1:\n\t\t\t\t\treturn Message.getMsg(Messages.D_STOCHASTIC, param2);\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 >= 0 && param1 < 2)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length !== 1)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.kPeriod = indicators[0].kPeriod;\n\t\t\tthis.dPeriod = indicators[0].dPeriod;\n\t\t}\n\t}\n}\n","/// <reference path=\"IndependentIndicatorLayer.ts\" />\n\nnamespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class BIASIndicatorLayer extends IndependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"period\"];\n\n\t\tprivate period = 20;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn BIASIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tif (param1 === 0)\n\t\t\t\treturn Message.getMsg(Messages.BIAS_BIAS, param2);\n\n\t\t\treturn \"\";\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 === 0)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.BIAS_INTERVAL, this.period, param1);\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst points = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points)\n\t\t\t\treturn;\n\n\t\t\tconst dataSeries = new DataSeries();\n\t\t\tlet _loc5_ = 0;\n\t\t\tlet _loc6_ = 0;\n\t\t\tconst _loc8_: number[] = [];\n\t\t\tfor (const point of points)\n\t\t\t{\n\t\t\t\tif (!this.shouldSkip(point, dataSeries))\n\t\t\t\t{\n\t\t\t\t\t_loc5_ = Number(_loc5_ + point.close);\n\t\t\t\t\t_loc8_.push(point.close);\n\t\t\t\t\tlet _loc4_: number;\n\t\t\t\t\tif (_loc8_.length < this.period)\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc4_ = NaN;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc6_ = Number(_loc5_ / this.period);\n\t\t\t\t\t\t_loc4_ = (point.close - _loc6_) / _loc6_ * 100;\n\t\t\t\t\t\t_loc5_ = Number(_loc5_ - _loc8_.shift()!);\n\t\t\t\t\t}\n\t\t\t\t\tdataSeries.points.push(new IndicatorPoint(_loc4_, point));\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries, 0);\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length !== 1)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.period = (<BIASIndicatorLayer><any>indicators[0]).period;\n\t\t}\n\t}\n}\n","/// <reference path=\"IndicatorLayer.ts\" />\n\nnamespace com.google.finance.indicator\n{\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class DependentIndicatorLayer extends IndicatorLayer\n\t{\n\t\tprotected getYPos(context: Context, indicatorPoint: IndicatorPoint): number\n\t\t{\n\t\t\treturn this.localYOffset - (indicatorPoint.getLogValue(context.verticalScaling) - this.localMedianValue) * this.localYScale;\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\treturn context;\n\t\t}\n\n\t\tprotected calculateLocalScaleMeters(context: Context)\n\t\t{\n\t\t\tconst viewPoint = this.viewPoint;\n\t\t\tthis.localYOffset = viewPoint.miny + viewPoint.medPriceY + viewPoint.V_OFFSET;\n\t\t\tthis.localYScale = viewPoint.maxPriceRangeViewSize / context.maxPriceRange;\n\t\t\tthis.localMedianValue = context.medPrice;\n\t\t}\n\t}\n}\n","/// <reference path=\"DependentIndicatorLayer.ts\" />\n\nnamespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class BollingerBandsIndicatorLayer extends DependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"period\"];\n\n\t\tprivate multiplier = 2;\n\t\tprivate period = 20;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn BollingerBandsIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.BOLL_INTERVAL, this.period, param1);\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tswitch (param1)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn Message.getMsg(Messages.MID_BOLL, param2);\n\t\t\t\tcase 1:\n\t\t\t\t\treturn Message.getMsg(Messages.LOWER_BOLL, param2);\n\t\t\t\tcase 2:\n\t\t\t\t\treturn Message.getMsg(Messages.UPPER_BOLL, param2);\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 >= 0 && param1 < 3)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst points = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points)\n\t\t\t\treturn;\n\n\t\t\tlet _loc9_ = 0;\n\t\t\tconst dataSeries0 = new DataSeries();\n\t\t\tconst dataSeries1 = new DataSeries();\n\t\t\tconst dataSeries2 = new DataSeries();\n\t\t\tconst _loc14_: number[] = [];\n\t\t\tfor (const point of points)\n\t\t\t{\n\t\t\t\tif (!this.shouldSkip(point, dataSeries0, dataSeries1, dataSeries2))\n\t\t\t\t{\n\t\t\t\t\t_loc9_ = Number(_loc9_ + point.close);\n\t\t\t\t\t_loc14_.push(point.close);\n\t\t\t\t\tif (_loc14_.length < this.period)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst indicatorPoint = new IndicatorPoint(NaN, point);\n\t\t\t\t\t\tdataSeries0.points.push(indicatorPoint);\n\t\t\t\t\t\tdataSeries1.points.push(indicatorPoint);\n\t\t\t\t\t\tdataSeries2.points.push(indicatorPoint);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconst value0 = _loc9_ / this.period;\n\t\t\t\t\t\tlet _loc6_ = 0;\n\t\t\t\t\t\tfor (let periodIndex = 0; periodIndex < this.period; periodIndex++)\n\t\t\t\t\t\t\t_loc6_ = Number(_loc6_ + (_loc14_[periodIndex] - value0) * (_loc14_[periodIndex] - value0));\n\n\t\t\t\t\t\t_loc6_ = Number(Math.sqrt(_loc6_ / this.period));\n\t\t\t\t\t\tconst value1 = value0 + this.multiplier * _loc6_;\n\t\t\t\t\t\tconst value2 = value0 - this.multiplier * _loc6_;\n\t\t\t\t\t\tdataSeries0.points.push(new IndicatorPoint(value0, point));\n\t\t\t\t\t\tdataSeries1.points.push(new IndicatorPoint(value1, point));\n\t\t\t\t\t\tdataSeries2.points.push(new IndicatorPoint(value2, point));\n\t\t\t\t\t\t_loc9_ = Number(_loc9_ - _loc14_.shift()!);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries0, 0);\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries2, 1);\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries1, 2);\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length !== 1)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.period = (<BollingerBandsIndicatorLayer>indicators[0]).period;\n\t\t}\n\t}\n}\n","/// <reference path=\"IndependentIndicatorLayer.ts\" />\n\nnamespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class CCIIndicatorLayer extends IndependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"period\"];\n\n\t\tprivate period = 20;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn CCIIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tif (param1 === 0)\n\t\t\t\treturn Message.getMsg(Messages.CCI_CCI, param2);\n\n\t\t\treturn \"\";\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 === 0)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.CCI_INTERVAL, this.period, param1);\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst points = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points)\n\t\t\t\treturn;\n\n\t\t\tconst dataSeries = new DataSeries();\n\t\t\tlet _loc4_ = 0;\n\t\t\tconst _loc5_: number[] = [];\n\t\t\tfor (const point of points)\n\t\t\t{\n\t\t\t\tif (!this.shouldSkip(point, dataSeries))\n\t\t\t\t{\n\t\t\t\t\tconst _loc8_ = (point.close + point.high + point.low) / 3;\n\t\t\t\t\t_loc5_.push(_loc8_);\n\t\t\t\t\t_loc4_ = Number(_loc4_ + _loc8_);\n\t\t\t\t\tif (_loc5_.length < this.period)\n\t\t\t\t\t{\n\t\t\t\t\t\tdataSeries.points.push(new IndicatorPoint(NaN, point));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconst _loc9_ = _loc4_ / this.period;\n\t\t\t\t\t\tlet _loc10_ = 0;\n\t\t\t\t\t\tfor (let periodIndex = 0; periodIndex < this.period; periodIndex++)\n\t\t\t\t\t\t\t_loc10_ = Number(_loc10_ + Math.abs(_loc5_[periodIndex] - _loc9_));\n\n\t\t\t\t\t\t_loc10_ = Number(_loc10_ / this.period);\n\t\t\t\t\t\tif (_loc10_ !== 0)\n\t\t\t\t\t\t\tdataSeries.points.push(new IndicatorPoint((_loc8_ - _loc9_) / (0.015 * _loc10_), point));\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdataSeries.points.push(new IndicatorPoint(0, point));\n\n\t\t\t\t\t\t_loc4_ = Number(_loc4_ - _loc5_.shift()!);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries, 0);\n\t\t}\n\n\t\tisOhlcDataRequired(): boolean\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length !== 1)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.period = (<CCIIndicatorLayer><any>indicators[0]).period;\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class SMAIndicatorLayer extends DependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"period\"];\n\n\t\tprotected periods = [20];\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn SMAIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tisNameTextRequired(): boolean\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tprotected getIndicatorValueText(periodIndex: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tif (periodIndex >= 0 && periodIndex < this.periods.length)\n\t\t\t\treturn Message.getMsg(Messages.SMA_INTERVAL, this.periods[periodIndex], param3, param2);\n\n\t\t\treturn \"\";\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 >= 0 && param1 < this.periods.length)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst pointsInIntervalArray = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tfor (let pointIndex = 0; pointIndex < this.periods.length; pointIndex++)\n\t\t\t{\n\t\t\t\tconst dataSeries = new DataSeries();\n\t\t\t\tlet _loc3_ = 0;\n\t\t\t\tconst closes: number[] = [];\n\t\t\t\tfor (const originalPoint of pointsInIntervalArray)\n\t\t\t\t{\n\t\t\t\t\tif (!this.shouldSkip(originalPoint, dataSeries))\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc3_ = Number(_loc3_ + originalPoint.close);\n\t\t\t\t\t\tcloses.push(originalPoint.close);\n\t\t\t\t\t\tlet point: IndicatorPoint;\n\t\t\t\t\t\tif (closes.length < this.periods[pointIndex])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpoint = new IndicatorPoint(NaN, originalPoint);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpoint = new IndicatorPoint(_loc3_ / this.periods[pointIndex], originalPoint);\n\t\t\t\t\t\t\t_loc3_ = Number(_loc3_ - closes.shift()!);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataSeries.points.push(point);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.indicator.setDataSeries(interval, dataSeries, pointIndex);\n\t\t\t}\n\t\t}\n\n\t\tprotected getColor(param1: number, param2 = NaN): number\n\t\t{\n\t\t\treturn super.getColor(param1 + 1);\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length === 0)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.periods = [];\n\t\t\tfor (const indicator of indicators)\n\t\t\t\tthis.periods.push(indicator.period);\n\t\t}\n\t}\n}\n","/// <reference path=\"SMAIndicatorLayer.ts\" />\n\nnamespace com.google.finance.indicator\n{\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class EMAIndicatorLayer extends SMAIndicatorLayer\n\t{\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn SMAIndicatorLayer.getParameterNames();\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst originalPoints = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tfor (let periodIndex = 0; periodIndex < this.periods.length; periodIndex++)\n\t\t\t{\n\t\t\t\tconst dataSeries = new DataSeries();\n\t\t\t\tlet _loc3_ = NaN;\n\t\t\t\tconst _loc4_ = 2 / (Number(this.periods[periodIndex]) + 1);\n\t\t\t\tlet _loc6_ = 0;\n\t\t\t\tlet _loc5_ = 0;\n\t\t\t\tfor (const originalPoint of originalPoints)\n\t\t\t\t{\n\t\t\t\t\tif (!this.shouldSkip(originalPoint, dataSeries))\n\t\t\t\t\t{\n\t\t\t\t\t\t_loc5_++;\n\t\t\t\t\t\t_loc6_ = Number(_loc6_ + originalPoint.close);\n\t\t\t\t\t\tlet point: IndicatorPoint;\n\t\t\t\t\t\tif (_loc5_ < this.periods[periodIndex])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpoint = new IndicatorPoint(NaN, originalPoint);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (_loc5_ === this.periods[periodIndex])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc3_ = _loc6_ / _loc5_;\n\t\t\t\t\t\t\tpoint = new IndicatorPoint(_loc3_, originalPoint);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc3_ = (originalPoint.close - _loc3_) * _loc4_ + _loc3_;\n\t\t\t\t\t\t\tpoint = new IndicatorPoint(_loc3_, originalPoint);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataSeries.points.push(point);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.indicator.setDataSeries(interval, dataSeries, periodIndex);\n\t\t\t}\n\t\t}\n\n\t\tprotected getIndicatorValueText(periodIndex: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tif (periodIndex >= 0 && periodIndex < this.periods.length)\n\t\t\t\treturn Message.getMsg(Messages.EMA_INTERVAL, this.periods[periodIndex], param3, param2);\n\n\t\t\treturn \"\";\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.Utils;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class FastStochasticIndicatorLayer extends AbstractStochasticIndicatorLayer\n\t{\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn AbstractStochasticIndicatorLayer.getParameterNames();\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.FSTO_INTERVAL, this.kPeriod, this.dPeriod, param1);\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst points = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points)\n\t\t\t\treturn;\n\n\t\t\tlet _loc5_ = 0;\n\t\t\tconst dataSeries0 = new DataSeries();\n\t\t\tconst dataSeries1 = new DataSeries();\n\t\t\tconst dataUnits: DataUnit[] = [];\n\t\t\tconst _loc13_: number[] = [];\n\t\t\tfor (const point of points)\n\t\t\t{\n\t\t\t\tif (!this.shouldSkip(point, dataSeries0, dataSeries1))\n\t\t\t\t{\n\t\t\t\t\tdataUnits.push(point);\n\t\t\t\t\tif (dataUnits.length < this.kPeriod)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst indicatorPoint = new IndicatorPoint(NaN, point);\n\t\t\t\t\t\tdataSeries0.points.push(indicatorPoint);\n\t\t\t\t\t\tdataSeries1.points.push(indicatorPoint);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet _loc3_ = Number.NEGATIVE_INFINITY;\n\t\t\t\t\t\tlet _loc4_ = Number.POSITIVE_INFINITY;\n\t\t\t\t\t\tfor (let _loc7_ = 0; _loc7_ < this.kPeriod; _loc7_++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc3_ = Utils.extendedMax(_loc3_, dataUnits[_loc7_].high);\n\t\t\t\t\t\t\t_loc4_ = Utils.extendedMin(_loc4_, dataUnits[_loc7_].low);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_loc3_ === _loc4_)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.copyLastIndicatorPoint(point, dataSeries0, dataSeries1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc8_ = (point.close - _loc4_) / (_loc3_ - _loc4_) * 100;\n\t\t\t\t\t\t\tdataSeries0.points.push(new IndicatorPoint(_loc8_, point));\n\t\t\t\t\t\t\t_loc5_ = Number(_loc5_ + _loc8_);\n\t\t\t\t\t\t\t_loc13_.push(_loc8_);\n\t\t\t\t\t\t\tif (_loc13_.length < this.dPeriod)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.copyLastIndicatorPoint(point, dataSeries1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdataSeries1.points.push(new IndicatorPoint(_loc5_ / this.dPeriod, point));\n\t\t\t\t\t\t\t\t_loc5_ = Number(_loc5_ - _loc13_.shift()!);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataUnits.shift();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries0, 0);\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries1, 1);\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\texport /*final*/ class IndicatorLineStyle\n\t{\n\t\tstatic readonly SIMPLE_LINE= 1;\n\n\t\tstatic readonly HISTOGRAM_LINE_FROM_BOTTOM= 3;\n\n\t\tstatic readonly NONE= 0;\n\n\t\tstatic readonly HISTOGRAM_LINE= 2;\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.Const;\n\t// import com.google.finance.Utils;\n\n\texport class IndicatorPoint\n\t{\n\t\tprivate logValue: number;\n\n\t\tconstructor(public readonly value: number = 0, public readonly point: DataUnit)\n\t\t{\n\t\t}\n\n\t\tgetValue(): number\n\t\t{\n\t\t\treturn this.value;\n\t\t}\n\n\t\tgetPoint(): DataUnit\n\t\t{\n\t\t\treturn this.point;\n\t\t}\n\n\t\tgetLogValue(scaleType: string): number\n\t\t{\n\t\t\tif (scaleType === Const.LOG_VSCALE || scaleType === Const.NEW_LOG_VSCALE)\n\t\t\t{\n\t\t\t\tif (isNaN(this.logValue))\n\t\t\t\t\tthis.logValue = Utils.logTransform(this.value);\n\n\t\t\t\treturn this.logValue;\n\t\t\t}\n\t\t\treturn this.value;\n\t\t}\n\t}\n\n\texport class VolumeIndicatorPoint\n\t\textends IndicatorPoint\n\t{\n\t\tget volume() { return this.value; }\n\n\t\tconstructor(\n\t\t\tvolume: number,\n\t\t\trelativeMinutes: number,\n\t\t\tpoint: DataUnit,\n\t\t\ttime: number\n\t\t)\n\t\t{\n\t\t\tsuper(volume, point);\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.Utils;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class KDJIndicatorLayer extends IndependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"period\"];\n\n\t\tprivate period = 14;\n\t\tprivate alphaNumber = 0.3333333333333333;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn KDJIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tswitch (param1)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn Message.getMsg(Messages.K_KDJ, param2);\n\t\t\t\tcase 1:\n\t\t\t\t\treturn Message.getMsg(Messages.D_KDJ, param2);\n\t\t\t\tcase 2:\n\t\t\t\t\treturn Message.getMsg(Messages.J_KDJ, param2);\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 >= 0 && param1 < 3)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.KDJ_INTERVAL, this.period, param1);\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst points = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points)\n\t\t\t\treturn;\n\n\t\t\tlet _loc8_ = NaN;\n\t\t\tlet _loc9_ = NaN;\n\t\t\tlet _loc10_ = NaN;\n\t\t\tconst dataSeries0 = new DataSeries();\n\t\t\tconst dataSeries1 = new DataSeries();\n\t\t\tconst dataSeries2 = new DataSeries();\n\t\t\tconst dataUnits: DataUnit[] = [];\n\t\t\tfor (const point of points)\n\t\t\t{\n\t\t\t\tif (!this.shouldSkip(point, dataSeries0, dataSeries1, dataSeries2))\n\t\t\t\t{\n\t\t\t\t\tdataUnits.push(point);\n\t\t\t\t\tif (dataUnits.length < this.period)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst indicatorPoint = new IndicatorPoint(NaN, point);\n\t\t\t\t\t\tdataSeries0.points.push(indicatorPoint);\n\t\t\t\t\t\tdataSeries1.points.push(indicatorPoint);\n\t\t\t\t\t\tdataSeries2.points.push(indicatorPoint);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet _loc3_ = Number.NEGATIVE_INFINITY;\n\t\t\t\t\t\tlet _loc4_ = Number.POSITIVE_INFINITY;\n\t\t\t\t\t\tfor (let periodIndex = 0; periodIndex < this.period; periodIndex++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc3_ = Utils.extendedMax(_loc3_, dataUnits[periodIndex].high);\n\t\t\t\t\t\t\t_loc4_ = Utils.extendedMin(_loc4_, dataUnits[periodIndex].low);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst _loc5_ = (point.close - _loc4_) / (_loc3_ - _loc4_) * 100;\n\t\t\t\t\t\tif (isNaN(_loc8_))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst indicatorPoint = new IndicatorPoint(_loc5_, point);\n\t\t\t\t\t\t\t_loc8_ = _loc5_;\n\t\t\t\t\t\t\t_loc9_ = _loc5_;\n\t\t\t\t\t\t\t_loc10_ = _loc5_;\t// not used?\n\t\t\t\t\t\t\tdataSeries0.points.push(indicatorPoint);\n\t\t\t\t\t\t\tdataSeries1.points.push(indicatorPoint);\n\t\t\t\t\t\t\tdataSeries2.points.push(indicatorPoint);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (_loc3_ === _loc4_)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.copyLastIndicatorPoint(point, dataSeries0, dataSeries1, dataSeries2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc8_ = _loc5_ * this.alphaNumber + _loc8_ * (1 - this.alphaNumber);\n\t\t\t\t\t\t\t_loc9_ = _loc8_ * this.alphaNumber + _loc9_ * (1 - this.alphaNumber);\n\t\t\t\t\t\t\t_loc10_ = 3 * _loc9_ - 2 * _loc8_;\n\t\t\t\t\t\t\tdataSeries0.points.push(new IndicatorPoint(_loc8_, point));\n\t\t\t\t\t\t\tdataSeries1.points.push(new IndicatorPoint(_loc9_, point));\n\t\t\t\t\t\t\tdataSeries2.points.push(new IndicatorPoint(_loc10_, point));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataUnits.shift();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries0, 0);\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries1, 1);\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries2, 2);\n\t\t}\n\n\t\tisOhlcDataRequired(): boolean\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length !== 1)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.period = (<KDJIndicatorLayer><any>indicators[0]).period;\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.Const;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.Utils;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class MACDIndicatorLayer extends IndependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"shortPeriod\", \"longPeriod\", \"emaPeriod\"];\n\n\t\tprivate emaPeriod = 9;\n\t\tprivate longPeriod = 26;\n\t\tprivate shortPeriod = 12;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn MACDIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tswitch (param1)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn Message.getMsg(Const.APPLY_CHINESE_STYLE_MACD ? Messages.DIFF_MACD : Messages.MACD_MACD, param2);\n\t\t\t\tcase 1:\n\t\t\t\t\treturn Message.getMsg(Const.APPLY_CHINESE_STYLE_MACD ? Messages.DEA_MACD : Messages.EMA_MACD, param2);\n\t\t\t\tcase 2:\n\t\t\t\t\treturn Message.getMsg(Const.APPLY_CHINESE_STYLE_MACD ? Messages.MACD_MACD : Messages.DIVERGENCE_MACD, param2);\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tswitch (param1)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\tcase 1:\n\t\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\t\t\t\tcase 2:\n\t\t\t\t\treturn IndicatorLineStyle.HISTOGRAM_LINE;\n\t\t\t\tdefault:\n\t\t\t\t\treturn IndicatorLineStyle.NONE;\n\t\t\t}\n\t\t}\n\n\t\tprotected getColor(param1: number, param2 = NaN): number\n\t\t{\n\t\t\tswitch (param1)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn Const.COLOR_BLUE;\n\t\t\t\tcase 1:\n\t\t\t\t\treturn Const.APPLY_CHINESE_STYLE_MACD ? Const.COLOR_YELLOW : Const.COLOR_RED;\n\t\t\t\tcase 2:\n\t\t\t\t\treturn Const.APPLY_CHINESE_STYLE_MACD && param2 > 0 ? Const.COLOR_RED : Const.COLOR_GREEN;\n\t\t\t\tdefault:\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.MACD_INTERVAL, this.shortPeriod, this.longPeriod, this.emaPeriod, param1);\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst points = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points || points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst dataSeries0 = new DataSeries();\n\t\t\tconst dataSeries1 = new DataSeries();\n\t\t\tconst dataSeries2 = new DataSeries();\n\t\t\tlet close = points[0].close;\n\t\t\tlet _loc4_ = close;\n\t\t\tlet value0 = close - _loc4_;\n\t\t\tlet value1 = value0;\n\t\t\tconst indicatorPoint = new IndicatorPoint(0, points[0]);\n\t\t\tdataSeries0.points.push(indicatorPoint);\n\t\t\tdataSeries1.points.push(indicatorPoint);\n\t\t\tdataSeries2.points.push(indicatorPoint);\n\t\t\tfor (let pointIndex = 1; pointIndex < points.length; pointIndex++)\n\t\t\t{\n\t\t\t\tconst unit = points[pointIndex];\n\t\t\t\tif (!this.shouldSkip(unit, dataSeries0, dataSeries1, dataSeries2))\n\t\t\t\t{\n\t\t\t\t\tclose = (close * (this.shortPeriod - 1) + unit.close * 2) / (this.shortPeriod + 1);\n\t\t\t\t\t_loc4_ = (_loc4_ * (this.longPeriod - 1) + unit.close * 2) / (this.longPeriod + 1);\n\t\t\t\t\tvalue0 = close - _loc4_;\n\t\t\t\t\tvalue1 = (value1 * (this.emaPeriod - 1) + value0 * 2) / (this.emaPeriod + 1);\n\t\t\t\t\tconst value2 = (Const.APPLY_CHINESE_STYLE_MACD ? 2 : 1) * (value0 - value1);\n\t\t\t\t\tdataSeries0.points.push(new IndicatorPoint(value0, unit));\n\t\t\t\t\tdataSeries1.points.push(new IndicatorPoint(value1, unit));\n\t\t\t\t\tdataSeries2.points.push(new IndicatorPoint(value2, unit));\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries0, 0);\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries1, 1);\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries2, 2);\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: MACDIndicatorLayer[])\n\t\t{\n\t\t\tif (!indicators || indicators.length !== 1)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.shortPeriod = indicators[0].shortPeriod;\n\t\t\tthis.longPeriod = indicators[0].longPeriod;\n\t\t\tthis.emaPeriod = indicators[0].emaPeriod;\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\tcontext = super.getContext(context, param2);\n\t\t\tcontext.maxValue = Utils.extendedMax(0, context.maxValue);\n\t\t\tcontext.minValue = Utils.extendedMin(0, context.minValue);\n\t\t\treturn context;\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class RSIIndicatorLayer extends IndependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"period\"];\n\n\t\tprivate period = 9;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn RSIIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tif (param1 === 0)\n\t\t\t\treturn Message.getMsg(Messages.RSI_RSI, param2);\n\n\t\t\treturn \"\";\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 === 0)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.RSI_INTERVAL, this.period, param1);\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst points = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points || points.length === 0)\n\t\t\t\treturn;\n\n\t\t\tconst dataSeries = new DataSeries();\n\t\t\tlet _loc5_ = 0;\n\t\t\tlet _loc6_ = 0;\n\t\t\tconst _loc9_: number[] = [];\n\t\t\tlet close = points[0].close;\n\t\t\tconst indicatorPoint = new IndicatorPoint(NaN, points[0]);\n\t\t\tdataSeries.points.push(indicatorPoint);\n\t\t\tfor (let pointIndex = 1; pointIndex < points.length; pointIndex++)\n\t\t\t{\n\t\t\t\tconst unit = points[pointIndex];\n\t\t\t\tif (!this.shouldSkip(unit, dataSeries))\n\t\t\t\t{\n\t\t\t\t\tlet diff = unit.close - close;\n\t\t\t\t\tclose = unit.close;\n\t\t\t\t\t_loc9_.push(diff);\n\t\t\t\t\tif (diff > 0)\n\t\t\t\t\t\t_loc5_ = Number(_loc5_ + diff);\n\t\t\t\t\telse\n\t\t\t\t\t\t_loc6_ = Number(_loc6_ - diff);\n\n\t\t\t\t\tif (_loc9_.length < this.period)\n\t\t\t\t\t{\n\t\t\t\t\t\tdataSeries.points.push(new IndicatorPoint(NaN, unit));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (_loc5_ + _loc6_ !== 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst value = _loc5_ / (_loc5_ + _loc6_) * 100;\n\t\t\t\t\t\t\tdataSeries.points.push(new IndicatorPoint(value, unit));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.copyLastIndicatorPoint(unit, dataSeries);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdiff = Number(_loc9_.shift());\n\t\t\t\t\t\tif (diff > 0)\n\t\t\t\t\t\t\t_loc5_ -= diff;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t_loc6_ += diff;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries, 0);\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length !== 1)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.period = (<RSIIndicatorLayer><any>indicators[0]).period;\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.Utils;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class SlowStochasticIndicatorLayer extends AbstractStochasticIndicatorLayer\n\t{\n\t\tprivate static readonly FAST_SLOW_RATIO = 3;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn AbstractStochasticIndicatorLayer.getParameterNames();\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.SSTO_INTERVAL, this.kPeriod, this.dPeriod, param1);\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst points = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!points)\n\t\t\t\treturn;\n\n\t\t\tlet _loc5_ = 0;\n\t\t\tlet _loc6_ = 0;\n\t\t\tconst dataSeries0 = new DataSeries();\n\t\t\tconst dataSeries1 = new DataSeries();\n\t\t\tconst dataUnits: DataUnit[] = [];\n\t\t\tconst _loc15_: number[] = [];\n\t\t\tconst _loc16_: number[] = [];\n\t\t\tfor (const point of points)\n\t\t\t{\n\t\t\t\tif (!this.shouldSkip(point, dataSeries0, dataSeries1))\n\t\t\t\t{\n\t\t\t\t\tdataUnits.push(point);\n\t\t\t\t\tif (dataUnits.length < this.kPeriod)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst indicatorPoint = new IndicatorPoint(NaN, point);\n\t\t\t\t\t\tdataSeries0.points.push(indicatorPoint);\n\t\t\t\t\t\tdataSeries1.points.push(indicatorPoint);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet _loc3_ = Number.NEGATIVE_INFINITY;\n\t\t\t\t\t\tlet _loc4_ = Number.POSITIVE_INFINITY;\n\t\t\t\t\t\tfor (let periodIndex = 0; periodIndex < this.kPeriod; periodIndex++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc3_ = Utils.extendedMax(_loc3_, dataUnits[periodIndex].high);\n\t\t\t\t\t\t\t_loc4_ = Utils.extendedMin(_loc4_, dataUnits[periodIndex].low);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_loc3_ === _loc4_)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.copyLastIndicatorPoint(point, dataSeries0, dataSeries1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst _loc9_ = (point.close - _loc4_) / (_loc3_ - _loc4_) * 100;\n\t\t\t\t\t\t\t_loc5_ = Number(_loc5_ + _loc9_);\n\t\t\t\t\t\t\t_loc15_.push(_loc9_);\n\t\t\t\t\t\t\tif (_loc15_.length < SlowStochasticIndicatorLayer.FAST_SLOW_RATIO)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst indicatorPoint = new IndicatorPoint(NaN, point);\n\t\t\t\t\t\t\t\tdataSeries0.points.push(indicatorPoint);\n\t\t\t\t\t\t\t\tdataSeries1.points.push(indicatorPoint);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst _loc10_ = _loc5_ / SlowStochasticIndicatorLayer.FAST_SLOW_RATIO;\n\t\t\t\t\t\t\t\tdataSeries0.points.push(new IndicatorPoint(_loc10_, point));\n\t\t\t\t\t\t\t\t_loc6_ = Number(_loc6_ + _loc10_);\n\t\t\t\t\t\t\t\t_loc16_.push(_loc10_);\n\t\t\t\t\t\t\t\tif (_loc16_.length < this.dPeriod)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.copyLastIndicatorPoint(point, dataSeries1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdataSeries1.points.push(new IndicatorPoint(_loc6_ / this.dPeriod, point));\n\t\t\t\t\t\t\t\t\t_loc6_ = Number(_loc6_ - _loc16_.shift()!);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t_loc5_ = Number(_loc5_ - _loc15_.shift()!);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataUnits.shift();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries0, 0);\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries1, 1);\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.Const;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class VolumeDependentIndicatorLayer extends IndicatorLayer\n\t{\n\t\tprotected getYPos(context: Context, indicatorPoint: IndicatorPoint): number\n\t\t{\n\t\t\treturn this.viewPoint.maxy - indicatorPoint.getValue() * this.localYScale;\n\t\t}\n\n\t\tgetContext(context: Context, param2 = false)\n\t\t{\n\t\t\treturn context;\n\t\t}\n\n\t\tprotected calculateLocalScaleMeters(context: Context)\n\t\t{\n\t\t\tthis.localYScale = (this.viewPoint.maxy - this.viewPoint.miny - Const.BOTTOM_VIEWPOINT_HEADER_HEIGHT) / context.maxVolume;\n\t\t}\n\t}\n}\n","/// <reference path=\"VolumeDependentIndicatorLayer.ts\" />\n\nnamespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.Utils;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.Const;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class VMAIndicatorLayer extends VolumeDependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"period\"];\n\n\t\tprotected periods = [20];\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn VMAIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tisNameTextRequired(): boolean\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tlet _loc5_ = 1000;\n\t\t\tif (context && context.maxVolume / 1000000 > 0.5)\n\t\t\t\t_loc5_ = 1000000;\n\n\t\t\tif (param1 >= 0 && param1 < this.periods.length)\n\t\t\t\treturn Message.getMsg(Messages.VMA_INTERVAL, this.periods[param1], param3, Utils.numberToString(param2 / _loc5_, 2, 4));\n\n\t\t\treturn \"\";\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 >= 0 && param1 < this.periods.length)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst pointsInIntervalArray = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tfor (let _loc4_ = 0; _loc4_ < this.periods.length; _loc4_++)\n\t\t\t{\n\t\t\t\tconst dataSeries = new DataSeries();\n\t\t\t\tlet _loc3_ = 0;\n\t\t\t\tconst _loc8_: number[] = [];\n\t\t\t\tfor (const originalPoint of pointsInIntervalArray)\n\t\t\t\t{\n\t\t\t\t\tif (!this.shouldSkip(originalPoint, dataSeries))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst volume = originalPoint.volumes[interval];\n\t\t\t\t\t\tif (volume === 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.copyLastIndicatorPoint(originalPoint, dataSeries);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc3_ = Number(_loc3_ + volume);\n\t\t\t\t\t\t\t_loc8_.push(volume);\n\t\t\t\t\t\t\tlet point: IndicatorPoint;\n\t\t\t\t\t\t\tif (_loc8_.length < this.periods[_loc4_])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpoint = new IndicatorPoint(NaN, originalPoint);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpoint = new IndicatorPoint(_loc3_ / this.periods[_loc4_], originalPoint);\n\t\t\t\t\t\t\t\t_loc3_ = Number(_loc3_ - _loc8_.shift()!);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdataSeries.points.push(point);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.indicator.setDataSeries(interval, dataSeries, _loc4_);\n\t\t\t}\n\t\t}\n\n\t\tprotected getColor(param1: number, param2 = NaN): number\n\t\t{\n\t\t\tif (Const.VOLUME_PLUS_ENABLED)\n\t\t\t{\n\t\t\t\tswitch (param1)\n\t\t\t\t{\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn Const.COLOR_BLUE;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn Const.COLOR_YELLOW;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn Const.COLOR_PINK;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn super.getColor(param1 + 1);\n\t\t\t}\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length === 0)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.periods = [];\n\t\t\tfor (const indicator of indicators)\n\t\t\t\tthis.periods.push(indicator.period);\n\t\t}\n\t}\n}\n","namespace com.google.finance.indicator\n{\n\t// import com.google.finance.Messages;\n\t// import com.google.finance.DataUnit;\n\t// import com.google.finance.DataSeries;\n\t// import com.google.finance.Utils;\n\t// import com.google.finance.ViewPoint;\n\t// import com.google.finance.DataSource;\n\n\texport class WilliamsPercentRIndicatorLayer extends IndependentIndicatorLayer\n\t{\n\t\tprivate static readonly PARAMETER_NAMES: ReadonlyArray<string> = [\"period\"];\n\n\t\tprivate period = 10;\n\n\t\tstatic getParameterNames()\n\t\t{\n\t\t\treturn WilliamsPercentRIndicatorLayer.PARAMETER_NAMES;\n\t\t}\n\n\t\tprotected getIndicatorValueText(param1: number, param2: number, param3: string, context: Context): string\n\t\t{\n\t\t\tif (param1 === 0)\n\t\t\t\treturn Message.getMsg(Messages.PR_WPR, param2);\n\n\t\t\treturn \"\";\n\t\t}\n\n\t\tprotected getLineStyle(param1: number): number\n\t\t{\n\t\t\tif (param1 === 0)\n\t\t\t\treturn IndicatorLineStyle.SIMPLE_LINE;\n\n\t\t\treturn IndicatorLineStyle.NONE;\n\t\t}\n\n\t\tprotected getIndicatorNameText(param1: string): string\n\t\t{\n\t\t\treturn Message.getMsg(Messages.WPR_INTERVAL, this.period, param1);\n\t\t}\n\n\t\tcomputeIntervalIndicator(interval: number)\n\t\t{\n\t\t\tif (this.indicator.hasInterval(interval))\n\t\t\t\treturn;\n\n\t\t\tconst pointsInIntervalArray = this.originalDataSeries.getPointsInIntervalArray(interval);\n\t\t\tif (!pointsInIntervalArray)\n\t\t\t\treturn;\n\n\t\t\tconst dataSeries = new DataSeries();\n\t\t\tconst dataUnits: DataUnit[] = [];\n\t\t\tfor (const point of pointsInIntervalArray)\n\t\t\t{\n\t\t\t\tif (!this.shouldSkip(point, dataSeries))\n\t\t\t\t{\n\t\t\t\t\tdataUnits.push(point);\n\t\t\t\t\tif (dataUnits.length < this.period)\n\t\t\t\t\t{\n\t\t\t\t\t\tdataSeries.points.push(new IndicatorPoint(NaN, point));\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet _loc3_ = Number.NEGATIVE_INFINITY;\n\t\t\t\t\t\tlet _loc4_ = Number.POSITIVE_INFINITY;\n\t\t\t\t\t\tfor (let _loc7_ = 0; _loc7_ < this.period; _loc7_++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_loc3_ = Utils.extendedMax(_loc3_, dataUnits[_loc7_].high);\n\t\t\t\t\t\t\t_loc4_ = Utils.extendedMin(_loc4_, dataUnits[_loc7_].low);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_loc3_ !== _loc4_)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst value = (_loc3_ - point.close) / (_loc3_ - _loc4_) * 100;\n\t\t\t\t\t\t\tdataSeries.points.push(new IndicatorPoint(value, point));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.copyLastIndicatorPoint(point, dataSeries);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdataUnits.shift();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.indicator.setDataSeries(interval, dataSeries, 0);\n\t\t}\n\n\t\tisOhlcDataRequired(): boolean\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tsetIndicatorInstanceArray(indicators: any[])\n\t\t{\n\t\t\tif (!indicators || indicators.length !== 1)\n\t\t\t\treturn;\n\n\t\t\tthis.indicator.clear();\n\t\t\tthis.period = (<WilliamsPercentRIndicatorLayer><any>indicators[0]).period;\n\t\t}\n\t}\n}\n","/// <reference path=\"../../../../flash/display/Sprite.ts\" />\n\nnamespace com.google.finance.ui\n{\n\t// import flash.display.Sprite;\n\t// import flash.text.TextFormat;\n\t// import flash.text.TextField;\n\t// import flash.display.SimpleButton;\n\t// import flash.events.MouseEvent;\n\t// import flash.text.TextFieldAutoSize;\n\t// import flash.events.Event;\n\n\texport class ButtonsGroup extends flash.display.Sprite\n\t{\n\t\tprivate static readonly DEFAULT_SPACING = 5;\n\t\tprivate static readonly DEFAULT_SEPARATOR = \"\";\n\t\tprivate static readonly DEFAULT_LEFT_PADDING = 0;\n\n\t\tprivate currentX: number;\n\t\tprivate currentY: number;\n\n\t\tlistenerObjects: flash.display.DisplayObject[];\n\t\tbuttons: flash.display.SimpleButton[];\n\t\tspacing = ButtonsGroup.DEFAULT_SPACING;\n\t\tlistenerFunctions: ((object: any, text: string) => void)[];\n\t\tseparatorTextFormat: flash.text.TextFormat;\n\t\tleftPadding = ButtonsGroup.DEFAULT_LEFT_PADDING;\n\t\tbuttonTextFormat: flash.text.TextFormat;\n\t\tseparator = ButtonsGroup.DEFAULT_SEPARATOR;\n\t\tselectedTextFormat: flash.text.TextFormat;\n\n\t\tconstructor()\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.resetButtonsGroup();\n\t\t}\n\n\t\tprivate getNextButtonPosition()\n\t\t{\n\t\t\treturn {\n\t\t\t\tx: this.currentX,\n\t\t\t\ty: this.currentY\n\t\t\t};\n\t\t}\n\n\t\tsetSpacing(separator: string, spacing: number)\n\t\t{\n\t\t\tthis.separator = separator;\n\t\t\tthis.spacing = spacing;\n\t\t}\n\n\t\taddButton(text: string, textFormat?: flash.text.TextFormat, param3 = NaN, param4 = NaN)\n\t\t{\n\t\t\tif (this.buttons.length > 0 && this.separator !== \"\")\n\t\t\t{\n\t\t\t\tthis.currentX += this.putSeparator(this.currentX, this.currentY, this.separator).width;\n\t\t\t}\n\t\t\tconst button = this.attachButton(text, textFormat, param3, param4);\n\t\t\tthis.currentX += button.width + this.spacing;\n\t\t\tthis.buttons.push(button);\n\t\t\tbutton.addEventListener(MouseEvents.MOUSE_DOWN, (event) => { this.buttonPress(event); });\n\t\t}\n\n\t\tprotected getButtonIndex(name: string): number\n\t\t{\n\t\t\tlet index = this.buttons.length - 1;\n\t\t\twhile (index >= 0 && this.buttons[index].name !== name)\n\t\t\t\tindex--;\n\n\t\t\treturn index;\n\t\t}\n\n\t\tprivate putSeparator(x: number, y: number, text: string): flash.text.TextField\n\t\t{\n\t\t\tconst textField = new flash.text.TextField();\n\t\t\ttextField.x = x - this.spacing / 2;\n\t\t\ttextField.y = y;\n\t\t\ttextField.defaultTextFormat = this.separatorTextFormat;\n\t\t\ttextField.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\ttextField.selectable = false;\n\t\t\ttextField.text = text;\n\t\t\tthis.addChild(textField);\n\t\t\treturn textField;\n\t\t}\n\n\t\tprotected attachButton(text: string, textFormat?: flash.text.TextFormat, param3 = NaN, param4 = NaN): flash.display.SimpleButton\n\t\t{\n\t\t\tconst simpleButton = new flash.display.SimpleButton();\n\t\t\tconst nextButtonPosition = this.getNextButtonPosition();\n\t\t\tsimpleButton.x = nextButtonPosition.x;\n\t\t\tsimpleButton.y = nextButtonPosition.y;\n\t\t\tsimpleButton.useHandCursor = true;\n\t\t\tconst textField = new flash.text.TextField();\n\t\t\tconst sprite = new flash.display.Sprite();\n\t\t\tsprite.addChild(textField);\n\t\t\t//const _loc7_ = _loc8_;\n\t\t\ttextField.defaultTextFormat = textFormat ? textFormat : this.buttonTextFormat;\n\t\t\ttextField.text = text;\n\t\t\ttextField.autoSize = flash.text.TextFieldAutoSize.LEFT;\n\t\t\tsimpleButton.upState = sprite;\n\t\t\tsimpleButton.downState = sprite;\n\t\t\tsimpleButton.overState = sprite;\n\t\t\tsimpleButton.hitTestState = sprite;\n\t\t\tsimpleButton.name = text;\n\t\t\tthis.addChild(simpleButton);\n\t\t\treturn simpleButton;\n\t\t}\n\n\t\tsetLeftPadding(x: number)\n\t\t{\n\t\t\tthis.leftPadding = x;\n\t\t\tthis.currentX = x;\n\t\t}\n\n\t\tresetButtonsGroup()\n\t\t{\n\t\t\tconst numButtons = this.buttons ? this.buttons.length : 0;\n\t\t\tfor (let buttonIndex = 0; buttonIndex < numButtons; buttonIndex++)\n\t\t\t{\n\t\t\t\tthis.buttons[buttonIndex].removeEventListener(MouseEvents.MOUSE_DOWN, this.buttonPress);\n\t\t\t\tthis.removeChild(this.buttons[buttonIndex]);\n\t\t\t}\n\t\t\tthis.buttons = [];\n\t\t\tthis.listenerFunctions = [];\n\t\t\tthis.listenerObjects = [];\n\t\t\tthis.currentX = 0;\n\t\t\tthis.currentY = 0;\n\t\t}\n\n\t\tbuttonPress(event: Event)\n\t\t{\n\t\t\tconst button = (<any>event.currentTarget).displayObject as flash.display.SimpleButton;\n\t\t\tconst textField = (<flash.display.DisplayObjectContainer>button.upState).getChildAt(0) as flash.text.TextField;\n\t\t\tconst buttonIndex = this.getButtonIndex(textField.text);\n\t\t\tif (buttonIndex !== -1)\n\t\t\t{\n\t\t\t\tfor (let functionIndex = 0; functionIndex < this.listenerFunctions.length; functionIndex++)\n\t\t\t\t{\n\t\t\t\t\tthis.listenerFunctions[functionIndex].call(this.listenerObjects[functionIndex], textField.text);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetTextFormats(buttonTextFormat: flash.text.TextFormat, selectedTextFormat: flash.text.TextFormat, separatorTextFormat: flash.text.TextFormat)\n\t\t{\n\t\t\tthis.buttonTextFormat = buttonTextFormat;\n\t\t\tthis.selectedTextFormat = selectedTextFormat;\n\t\t\tthis.separatorTextFormat = separatorTextFormat;\n\t\t}\n\n\t\taddListener(listenerFunction: (object: any, text: string) => void, displayObject: flash.display.DisplayObject)\n\t\t{\n\t\t\tthis.listenerFunctions.push(listenerFunction);\n\t\t\tthis.listenerObjects.push(displayObject);\n\t\t}\n\n\t\taddPlainText(text: string, width = NaN)\n\t\t{\n\t\t\tconst nextButtonPosition = this.getNextButtonPosition();\n\t\t\tconst textField = this.putSeparator(nextButtonPosition.x, nextButtonPosition.y, text);\n\t\t\tif (!isNaN(width))\n\t\t\t\tthis.currentX += width;\n\t\t\telse\n\t\t\t\tthis.currentX += textField.width;\n\t\t}\n\t}\n}\n","namespace com.google.finance.ui\n{\n\t// import flash.events.Event;\n\t// import flash.display.Sprite;\n\t// import flash.display.SimpleButton;\n\t// import flash.text.TextField;\n\n\texport class TextButtonsGroup extends ButtonsGroup\n\t{\n\t\tprivate currentButton: number = -1;\n\n\t\tbuttonPress(event: Event)\n\t\t{\n\t\t\tsuper.buttonPress(event);\n\t\t\tconst button = (<any>event.currentTarget).displayObject as flash.display.SimpleButton;\n\t\t\tconst textField = (<flash.display.DisplayObjectContainer>button.upState).getChildAt(0) as flash.text.TextField;\n\t\t\tthis.selectButton(textField.text);\n\t\t}\n\n\t\tprivate selectButton(name: string): number\n\t\t{\n\t\t\tconst buttonIndex = this.getButtonIndex(name);\n\t\t\tthis.selectButtonByIndex(buttonIndex);\n\t\t\treturn buttonIndex;\n\t\t}\n\n\t\tselectButtonByIndex(buttonIndex: number)\n\t\t{\n\t\t\tthis.deselectButton(this.currentButton);\n\t\t\tif (buttonIndex >= 0 && buttonIndex < this.buttons.length)\n\t\t\t{\n\t\t\t\tconst button = this.buttons[buttonIndex];\n\t\t\t\tconst textField = (<flash.display.DisplayObjectContainer>button.upState).getChildAt(0) as flash.text.TextField;\n\t\t\t\ttextField.setTextFormat(this.selectedTextFormat);\n\t\t\t\tthis.currentButton = buttonIndex;\n\t\t\t}\n\t\t}\n\n\t\tclearSelection()\n\t\t{\n\t\t\tthis.deselectButton(this.currentButton);\n\t\t\tthis.currentButton = -1;\n\t\t}\n\n\t\tprivate deselectButton(buttonIndex: number)\n\t\t{\n\t\t\tif (buttonIndex !== -1)\n\t\t\t{\n\t\t\t\tconst button = this.buttons[buttonIndex];\n\t\t\t\tconst textField = (<flash.display.DisplayObjectContainer>button.upState).getChildAt(0) as flash.text.TextField;\n\t\t\t\ttextField.setTextFormat(this.buttonTextFormat);\n\t\t\t}\n\t\t}\n\t}\n}\n","namespace com.google.i18n.locale\n{\n\texport class DateTimeConstants\n\t{\n\t\tprivate static DateTimeConstants_en = {\n\t\t\tERAS: [\"BC\", \"AD\"],\n\t\t\tERANAMES: [\"Before Christ\", \"Anno Domini\"],\n\t\t\tNARROWMONTHS: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n\t\t\tMONTHS: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tSHORTMONTHS: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\tWEEKDAYS: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\t\tSHORTWEEKDAYS: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\t\tNARROWWEEKDAYS: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n\t\t\tSHORTQUARTERS: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n\t\t\tQUARTERS: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n\t\t\tAMPMS: [\"AM\", \"PM\"],\n\t\t\tDATEFORMATS: [\"EEEE, MMMM d, y\", \"MMMM d, y\", \"MMM d, y\", \"M/d/yy\"],\n\t\t\tTIMEFORMATS: [\"h:mm:ss a zzzz\", \"h:mm:ss a z\", \"h:mm:ss a\", \"h:mm a\"],\n\t\t\tFIRSTDAYOFWEEK: 6,\n\t\t\tWEEKENDRANGE: [5, 6],\n\t\t\tFIRSTWEEKCUTOFFDAY: 2,\n\t\t};\n\n\t\tstatic register(registerResource: (resource: Dictionary, locale: string) => void): boolean\n\t\t{\n\t\t\tregisterResource(DateTimeConstants.DateTimeConstants_en, \"en\");\n\t\t\treturn true;\n\t\t}\n\n\t\tprivate static _staticConstructor = (() =>\n\t\t{\n\t\t\tconst consts: Dictionary = DateTimeConstants.DateTimeConstants_en;\n\t\t\tconsts[\"STANDALONENARROWMONTHS\"] = DateTimeConstants.DateTimeConstants_en.NARROWMONTHS;\n\t\t\tconsts[\"STANDALONEMONTHS\"] = DateTimeConstants.DateTimeConstants_en.MONTHS;\n\t\t\tconsts[\"STANDALONESHORTMONTHS\"] = DateTimeConstants.DateTimeConstants_en.SHORTMONTHS;\n\t\t\tconsts[\"STANDALONEWEEKDAYS\"] = DateTimeConstants.DateTimeConstants_en.WEEKDAYS;\n\t\t\tconsts[\"STANDALONESHORTWEEKDAYS\"] = DateTimeConstants.DateTimeConstants_en.SHORTWEEKDAYS;\n\t\t\tconsts[\"STANDALONENARROWWEEKDAYS\"] = DateTimeConstants.DateTimeConstants_en.NARROWWEEKDAYS;\n\t\t\treturn true;\n\t\t})();\n\t}\n}\n","/// <reference path=\"DateTimeConstants.ts\"/>\n\nnamespace com.google.i18n.locale\n{\n\tenum PatternPartTypes\n\t{\n\t\tQUOTED_STRING = 0,\n\t\tFIELD = 1,\n\t\tLITERAL = 2,\n\t}\n\n\tclass PatternPart\n\t{\n\t\tconstructor(public text: string, public type: PatternPartTypes) { }\n\t}\n\n\texport class DateTimeFormat\n\t{\n\t\tprivate tokensHash: { [key: string]: boolean } = {};\n\t\tprivate symbols: Dictionary = DateTimeLocale.getResource(DateTimeLocale.getLocale());\n\t\tprivate TOKENS = \"GyMkSEahKHcLQdmsvzZ\";\n\t\tprivate patternParts: PatternPart[] = [];\n\n\t\tconstructor(private isUtc = false)\n\t\t{\n\t\t\tfor (let tokenIndex = 0; tokenIndex < this.TOKENS.length; tokenIndex++)\n\t\t\t\tthis.tokensHash[this.TOKENS.substr(tokenIndex, 1)] = true;\n\t\t}\n\n\t\tapplyPattern(pattern: string)\n\t\t{\n\t\t\tlet _loc2_ = 0;\n\t\t\tconst length = pattern.length;\n\t\t\twhile (_loc2_ < pattern.length)\n\t\t\t{\n\t\t\t\tlet _loc5_ = _loc2_;\n\t\t\t\twhile (_loc5_ < length && !this.tokensHash[pattern.substr(_loc5_, 1)])\n\t\t\t\t\t_loc5_++;\n\n\t\t\t\tif (_loc5_ !== _loc2_)\n\t\t\t\t{\n\t\t\t\t\tconst literal = pattern.substring(_loc2_, _loc5_);\n\t\t\t\t\tthis.patternParts.push(new PatternPart(literal, PatternPartTypes.LITERAL));\n\t\t\t\t}\n\t\t\t\t_loc2_ = _loc5_;\n\t\t\t\twhile (_loc5_ < length && this.tokensHash[pattern.substr(_loc5_, 1)] && pattern.charAt(_loc5_) === pattern.charAt(_loc2_))\n\t\t\t\t\t_loc5_++;\n\n\t\t\t\tif (_loc5_ !== _loc2_)\n\t\t\t\t{\n\t\t\t\t\tconst field = pattern.substring(_loc2_, _loc5_);\n\t\t\t\t\tthis.patternParts.push(new PatternPart(field, PatternPartTypes.FIELD));\n\t\t\t\t}\n\t\t\t\t_loc2_ = _loc5_;\n\t\t\t}\n\t\t}\n\n\t\tprivate formatField(field: string, date: Date): string\n\t\t{\n\t\t\tconst fieldLength = field.length;\n\t\t\tswitch (field.charAt(0))\n\t\t\t{\n\t\t\t\tcase 'G':\n\t\t\t\t\treturn this.formatEra(fieldLength, date);\n\t\t\t\tcase 'y':\n\t\t\t\t\treturn this.formatYear(fieldLength, date);\n\t\t\t\tcase 'M':\n\t\t\t\t\treturn this.formatMonth(fieldLength, date);\n\t\t\t\tcase 'k':\n\t\t\t\t\treturn this.format24Hours(fieldLength, date);\n\t\t\t\tcase 'S':\n\t\t\t\t\treturn this.formatFractionalSeconds(fieldLength, date);\n\t\t\t\tcase 'E':\n\t\t\t\t\treturn this.formatDayOfWeek(fieldLength, date);\n\t\t\t\tcase 'a':\n\t\t\t\t\treturn this.formatAmPm(fieldLength, date);\n\t\t\t\tcase 'h':\n\t\t\t\t\treturn this.format1To12Hours(fieldLength, date);\n\t\t\t\tcase 'K':\n\t\t\t\t\treturn this.format0To11Hours(fieldLength, date);\n\t\t\t\tcase 'H':\n\t\t\t\t\treturn this.format0To23Hours(fieldLength, date);\n\t\t\t\tcase 'c':\n\t\t\t\t\treturn this.formatStandaloneDay(fieldLength, date);\n\t\t\t\tcase 'L':\n\t\t\t\t\treturn this.formatStandaloneMonth(fieldLength, date);\n\t\t\t\tcase 'Q':\n\t\t\t\t\treturn this.formatQuarter(fieldLength, date);\n\t\t\t\tcase 'd':\n\t\t\t\t\treturn this.formatDate(fieldLength, date);\n\t\t\t\tcase 'm':\n\t\t\t\t\treturn this.formatMinutes(fieldLength, date);\n\t\t\t\tcase 's':\n\t\t\t\t\treturn this.formatSeconds(fieldLength, date);\n\t\t\t\tcase 'v':\n\t\t\t\t\treturn this.formatGMT(fieldLength, date);\n\t\t\t\tcase 'z':\n\t\t\t\t\treturn this.formatGMT(fieldLength, date);\n\t\t\t\tcase 'Z':\n\t\t\t\t\treturn this.formatTimeZoneRFC(fieldLength, date);\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}\n\n\t\tprivate formatStandaloneMonth(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst month = this.isUtc ? date.getUTCMonth() : date.getMonth();\n\t\t\tswitch (fieldLength)\n\t\t\t{\n\t\t\t\tcase 5:\n\t\t\t\t\treturn (<any>this.symbols).STANDALONENARROWMONTHS[month];\n\t\t\t\tcase 4:\n\t\t\t\t\treturn (<any>this.symbols).STANDALONEMONTHS[month];\n\t\t\t\tcase 3:\n\t\t\t\t\treturn (<any>this.symbols).STANDALONESHORTMONTHS[month];\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.padNumber(month + 1, fieldLength);\n\t\t\t}\n\t\t}\n\n\t\tapplyStandardPattern(dateTimeFormat: DateTimeFormats)\n\t\t{\n\t\t\tlet pattern: string;\n\t\t\tif (dateTimeFormat < DateTimeFormats.FULL_TIME_FORMAT)\n\t\t\t\tpattern = (<any>this.symbols).DATEFORMATS[dateTimeFormat];\n\t\t\telse if (dateTimeFormat < DateTimeFormats.FULL_DATETIME_FORMAT)\n\t\t\t\tpattern = (<any>this.symbols).TIMEFORMATS[<number>dateTimeFormat - 4];\n\t\t\telse if (dateTimeFormat <= DateTimeFormats.SHORT_DATETIME_FORMAT)\n\t\t\t\tpattern = (<any>this.symbols).DATEFORMATS[<number>dateTimeFormat - 8] + ' ' + (<any>this.symbols).TIMEFORMATS[<number>dateTimeFormat - 8];\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.applyStandardPattern(DateTimeFormats.MEDIUM_DATETIME_FORMAT);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.applyPattern(pattern);\n\t\t}\n\n\t\tprivate formatMonth(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst month = this.isUtc ? date.getUTCMonth() : date.getMonth();\n\t\t\tswitch (fieldLength)\n\t\t\t{\n\t\t\t\tcase 5:\n\t\t\t\t\treturn (<any>this.symbols).NARROWMONTHS[month];\n\t\t\t\tcase 4:\n\t\t\t\t\treturn (<any>this.symbols).MONTHS[month];\n\t\t\t\tcase 3:\n\t\t\t\t\treturn (<any>this.symbols).SHORTMONTHS[month];\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.padNumber(month + 1, fieldLength);\n\t\t\t}\n\t\t}\n\n\t\tprivate formatDate(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst day = this.isUtc ? date.getUTCDate() : date.getDate();\n\t\t\treturn this.padNumber(day, fieldLength);\n\t\t}\n\n\t\tprivate formatSeconds(fieldLength: number, date: Date): string\n\t\t{\n\t\t\treturn this.padNumber(date.getSeconds(), fieldLength);\n\t\t}\n\n\t\tprivate formatYear(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst year = this.isUtc ? date.getUTCFullYear() : date.getFullYear();\n\t\t\treturn fieldLength === 2 ? this.padNumber(year % 100, 2) : String(year);\n\t\t}\n\n\t\tprivate format24Hours(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst hour = this.isUtc ? date.getUTCHours() : date.getHours();\n\t\t\treturn this.padNumber(hour, fieldLength);\n\t\t}\n\n\t\tprivate formatGMT(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tlet timezoneOffset = date.getTimezoneOffset();\n\t\t\tconst parts: string[] = [];\n\t\t\tif (timezoneOffset > 0)\n\t\t\t{\n\t\t\t\tparts.push(\"GMT-\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttimezoneOffset = -timezoneOffset;\n\t\t\t\tparts.push(\"GMT+\");\n\t\t\t}\n\t\t\tparts.push(this.padNumber(timezoneOffset / 60, 2));\n\t\t\tparts.push(':');\n\t\t\tparts.push(this.padNumber(timezoneOffset % 60, 2));\n\t\t\treturn parts.join(\"\");\n\t\t}\n\n\t\tprivate format1To12Hours(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst hour = this.isUtc ? date.getUTCHours() : date.getHours();\n\t\t\treturn this.padNumber(((hour + 11) % 12) + 1, fieldLength);\n\t\t}\n\n\t\tprivate formatEra(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst year = this.isUtc ? date.getUTCFullYear() > 0 ? 1 : 0 : date.getFullYear() > 0 ? 1 : 0;\n\t\t\treturn fieldLength >= 4 ? (<any>this.symbols).ERANAMES[year] : (<any>this.symbols).ERAS[year];\n\t\t}\n\n\t\tprivate formatTimeZoneRFC(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tif (fieldLength < 4)\n\t\t\t{\n\t\t\t\tlet timezoneOffset = date.getTimezoneOffset();\n\t\t\t\tlet sign = '-';\n\t\t\t\tif (timezoneOffset < 0)\n\t\t\t\t{\n\t\t\t\t\ttimezoneOffset = -timezoneOffset;\n\t\t\t\t\tsign = '+';\n\t\t\t\t}\n\t\t\t\ttimezoneOffset = timezoneOffset / 3 * 5 + timezoneOffset % 60;\n\t\t\t\treturn sign + this.padNumber(timezoneOffset, 4);\n\t\t\t}\n\t\t\treturn this.formatGMT(fieldLength, date);\n\t\t}\n\n\t\tprivate format0To23Hours(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst hour = this.isUtc ? date.getUTCHours() : date.getHours();\n\t\t\treturn this.padNumber(hour, fieldLength);\n\t\t}\n\n\t\tprivate formatFractionalSeconds(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst seconds = date.getTime() % 1000 / 1000;\n\t\t\treturn String(seconds);\n\t\t}\n\n\t\tprivate formatAmPm(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst hour = this.isUtc ? date.getUTCHours() : date.getHours();\n\t\t\treturn (<any>this.symbols).AMPMS[hour >= 12 && hour < 24 ? 1 : 0];\t// TODO\n\t\t}\n\n\t\tprivate formatMinutes(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst minute = this.isUtc ? date.getUTCMinutes() : date.getMinutes();\n\t\t\treturn this.padNumber(minute, fieldLength);\n\t\t}\n\n\t\tprivate format0To11Hours(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst hour = this.isUtc ? date.getUTCHours() : date.getHours();\n\t\t\treturn this.padNumber(hour % 12, fieldLength);\n\t\t}\n\n\t\tprivate formatStandaloneDay(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst day = this.isUtc ? date.getUTCDay() : date.getDay();\n\t\t\tswitch (fieldLength)\n\t\t\t{\n\t\t\t\tcase 5:\n\t\t\t\t\treturn (<any>this.symbols).STANDALONENARROWWEEKDAYS[day];\n\t\t\t\tcase 4:\n\t\t\t\t\treturn (<any>this.symbols).STANDALONEWEEKDAYS[day];\n\t\t\t\tcase 3:\n\t\t\t\t\treturn (<any>this.symbols).STANDALONESHORTWEEKDAYS[day];\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.padNumber(day, 1);\n\t\t\t}\n\t\t}\n\n\t\tprivate formatQuarter(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst month = this.isUtc ? date.getUTCMonth() : date.getMonth();\n\t\t\tconst quarter = Math.floor(month / 3);\n\t\t\treturn fieldLength < 4 ? (<any>this.symbols).SHORTQUARTERS[quarter] : (<any>this.symbols).QUARTERS[quarter];\n\t\t}\n\n\t\tformat(date: Date): string\n\t\t{\n\t\t\tconst parts: string[] = [];\n\t\t\tfor (const part of this.patternParts)\n\t\t\t{\n\t\t\t\tconst partText = part.text;\n\t\t\t\tif (PatternPartTypes.FIELD === part.type)\n\t\t\t\t\tparts.push(this.formatField(partText, date));\n\t\t\t\telse\n\t\t\t\t\tparts.push(partText);\n\t\t\t}\n\t\t\treturn parts.join(\"\");\n\t\t}\n\n\t\tprivate padNumber(value: number, param2: number): string\n\t\t{\n\t\t\tconst _loc3_ = Math.floor(value);\n\t\t\tconst _loc4_ = String(_loc3_);\n\t\t\tlet padding = \"\";\n\n\t\t\tfor (let _loc6_ = 0; _loc6_ < Math.max(0, param2 - _loc4_.length); _loc6_++)\n\t\t\t\tpadding += '0';\n\n\t\t\treturn padding + _loc3_;\n\t\t}\n\n\t\tprivate formatDayOfWeek(fieldLength: number, date: Date): string\n\t\t{\n\t\t\tconst day = this.isUtc ? date.getUTCDay() : date.getDay();\n\t\t\treturn fieldLength >= 4 ? (<any>this.symbols).WEEKDAYS[day] : (<any>this.symbols).SHORTWEEKDAYS[day];\n\t\t}\n\t}\n}\n","namespace flash.display\n{\n\texport class Graphics\n\t{\n\t\tprivate static _pending: Graphics[] = [];\n\t\tprivate static _blitCanvas: HTMLCanvasElement;\n\t\tprivate static _blitContext: CanvasRenderingContext2D;\n\n\t\tprivate _context: CanvasRenderingContext2D;\n\t\tprivate _fill = false;\n\t\tprivate _path = false;\n\t\tprivate _pending = false;\n\n\t\tconstructor(private readonly element: HTMLElement)\n\t\t{\n\t\t\t//this._context = context;\n\t\t}\n\n\t\tstatic initialize()\n\t\t{\n\t\t\tGraphics._blitCanvas = document.createElement(\"canvas\");\n\t\t\tGraphics._blitContext = Graphics._blitCanvas.getContext(\"2d\")!;\n\t\t}\n\n\t\tstatic cleanupPending()\n\t\t{\n\t\t\tconst pending = Graphics._pending;\n\t\t\tfor (const graphics of pending)\n\t\t\t{\n\t\t\t\tif (graphics._pending)\n\t\t\t\t{\n\t\t\t\t\tgraphics._pending = false;\n\t\t\t\t\tgraphics.endFill();\n\t\t\t\t\tgraphics.endStroke();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpending.length = 0;\n\t\t}\n\n\t\tget width() { return this._maxx || 0; }\n\t\tget height() { return this._maxy || 0; }\n\n\t\tprivate ensureCanvas()\n\t\t{\n\t\t\tif (!this._context)\n\t\t\t{\n\t\t\t\tconst canvas = document.createElement(\"canvas\");\n\t\t\t\tcanvas.width = canvas.height = 0;\n\t\t\t\tthis.element.appendChild(canvas);\n\t\t\t\tthis._context = canvas.getContext(\"2d\")!;\n\t\t\t}\n\t\t}\n\n\t\tprivate _sized = false;\n\t\t_minx: number;\n\t\t_maxx: number;\n\t\t_miny: number;\n\t\t_maxy: number;\n\n\t\tprivate ensure(x: number, y: number)\n\t\t{\n\t\t\tif (isNaN(x) || isNaN(y))\n\t\t\t{\n\t\t\t\t// TODO: track these down\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.ensureCanvas();\n\n\t\t\tconst context = this._context;\n\t\t\tconst canvas = context.canvas;\n\n\t\t\tconst to2 = this._thickness / 2 || 0;\n\t\t\tconst minx = Math.floor(x - to2);\n\t\t\tconst maxx = Math.ceil(x + to2);\n\t\t\tconst miny = Math.floor(y - to2);\n\t\t\tconst maxy = Math.ceil(y - to2);\n\n\t\t\tif (!this._sized)\n\t\t\t{\n\t\t\t\tthis._minx = minx;\n\t\t\t\tthis._maxx = maxx;\n\t\t\t\tthis._miny = miny;\n\t\t\t\tthis._maxy = maxy;\n\t\t\t\tcanvas.style.left = this._minx + \"px\";\n\t\t\t\tcanvas.style.top = this._miny + \"px\";\n\t\t\t\tthis._sized = true;\n\t\t\t\t//if (this._fill || this._path)\n\t\t\t\t//\tconsole.log(\"ensure during path\");\n\n\t\t\t\tcontext.lineWidth = this._thickness;\n\t\t\t\tcontext.lineCap = (this._thickness > 4) ? \"round\" : \"butt\";\n\t\t\t\tcontext.strokeStyle = cssColor(this._color, this._alpha);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this._minx <= minx && this._maxx >= maxx &&\n\t\t\t\tthis._miny <= miny && this._maxy >= maxy)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//if (this._fill || this._path)\n\t\t\t//\tconsole.log(\"ensure during path\");\n\n\t\t\tconst oldminx = this._minx;\n\t\t\tconst oldminy = this._miny;\n\t\t\t//let oldmaxx = this._maxx;\n\t\t\t//let oldmaxy = this._maxy;\n\n\t\t\tif (this._minx > minx)\n\t\t\t{\n\t\t\t\tthis._minx = Math.floor(minx);\n\t\t\t\tcanvas.style.left = this._minx + \"px\";\n\t\t\t}\n\t\t\tif (this._maxx < maxx)\n\t\t\t\tthis._maxx = Math.ceil(maxx);\n\n\t\t\tif (this._miny > miny)\n\t\t\t{\n\t\t\t\tthis._miny = Math.floor(miny);\n\t\t\t\tcanvas.style.top = this._miny + \"px\";\n\t\t\t}\n\t\t\tif (this._maxy < maxy)\n\t\t\t\tthis._maxy = Math.ceil(maxy);\n\n\t\t\tconst w = this._maxx - this._minx;\n\t\t\tconst h = this._maxy - this._miny;\n\n\t\t\t/*\n\t\t\tif (w <= 0 || h <= 0)\n\t\t\t\treturn;\n\t\t\t*/\n\n\t\t\tconst oldWidth = canvas.width;\n\t\t\tconst oldHeight = canvas.height;\n\n\t\t\tif (oldWidth === 0 || oldHeight === 0)\n\t\t\t{\n\t\t\t\tcanvas.width = w + 5;\n\t\t\t\tcanvas.height = h + 5;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (Graphics._blitCanvas.width < oldWidth)\n\t\t\t\t\tGraphics._blitCanvas.width = oldWidth;\n\t\t\t\tif (Graphics._blitCanvas.height < oldHeight)\n\t\t\t\t\tGraphics._blitCanvas.height = oldHeight;\n\n\t\t\t\tconst globalCompositeOperation = context.globalCompositeOperation;\n\t\t\t\tcontext.globalCompositeOperation = \"copy\";\n\t\t\t\tGraphics._blitContext.globalCompositeOperation = \"copy\";\n\t\t\t\tGraphics._blitContext.drawImage(canvas, 0, 0);\n\t\t\t\tcontext.globalCompositeOperation = globalCompositeOperation;\n\n\t\t\t\tcanvas.width = w + 5;\n\t\t\t\tcanvas.height = h + 5;\n\n\t\t\t\tcontext.drawImage(\n\t\t\t\t\tGraphics._blitCanvas,\n\t\t\t\t\t0, 0,\n\t\t\t\t\toldWidth, oldHeight,\n\t\t\t\t\toldminx - this._minx, oldminy - this._miny,\n\t\t\t\t\toldWidth, oldHeight\n\t\t\t\t);\n\t\t\t}\t\n\n\t\t\tcontext.lineWidth = this._thickness;\n\t\t\tcontext.lineCap = (this._thickness > 4) ? \"round\" : \"butt\";\n\t\t\tcontext.strokeStyle = cssColor(this._color, this._alpha);\n\t\t}\n\n\t\t_x: number;\n\t\t_y: number;\n\n\t\tmoveTo(x: number, y: number)\n\t\t{\n\t\t\tthis.ensure(x, y);\n\n\t\t\tthis.beginStroke();\n\t\t\tthis._ops.push(() =>\n\t\t\t{\n\t\t\t\tthis._context.moveTo(x - this._minx, y - this._miny);\n\t\t\t});\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t}\n\n\t\tlineTo(x: number, y: number)\n\t\t{\n\t\t\tthis.ensure(x, y);\n\n\t\t\tthis.beginStroke();\n\t\t\tthis._ops.push(() =>\n\t\t\t{\n\t\t\t\tthis._context.lineTo(x - this._minx, y - this._miny);\n\t\t\t});\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t}\n\n\t\tbeginFill(color: number, alpha = 1)\n\t\t{\n\t\t\tthis.endFill();\n\t\t\tthis.endStroke();\n\n\t\t\tthis.ensureCanvas();\n\t\t\tthis._ops.push(() =>\n\t\t\t{\n\t\t\t\tthis._context.fillStyle = cssColor(color, alpha);\n\t\t\t\tthis._context.beginPath();\n\t\t\t});\n\t\t\tthis._fill = true;\n\t\t}\n\n\t\tendFill()\n\t\t{\n\t\t\tif (this._fill)\n\t\t\t{\n\t\t\t\tthis._fill = false;\n\t\t\t\tthis.flushOps();\n\t\t\t\tthis._context.fill();\n\t\t\t\tthis.endStroke();\n\t\t\t}\n\t\t}\n\n\t\t_thickness: number = 1;\n\t\t_color: number = 0;\n\t\t_alpha: number = 1;\n\n\t\tlineStyle(thickness: number, color: number, alpha = 1)\n\t\t{\n\t\t\tif (thickness < 0)\n\t\t\t\tthickness = 0;\n\n\t\t\tif (alpha > 1)\n\t\t\t\talpha = 1;\n\n\t\t\tif (this._fill && this._path)\n\t\t\t\tconsole.log(\"second lineStyle during fill\");\n\t\t\tthis.endStroke();\n\n\t\t\tthis.ensureCanvas();\n\n\t\t\tif (this._thickness !== thickness)\n\t\t\t{\n\t\t\t\tthis._thickness = thickness;\n\t\t\t\tthis._ops.push(() =>\n\t\t\t\t{\n\t\t\t\t\tthis._context.lineWidth = thickness;\n\t\t\t\t\tthis._context.lineCap = (thickness > 4) ? \"round\" : \"butt\";\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this._alpha !== alpha || this._color !== color)\n\t\t\t{\n\t\t\t\tthis._alpha = alpha;\n\t\t\t\tthis._color = color;\n\t\t\t\tthis._ops.push(() =>\n\t\t\t\t{\n\t\t\t\t\tthis._context.strokeStyle = cssColor(color, alpha);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tprivate _ops: (() => void)[] = [];\n\t\tprivate flushOps()\n\t\t{\n\t\t\tfor (const op of this._ops)\n\t\t\t\top();\n\t\t\tthis._ops.length = 0;\n\t\t}\n\n\t\tprivate beginStroke()\n\t\t{\n\t\t\tif (!this._path && !this._fill)\n\t\t\t{\n\t\t\t\tthis._path = true;\n\t\t\t\tthis.ensureCanvas();\n\t\t\t\tconst x = this._x;\n\t\t\t\tconst y = this._y;\n\t\t\t\tthis._ops.push(() =>\n\t\t\t\t{\n\t\t\t\t\tthis._context.beginPath();\n\t\t\t\t\tthis._context.moveTo(x - this._minx, y - this._miny);\n\t\t\t\t});\n\n\t\t\t\tif (!this._pending)\n\t\t\t\t{\n\t\t\t\t\tthis._pending = true;\n\t\t\t\t\tGraphics._pending.push(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate endStroke()\n\t\t{\n\t\t\t//this.endFill();\n\t\t\tif (this._path)\n\t\t\t{\n\t\t\t\tthis.flushOps();\n\t\t\t\tthis._path = false;\n\t\t\t\t//if (this._alpha > 0)\n\t\t\t\tthis._context.stroke();\n\t\t\t}\n\t\t}\n\n\t\tclear()\n\t\t{\n\t\t\tif (!this._context)\n\t\t\t\treturn;\n\n\t\t\tthis._fill = false;\n\t\t\tthis._path = false;\n\t\t\tthis._ops.length = 0;\n\t\t\t//this.endFill();\n\t\t\t//this.endStroke();\n\n\t\t\tthis._context.clearRect(0, 0, this._context.canvas.width, this._context.canvas.height);\n\t\t}\n\n\t\tdrawRect(x: number, y: number, w: number, h: number)\n\t\t{\n\t\t\tthis.ensure(x, y);\n\t\t\tthis.ensure(x + w, y + h);\n\n\t\t\tif (this._fill)\n\t\t\t\tthis._ops.push(() =>\n\t\t\t\t{\n\t\t\t\t\tthis._context.fillRect(x - this._minx, y - this._miny, w, h);\n\t\t\t\t});\n\t\t\telse\n\t\t\t\tthis._ops.push(() =>\n\t\t\t\t{\n\t\t\t\t\tthis._context.rect(x - this._minx, y - this._miny, w, h);\n\t\t\t\t});\n\t\t}\n\n\t\tdrawRoundRect(x: number, y: number, w: number, h: number, rx: number, ry: number)\n\t\t{\n\t\t\tthis.drawRect(x, y, w, h);\n\t\t}\n\t}\n}\n","namespace flash.display\n{\n\texport class LoaderInfo\n\t{\n\t\turl: string;\n\t\tparameters: any;\n\t}\n}\n","namespace flash.display\n{\n\texport class SimpleButton extends DisplayObjectContainer\n\t{\n\t\tconstructor(name?: string)\n\t\t{\n\t\t\tconst elt = document.createElement(\"div\");\n\t\t\tsuper(elt, name);\n\t\t}\n\n\t\tprivate _overState: DisplayObject;\n\t\tget overState() { return this._overState; }\n\t\tset overState(value: DisplayObject)\n\t\t{\n\t\t\tif (this._overState)\n\t\t\t{\n\t\t\t\tthis._overState.element.classList.remove(\"overState\");\n\t\t\t\tthis.removeChild(this._overState);\n\t\t\t}\n\t\t\tthis._overState = value;\n\t\t\tif (value)\n\t\t\t{\n\t\t\t\tthis._overState.element.classList.add(\"overState\");\n\t\t\t\tthis.addChild(this._overState);\n\t\t\t}\n\t\t}\n\n\t\tprivate _downState: DisplayObject;\n\t\tget downState() { return this._downState; }\n\t\tset downState(value: DisplayObject)\n\t\t{\n\t\t\tif (this._downState)\n\t\t\t{\n\t\t\t\tthis._downState.element.classList.remove(\"downState\");\n\t\t\t\tthis.removeChild(this._downState);\n\t\t\t}\n\t\t\tthis._downState = value;\n\t\t\tif (value)\n\t\t\t{\n\t\t\t\tthis._downState.element.classList.add(\"downState\");\n\t\t\t\tthis.addChild(this._downState);\n\t\t\t}\n\t\t}\n\n\t\tprivate _hitTestState: DisplayObject;\n\t\tget hitTestState() { return this._hitTestState; }\n\t\tset hitTestState(value: DisplayObject)\n\t\t{\n\t\t\tif (this._hitTestState)\n\t\t\t{\n\t\t\t\tthis._hitTestState.element.classList.remove(\"hitTestState\");\n\t\t\t\tthis.removeChild(this._hitTestState);\n\t\t\t}\n\t\t\tthis._hitTestState = value;\n\t\t\tif (value)\n\t\t\t{\n\t\t\t\tthis._hitTestState.element.classList.add(\"hitTestState\");\n\t\t\t\tthis.addChild(this._hitTestState);\n\t\t\t}\n\t\t}\n\n\t\tprivate _upState: DisplayObject;\n\t\tget upState() { return this._upState; }\n\t\tset upState(value: DisplayObject)\n\t\t{\n\t\t\tif (this._upState)\n\t\t\t{\n\t\t\t\tthis._upState.element.classList.remove(\"upState\");\n\t\t\t\tthis.removeChild(this._upState);\n\t\t\t}\n\t\t\tthis._upState = value;\n\t\t\tif (value)\n\t\t\t{\n\t\t\t\tthis._upState.element.classList.add(\"upState\");\n\t\t\t\tthis.addChild(this._upState);\n\t\t\t}\n\t\t}\n\n\t\tget useHandCursor(): boolean { return this.element.classList.contains(\"handCursor\"); }\n\t\tset useHandCursor(value: boolean) { this.element.classList.toggle(\"handCursor\", value); }\n\t\tenabled: boolean;\n\n\t\tscaleX: number;\n\t\tscaleY: number;\n\t}\n}\n","namespace flash.display\n{\n\n\texport abstract class StageAlign\n\t{\n\t\tstatic readonly TOP_LEFT = \"top-left\";\n\t}\n\n\texport abstract class StageScaleMode\n\t{\n\t\tstatic readonly NO_SCALE = \"no-scale\";\n\t}\n\n\texport class Stage\n\t\textends DisplayObjectContainer\n\t{\n\t\talign: string;\n\t\tscaleMode: string;\n\n\t\tconstructor(elt: HTMLElement)\n\t\t{\n\t\t\tsuper(elt);\n\n\t\t\tGraphics.initialize();\n\n\t\t\tthis.stage = this;\n\t\t\tthis.mouseEnabled = false;\n\n\t\t\twindow.addEventListener(\"resize\", () =>\n\t\t\t{\n\t\t\t\tthis.element.dispatchEvent(new Event(\"resize\"));\n\t\t\t});\n\t\t}\n\n\t\tget width() { return this.stageWidth; }\n\t\tget height() { return this.stageHeight; }\n\n\t\tget stageWidth(): number\n\t\t{\n\t\t\treturn this.element.clientWidth;\n\t\t}\n\n\t\tget stageHeight(): number\n\t\t{\n\t\t\treturn this.element.clientHeight;\n\t\t}\n\n\t\tprivate _mouseX: number;\n\t\tprivate _mouseY: number;\n\t\tget mouseX(): number { return this._mouseX; }\n\t\tget mouseY(): number { return this._mouseY; }\n\n\t\tsetMouse(x: number, y: number)\n\t\t{\n\t\t\tconst offset = offsetOf(this.element);\n\t\t\tthis._mouseX = x - offset.left;\n\t\t\tthis._mouseY = y - offset.top;\n\t\t}\n\n\t\tstatic bind(fToBind: Function, oThis: any, ...rest: any[]): EventListener\n\t\t{\n\t\t\tconst aArgs = Array.prototype.slice.call(arguments, 2);\n\t\t\tconst fNOP = () => { };\n\t\t\tfunction fBound()\n\t\t\t{\n\t\t\t\tconst value = fToBind.apply(\n\t\t\t\t\tthis instanceof fNOP ? this : oThis,\n\t\t\t\t\taArgs.concat(Array.prototype.slice.call(arguments)));\n\n\t\t\t\tGraphics.cleanupPending();\n\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (this.prototype)\n\t\t\t\tfNOP.prototype = this.prototype;\n\n\t\t\tfBound.prototype = new (<any>fNOP)();\n\n\t\t\treturn fBound;\n\t\t}\n\t}\n}\n","namespace flash.events\n{\n\texport abstract class EventDispatcher\n\t{\n\t\tabstract addEventListener(eventType: string, listener: Function, useCapture?: boolean, priority?: number, useWeakReference?: boolean): void;\n\t}\n\n\texport class EventDispatcherImpl\n\t{\n\t\tprivate _events: Map<((event: Event) => void)[]> = {};\n\n\t\taddEventListener(eventType: string, listener: (event: Event) => void, useCapture?: boolean, priority?: number, useWeakReference?: boolean): void\n\t\t{\n\t\t\tconst listeners = this._events[eventType] || (this._events[eventType] = []);\n\t\t\tlisteners.push(listener);\n\t\t}\n\n\t\tprotected fire(name: string, ...rest: any[])\n\t\t{\n\t\t\tconst listeners = this._events[name];\n\t\t\tif (listeners)\n\t\t\t{\n\t\t\t\tfor (const listener of listeners)\n\t\t\t\t\tlistener.apply(null, rest);\n\t\t\t}\n\n\t\t\tdisplay.Graphics.cleanupPending();\n\t\t}\n\t}\n}\n","namespace flash.external\n{\n\texport class ExternalInterface\n\t{\n\t\tstatic available = true;\n\n\t\t/*\n\t\tprivate static readonly callbacks: Map<Function> = {};\n\t\tstatic addCallback(name: string, callback: Function)\n\t\t{\n\t\t\tconsole.log(\"ExternalInterface.addCallback\", name);\n\t\t\tExternalInterface.callbacks[name] = callback;\n\t\t}\n\t\t*/\n\n\t\tstatic call(name: string, ...rest: any[])\n\t\t{\n\t\t\tconsole.log.apply(console, arguments);\n\t\t}\n\t}\n}\n","namespace flash.net\n{\n\texport class URLRequest\n\t{\n\t\tconstructor(public readonly url: string) { }\n\t}\n\n\texport class URLLoader\n\t\textends events.EventDispatcherImpl\n\t{\n\t\tdata: any;\n\n\t\tload(request: URLRequest): void\n\t\t{\n\t\t\t//console.log(\"URLRequest\", request.url);\n\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.onreadystatechange = () =>\n\t\t\t{\n\t\t\t\tswitch (xhr.readyState)\n\t\t\t\t{\n\t\t\t\t\tcase XMLHttpRequest.DONE:\n\t\t\t\t\t\tthis.data = xhr.response;\n\t\t\t\t\t\tif (xhr.status === 200)\n\t\t\t\t\t\t\tthis.fire(Events.COMPLETE, xhr);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.onerror = (event) =>\n\t\t\t{\n\t\t\t\tthis.fire(IOErrorEvents.IO_ERROR, event);\n\t\t\t};\n\t\t\txhr.open(\"GET\", request.url, true);\n\t\t\txhr.send();\n\t\t}\n\t}\n}\n"]}